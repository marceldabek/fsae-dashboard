const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DOVok7Jw.js","assets/index-DoKIln6Z.css"])))=>i.map(i=>d[i]);
import{r as a,z as B,j as o,U as go,V as yo,c as $o,a as Co,f as it,A as Re,W as qt,w as Do,X as st,Y as Me,R as ko,Z as wo,$ as So,I as jo,M as Eo,_ as Ve,a0 as Bo,a1 as _t,T as No,a2 as at,k as Ao,s as Po,a3 as zo,a4 as Io}from"./index-DOVok7Jw.js";import{T as Fo,h as Ro,P as tl}from"./card-DPHmeWF8.js";import{$ as O,a as ae,b as se,c as Ke,d as Mo,e as bt,f as ll,g as Ko,h as nl,i as he,j as ol,k as To,l as Vo,m as Ee,n as Lo,o as Oo,p as Gt,q as Y,r as Ho,t as Uo,u as Ue,v as Wo,w as ht,x as qo,y as xt,z as rl,A as _o,D as ue,s as Go,T as Yo}from"./TaskCreateModal-Ai8mam_R.js";import{a5 as ve,H as vt,aF as de,aj as ct,aG as Zo,a8 as Le,T as il,O as K,L as Z,au as Qo,am as ye,aH as sl,aI as Jo,G as We,Q as gt,ak as Xo,ai as ie,V as er,aJ as Oe,aK as Yt,aL as tr,X as qe,aM as yt,aA as lr,aB as $e,aN as al,aO as Zt,aP as ce,N as Ce,Y as ee,aQ as nr,Z as _e,aD as or,aR as $t,aS as rr,aC as Qt,a2 as H}from"./modal-Da3X0Utv.js";import{c as ir}from"./clsx-B-dksMZM.js";const ul=({size:e=24,color:t="currentColor",...l})=>a.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:t,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...l},a.createElement("path",{d:"M12 5v14m0 0 7-7m-7 7-7-7"}));ul.displayName="ArrowDown";const dl=({size:e=24,color:t="currentColor",...l})=>a.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:t,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...l},a.createElement("path",{d:"m7 15 5 5 5-5M7 9l5-5 5 5"}));dl.displayName="ChevronSelectorVertical";const cl=({size:e=24,color:t="currentColor",...l})=>a.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:t,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...l},a.createElement("path",{d:"M5 15c-.932 0-1.398 0-1.765-.152a2 2 0 0 1-1.083-1.083C2 13.398 2 12.932 2 12V5.2c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 2 4.08 2 5.2 2H12c.932 0 1.398 0 1.765.152a2 2 0 0 1 1.083 1.083C15 3.602 15 4.068 15 5m-2.8 17h6.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 20.48 22 19.92 22 18.8v-6.6c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 9 19.92 9 18.8 9h-6.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C9 10.52 9 11.08 9 12.2v6.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C10.52 22 11.08 22 12.2 22Z"}));cl.displayName="Copy01";const ml=({size:e=24,color:t="currentColor",...l})=>a.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:t,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...l},a.createElement("path",{d:"M2.876 18.116c.046-.414.069-.62.131-.814a2 2 0 0 1 .234-.485c.111-.17.259-.317.553-.61L17 3a2.828 2.828 0 1 1 4 4L7.794 20.206c-.294.294-.442.442-.611.553a2 2 0 0 1-.485.233c-.193.063-.4.086-.814.132L2.5 21.5l.376-3.384Z"}));ml.displayName="Edit01";const pl=({size:e=24,color:t="currentColor",...l})=>a.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:t,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...l},a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3m.08 4h.01M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Z"}));pl.displayName="HelpCircle";function fl(e,t){const l=a.useRef(!0),n=a.useRef(null);a.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]),a.useEffect(()=>{let r=n.current;l.current?l.current=!1:(!r||t.some((i,s)=>!Object.is(i,r[s])))&&e(),n.current=t},t)}function sr(e,t,l){let n=ve(()=>{l&&l(t)});a.useEffect(()=>{var r;let i=e==null||(r=e.current)===null||r===void 0?void 0:r.form;return i?.addEventListener("reset",n),()=>{i?.removeEventListener("reset",n)}},[e,n])}function ar(e,t){let{collection:l,onLoadMore:n,scrollOffset:r=1}=e,i=a.useRef(null),s=ve(m=>{for(let c of m)c.isIntersecting&&n&&n()});vt(()=>(t.current&&(i.current=new IntersectionObserver(s,{root:de(t?.current),rootMargin:`0px ${100*r}% ${100*r}% ${100*r}%`}),i.current.observe(t.current)),()=>{i.current&&i.current.disconnect()}),[l,s,t,r])}function ur(e){const t=a.version.split(".");return parseInt(t[0],10)>=19?e:e?"true":void 0}function dr(e,t){let l=t?.isDisabled,[n,r]=a.useState(!1);return vt(()=>{if(e?.current&&!l){let i=()=>{if(e.current){let m=ct(e.current,{tabbable:!0});r(!!m.nextNode())}};i();let s=new MutationObserver(i);return s.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{s.disconnect()}}}),l?!1:n}const bl={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},hl={...bl,customError:!0,valid:!1},xe={isInvalid:!1,validationDetails:bl,validationErrors:[]},cr=a.createContext({}),He="__formValidationState"+Date.now();function xl(e){if(e[He]){let{realtimeValidation:t,displayValidation:l,updateValidation:n,resetValidation:r,commitValidation:i}=e[He];return{realtimeValidation:t,displayValidation:l,updateValidation:n,resetValidation:r,commitValidation:i}}return mr(e)}function mr(e){let{isInvalid:t,validationState:l,name:n,value:r,builtinValidation:i,validate:s,validationBehavior:m="aria"}=e;l&&(t||(t=l==="invalid"));let c=t!==void 0?{isInvalid:t,validationErrors:[],validationDetails:hl}:null,f=a.useMemo(()=>{if(!s||r==null)return null;let E=pr(s,r);return Jt(E)},[s,r]);i?.validationDetails.valid&&(i=void 0);let d=a.useContext(cr),u=a.useMemo(()=>n?Array.isArray(n)?n.flatMap(E=>mt(d[E])):mt(d[n]):[],[d,n]),[p,h]=a.useState(d),[x,y]=a.useState(!1);d!==p&&(h(d),y(!1));let g=a.useMemo(()=>Jt(x?[]:u),[x,u]),v=a.useRef(xe),[A,k]=a.useState(xe),w=a.useRef(xe),$=()=>{if(!z)return;P(!1);let E=f||i||v.current;ut(E,w.current)||(w.current=E,k(E))},[z,P]=a.useState(!1);return a.useEffect($),{realtimeValidation:c||g||f||i||xe,displayValidation:m==="native"?c||g||A:c||g||f||i||A,updateValidation(E){m==="aria"&&!ut(A,E)?k(E):v.current=E},resetValidation(){let E=xe;ut(E,w.current)||(w.current=E,k(E)),m==="native"&&P(!1),y(!0)},commitValidation(){m==="native"&&P(!0),y(!0)}}}function mt(e){return e?Array.isArray(e)?e:[e]:[]}function pr(e,t){if(typeof e=="function"){let l=e(t);if(l&&typeof l!="boolean")return mt(l)}return[]}function Jt(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:hl}:null}function ut(e,t){return e===t?!0:!!e&&!!t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every((l,n)=>l===t.validationErrors[n])&&Object.entries(e.validationDetails).every(([l,n])=>t.validationDetails[l]===n)}function fr(e,t,l){let{validationBehavior:n,focus:r}=e;vt(()=>{if(n==="native"&&l?.current&&!l.current.disabled){let f=t.realtimeValidation.isInvalid?t.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";l.current.setCustomValidity(f),l.current.hasAttribute("title")||(l.current.title=""),t.realtimeValidation.isInvalid||t.updateValidation(hr(l.current))}});let i=a.useRef(!1),s=ve(()=>{i.current||t.resetValidation()}),m=ve(f=>{var d;t.displayValidation.isInvalid||t.commitValidation();let u=l==null||(d=l.current)===null||d===void 0?void 0:d.form;if(!f.defaultPrevented&&l&&u&&xr(u)===l.current){var p;r?r():(p=l.current)===null||p===void 0||p.focus(),Zo("keyboard")}f.preventDefault()}),c=ve(()=>{t.commitValidation()});a.useEffect(()=>{let f=l?.current;if(!f)return;let d=f.form,u=d?.reset;return d&&(d.reset=()=>{i.current=!window.event||window.event.type==="message"&&window.event.target instanceof MessagePort,u?.call(d),i.current=!1}),f.addEventListener("invalid",m),f.addEventListener("change",c),d?.addEventListener("reset",s),()=>{f.removeEventListener("invalid",m),f.removeEventListener("change",c),d?.removeEventListener("reset",s),d&&(d.reset=u)}},[l,m,c,s,n])}function br(e){let t=e.validity;return{badInput:t.badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid}}function hr(e){return{isInvalid:!e.validity.valid,validationDetails:br(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function xr(e){for(let t=0;t<e.elements.length;t++){let l=e.elements[t];if(!l.validity.valid)return l}return null}function vr(e,t,l){let{isDisabled:n=!1,isReadOnly:r=!1,value:i,name:s,form:m,children:c,"aria-label":f,"aria-labelledby":d,validationState:u="valid",isInvalid:p,onPressStart:h,onPressEnd:x,onPressChange:y,onPress:g,onPressUp:v,onClick:A}=e,k=M=>{M.stopPropagation(),t.setSelected(M.target.checked)},{pressProps:w,isPressed:$}=Le({onPressStart:h,onPressEnd:x,onPressChange:y,onPress:g,onPressUp:v,onClick:A,isDisabled:n}),{pressProps:z,isPressed:P}=Le({onPressStart:h,onPressEnd:x,onPressChange:y,onPressUp:v,onClick:A,onPress(M){var q;g?.(M),t.toggle(),(q=l.current)===null||q===void 0||q.focus()},isDisabled:n||r}),{focusableProps:F}=il(e,l),N=K(w,F),E=Z(e,{labelable:!0});return sr(l,t.defaultSelected,t.setSelected),{labelProps:K(z,{onClick:M=>M.preventDefault()}),inputProps:K(E,{"aria-invalid":p||u==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":r||void 0,onChange:k,disabled:n,...i==null?{}:{value:i},name:s,form:m,type:"checkbox",...N}),isSelected:t.isSelected,isPressed:$||P,isDisabled:n,isReadOnly:r,isInvalid:p||u==="invalid"}}function vl(e,t,l){let n=xl({...e,value:t.isSelected}),{isInvalid:r,validationErrors:i,validationDetails:s}=n.displayValidation,{labelProps:m,inputProps:c,isSelected:f,isPressed:d,isDisabled:u,isReadOnly:p}=vr({...e,isInvalid:r},t,l);fr(e,n,l);let{isIndeterminate:h,isRequired:x,validationBehavior:y="aria"}=e;a.useEffect(()=>{l.current&&(l.current.indeterminate=!!h)});let{pressProps:g}=Le({isDisabled:u||p,onPress(){let{[He]:v}=e,{commitValidation:A}=v||n;A()}});return{labelProps:K(m,g),inputProps:{...c,checked:f,"aria-required":x&&y==="aria"||void 0,required:x&&y==="native"},isSelected:f,isPressed:d,isDisabled:u,isReadOnly:p,isInvalid:r,validationErrors:i,validationDetails:s}}const gr=new WeakMap;function gl(e={}){let{isReadOnly:t}=e,[l,n]=Qo(e.isSelected,e.defaultSelected||!1,e.onChange),[r]=a.useState(l);function i(c){t||n(c)}function s(){t||n(!l)}var m;return{isSelected:l,defaultSelected:(m=e.defaultSelected)!==null&&m!==void 0?m:r,setSelected:i,toggle:s}}function yr(e,t,l){const n=gl({isReadOnly:e.isReadOnly||t.isReadOnly,isSelected:t.isSelected(e.value),defaultSelected:t.defaultValue.includes(e.value),onChange(v){v?t.addValue(e.value):t.removeValue(e.value),e.onChange&&e.onChange(v)}});let{name:r,form:i,descriptionId:s,errorMessageId:m,validationBehavior:c}=gr.get(t);var f;c=(f=e.validationBehavior)!==null&&f!==void 0?f:c;let{realtimeValidation:d}=xl({...e,value:n.isSelected,name:void 0,validationBehavior:"aria"}),u=a.useRef(xe),p=()=>{t.setInvalid(e.value,d.isInvalid?d:u.current)};a.useEffect(p);let h=t.realtimeValidation.isInvalid?t.realtimeValidation:d,x=c==="native"?t.displayValidation:h;var y;let g=vl({...e,isReadOnly:e.isReadOnly||t.isReadOnly,isDisabled:e.isDisabled||t.isDisabled,name:e.name||r,form:e.form||i,isRequired:(y=e.isRequired)!==null&&y!==void 0?y:t.isRequired,validationBehavior:c,[He]:{realtimeValidation:h,displayValidation:x,resetValidation:t.resetValidation,commitValidation:t.commitValidation,updateValidation(v){u.current=v,p()}}},n,l);return{...g,inputProps:{...g.inputProps,"aria-describedby":[e["aria-describedby"],t.isInvalid?m:null,s].filter(Boolean).join(" ")||void 0}}}class yl{isCell(t){return t.type==="cell"}isRow(t){return t.type==="row"||t.type==="item"}isDisabled(t){var l;return this.disabledBehavior==="all"&&(((l=t.props)===null||l===void 0?void 0:l.isDisabled)||this.disabledKeys.has(t.key))}findPreviousKey(t,l){let n=t!=null?this.collection.getKeyBefore(t):this.collection.getLastKey();for(;n!=null;){let r=this.collection.getItem(n);if(!r)return null;if(!this.isDisabled(r)&&(!l||l(r)))return n;n=this.collection.getKeyBefore(n)}return null}findNextKey(t,l){let n=t!=null?this.collection.getKeyAfter(t):this.collection.getFirstKey();for(;n!=null;){let r=this.collection.getItem(n);if(!r)return null;if(!this.isDisabled(r)&&(!l||l(r)))return n;if(n=this.collection.getKeyAfter(n),n==null)return null}return null}getKeyForItemInRowByIndex(t,l=0){if(l<0)return null;let n=this.collection.getItem(t);if(!n)return null;let r=0;for(let m of O(n,this.collection)){var i;if(m.colSpan&&m.colSpan+r>l)return(i=m.key)!==null&&i!==void 0?i:null;m.colSpan&&(r=r+m.colSpan-1);var s;if(r===l)return(s=m.key)!==null&&s!==void 0?s:null;r++}return null}getKeyBelow(t){let l=t,n=this.collection.getItem(l);if(!n)return null;var r;if(this.isCell(n)&&(l=(r=n.parentKey)!==null&&r!==void 0?r:null),l==null)return null;if(l=this.findNextKey(l,i=>i.type==="item"),l!=null){if(this.isCell(n)){let i=n.colIndex?n.colIndex:n.index;return this.getKeyForItemInRowByIndex(l,i)}if(this.focusMode==="row")return l}return null}getKeyAbove(t){let l=t,n=this.collection.getItem(l);if(!n)return null;var r;if(this.isCell(n)&&(l=(r=n.parentKey)!==null&&r!==void 0?r:null),l==null)return null;if(l=this.findPreviousKey(l,i=>i.type==="item"),l!=null){if(this.isCell(n)){let i=n.colIndex?n.colIndex:n.index;return this.getKeyForItemInRowByIndex(l,i)}if(this.focusMode==="row")return l}return null}getKeyRightOf(t){let l=this.collection.getItem(t);if(!l)return null;if(this.isRow(l)){var n,r;let d=O(l,this.collection);var i;return(i=this.direction==="rtl"?(n=ae(d))===null||n===void 0?void 0:n.key:(r=se(d))===null||r===void 0?void 0:r.key)!==null&&i!==void 0?i:null}if(this.isCell(l)&&l.parentKey!=null){let d=this.collection.getItem(l.parentKey);if(!d)return null;let u=O(d,this.collection);var s;let p=(s=this.direction==="rtl"?Ke(u,l.index-1):Ke(u,l.index+1))!==null&&s!==void 0?s:null;var m;if(p)return(m=p.key)!==null&&m!==void 0?m:null;var c;if(this.focusMode==="row")return(c=l.parentKey)!==null&&c!==void 0?c:null;var f;return(f=this.direction==="rtl"?this.getFirstKey(t):this.getLastKey(t))!==null&&f!==void 0?f:null}return null}getKeyLeftOf(t){let l=this.collection.getItem(t);if(!l)return null;if(this.isRow(l)){var n,r;let d=O(l,this.collection);var i;return(i=this.direction==="rtl"?(n=se(d))===null||n===void 0?void 0:n.key:(r=ae(d))===null||r===void 0?void 0:r.key)!==null&&i!==void 0?i:null}if(this.isCell(l)&&l.parentKey!=null){let d=this.collection.getItem(l.parentKey);if(!d)return null;let u=O(d,this.collection);var s;let p=(s=this.direction==="rtl"?Ke(u,l.index+1):Ke(u,l.index-1))!==null&&s!==void 0?s:null;var m;if(p)return(m=p.key)!==null&&m!==void 0?m:null;var c;if(this.focusMode==="row")return(c=l.parentKey)!==null&&c!==void 0?c:null;var f;return(f=this.direction==="rtl"?this.getLastKey(t):this.getFirstKey(t))!==null&&f!==void 0?f:null}return null}getFirstKey(t,l){let n=t??null,r;if(n!=null){if(r=this.collection.getItem(n),!r)return null;if(this.isCell(r)&&!l&&r.parentKey!=null){var i;let f=this.collection.getItem(r.parentKey);if(!f)return null;var s;return(s=(i=se(O(f,this.collection)))===null||i===void 0?void 0:i.key)!==null&&s!==void 0?s:null}}if(n=this.findNextKey(void 0,f=>f.type==="item"),n!=null&&(r&&this.isCell(r)&&l||this.focusMode==="cell")){var m;let f=this.collection.getItem(n);if(!f)return null;var c;n=(c=(m=se(O(f,this.collection)))===null||m===void 0?void 0:m.key)!==null&&c!==void 0?c:null}return n}getLastKey(t,l){let n=t??null,r;if(n!=null){if(r=this.collection.getItem(n),!r)return null;if(this.isCell(r)&&!l&&r.parentKey!=null){var i;let f=this.collection.getItem(r.parentKey);if(!f)return null;let d=O(f,this.collection);var s;return(s=(i=ae(d))===null||i===void 0?void 0:i.key)!==null&&s!==void 0?s:null}}if(n=this.findPreviousKey(void 0,f=>f.type==="item"),n!=null&&(r&&this.isCell(r)&&l||this.focusMode==="cell")){var m;let f=this.collection.getItem(n);if(!f)return null;let d=O(f,this.collection);var c;n=(c=(m=ae(d))===null||m===void 0?void 0:m.key)!==null&&c!==void 0?c:null}return n}getKeyPageAbove(t){let l=t,n=this.layoutDelegate.getItemRect(l);if(!n)return null;let r=Math.max(0,n.y+n.height-this.layoutDelegate.getVisibleRect().height);for(;n&&n.y>r&&l!=null;){var i;if(l=(i=this.getKeyAbove(l))!==null&&i!==void 0?i:null,l==null)break;n=this.layoutDelegate.getItemRect(l)}return l}getKeyPageBelow(t){let l=t,n=this.layoutDelegate.getItemRect(l);if(!n)return null;let r=this.layoutDelegate.getVisibleRect().height,i=Math.min(this.layoutDelegate.getContentSize().height,n.y+r);for(;n&&n.y+n.height<i;){let s=this.getKeyBelow(l);if(s==null)break;n=this.layoutDelegate.getItemRect(s),l=s}return l}getKeyForSearch(t,l){let n=l??null;if(!this.collator)return null;let r=this.collection;if(n=l??this.getFirstKey(),n==null)return null;let i=r.getItem(n);if(!i)return null;var s;i.type==="cell"&&(n=(s=i.parentKey)!==null&&s!==void 0?s:null);let m=!1;for(;n!=null;){let d=r.getItem(n);if(!d)return null;if(d.textValue){let u=d.textValue.slice(0,t.length);if(this.collator.compare(u,t)===0){var c,f;return this.isRow(d)&&this.focusMode==="cell"?(f=(c=se(O(d,this.collection)))===null||c===void 0?void 0:c.key)!==null&&f!==void 0?f:null:d.key}}n=this.findNextKey(n,u=>u.type==="item"),n==null&&!m&&(n=this.getFirstKey(),m=!0)}return null}constructor(t){if(this.collection=t.collection,this.disabledKeys=t.disabledKeys,this.disabledBehavior=t.disabledBehavior||"all",this.direction=t.direction,this.collator=t.collator,!t.layout&&!t.ref)throw new Error("Either a layout or a ref must be specified.");this.layoutDelegate=t.layoutDelegate||(t.layout?new $r(t.layout):new Mo(t.ref));var l;this.focusMode=(l=t.focusMode)!==null&&l!==void 0?l:"row"}}class $r{getContentSize(){return this.layout.getContentSize()}getItemRect(t){var l;return((l=this.layout.getLayoutInfo(t))===null||l===void 0?void 0:l.rect)||null}getVisibleRect(){return this.layout.virtualizer.visibleRect}constructor(t){this.layout=t}}const Ct=new WeakMap;var $l={};$l={deselectedItem:e=>`${e.item} غير المحدد`,longPressToSelect:"اضغط مطولًا للدخول إلى وضع التحديد.",select:"تحديد",selectedAll:"جميع العناصر المحددة.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"لم يتم تحديد عناصر",one:()=>`${t.number(e.count)} عنصر محدد`,other:()=>`${t.number(e.count)} عنصر محدد`})}.`,selectedItem:e=>`${e.item} المحدد`};var Cl={};Cl={deselectedItem:e=>`${e.item} не е избран.`,longPressToSelect:"Натиснете и задръжте за да влезете в избирателен режим.",select:"Изберете",selectedAll:"Всички елементи са избрани.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Няма избрани елементи",one:()=>`${t.number(e.count)} избран елемент`,other:()=>`${t.number(e.count)} избрани елементи`})}.`,selectedItem:e=>`${e.item} избран.`};var Dl={};Dl={deselectedItem:e=>`Položka ${e.item} není vybrána.`,longPressToSelect:"Dlouhým stisknutím přejdete do režimu výběru.",select:"Vybrat",selectedAll:"Vybrány všechny položky.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nevybrány žádné položky",one:()=>`Vybrána ${t.number(e.count)} položka`,other:()=>`Vybráno ${t.number(e.count)} položek`})}.`,selectedItem:e=>`Vybrána položka ${e.item}.`};var kl={};kl={deselectedItem:e=>`${e.item} ikke valgt.`,longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vælg",selectedAll:"Alle elementer valgt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>`${t.number(e.count)} element valgt`,other:()=>`${t.number(e.count)} elementer valgt`})}.`,selectedItem:e=>`${e.item} valgt.`};var wl={};wl={deselectedItem:e=>`${e.item} nicht ausgewählt.`,longPressToSelect:"Gedrückt halten, um Auswahlmodus zu öffnen.",select:"Auswählen",selectedAll:"Alle Elemente ausgewählt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Keine Elemente ausgewählt",one:()=>`${t.number(e.count)} Element ausgewählt`,other:()=>`${t.number(e.count)} Elemente ausgewählt`})}.`,selectedItem:e=>`${e.item} ausgewählt.`};var Sl={};Sl={deselectedItem:e=>`Δεν επιλέχθηκε το στοιχείο ${e.item}.`,longPressToSelect:"Πατήστε παρατεταμένα για να μπείτε σε λειτουργία επιλογής.",select:"Επιλογή",selectedAll:"Επιλέχθηκαν όλα τα στοιχεία.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Δεν επιλέχθηκαν στοιχεία",one:()=>`Επιλέχθηκε ${t.number(e.count)} στοιχείο`,other:()=>`Επιλέχθηκαν ${t.number(e.count)} στοιχεία`})}.`,selectedItem:e=>`Επιλέχθηκε το στοιχείο ${e.item}.`};var jl={};jl={deselectedItem:e=>`${e.item} not selected.`,select:"Select",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"No items selected",one:()=>`${t.number(e.count)} item selected`,other:()=>`${t.number(e.count)} items selected`})}.`,selectedAll:"All items selected.",selectedItem:e=>`${e.item} selected.`,longPressToSelect:"Long press to enter selection mode."};var El={};El={deselectedItem:e=>`${e.item} no seleccionado.`,longPressToSelect:"Mantenga pulsado para abrir el modo de selección.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ningún elemento seleccionado",one:()=>`${t.number(e.count)} elemento seleccionado`,other:()=>`${t.number(e.count)} elementos seleccionados`})}.`,selectedItem:e=>`${e.item} seleccionado.`};var Bl={};Bl={deselectedItem:e=>`${e.item} pole valitud.`,longPressToSelect:"Valikurežiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kõik üksused valitud.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Üksusi pole valitud",one:()=>`${t.number(e.count)} üksus valitud`,other:()=>`${t.number(e.count)} üksust valitud`})}.`,selectedItem:e=>`${e.item} valitud.`};var Nl={};Nl={deselectedItem:e=>`Kohdetta ${e.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkään.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ei yhtään kohdetta valittu",one:()=>`${t.number(e.count)} kohde valittu`,other:()=>`${t.number(e.count)} kohdetta valittu`})}.`,selectedItem:e=>`${e.item} valittu.`};var Al={};Al={deselectedItem:e=>`${e.item} non sélectionné.`,longPressToSelect:"Appuyez de manière prolongée pour passer en mode de sélection.",select:"Sélectionner",selectedAll:"Tous les éléments sélectionnés.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Aucun élément sélectionné",one:()=>`${t.number(e.count)} élément sélectionné`,other:()=>`${t.number(e.count)} éléments sélectionnés`})}.`,selectedItem:e=>`${e.item} sélectionné.`};var Pl={};Pl={deselectedItem:e=>`${e.item} לא נבחר.`,longPressToSelect:"הקשה ארוכה לכניסה למצב בחירה.",select:"בחר",selectedAll:"כל הפריטים נבחרו.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"לא נבחרו פריטים",one:()=>`פריט ${t.number(e.count)} נבחר`,other:()=>`${t.number(e.count)} פריטים נבחרו`})}.`,selectedItem:e=>`${e.item} נבחר.`};var zl={};zl={deselectedItem:e=>`Stavka ${e.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u način odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${t.number(e.count)} stavka`,other:()=>`Odabrano je ${t.number(e.count)} stavki`})}.`,selectedItem:e=>`Stavka ${e.item} je odabrana.`};var Il={};Il={deselectedItem:e=>`${e.item} nincs kijelölve.`,longPressToSelect:"Nyomja hosszan a kijelöléshez.",select:"Kijelölés",selectedAll:"Az összes elem kijelölve.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Egy elem sincs kijelölve",one:()=>`${t.number(e.count)} elem kijelölve`,other:()=>`${t.number(e.count)} elem kijelölve`})}.`,selectedItem:e=>`${e.item} kijelölve.`};var Fl={};Fl={deselectedItem:e=>`${e.item} non selezionato.`,longPressToSelect:"Premi a lungo per passare alla modalità di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>`${t.number(e.count)} elemento selezionato`,other:()=>`${t.number(e.count)} elementi selezionati`})}.`,selectedItem:e=>`${e.item} selezionato.`};var Rl={};Rl={deselectedItem:e=>`${e.item} が選択されていません。`,longPressToSelect:"長押しして選択モードを開きます。",select:"選択",selectedAll:"すべての項目を選択しました。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"項目が選択されていません",one:()=>`${t.number(e.count)} 項目を選択しました`,other:()=>`${t.number(e.count)} 項目を選択しました`})}。`,selectedItem:e=>`${e.item} を選択しました。`};var Ml={};Ml={deselectedItem:e=>`${e.item}이(가) 선택되지 않았습니다.`,longPressToSelect:"선택 모드로 들어가려면 길게 누르십시오.",select:"선택",selectedAll:"모든 항목이 선택되었습니다.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"선택된 항목이 없습니다",one:()=>`${t.number(e.count)}개 항목이 선택되었습니다`,other:()=>`${t.number(e.count)}개 항목이 선택되었습니다`})}.`,selectedItem:e=>`${e.item}이(가) 선택되었습니다.`};var Kl={};Kl={deselectedItem:e=>`${e.item} nepasirinkta.`,longPressToSelect:"Norėdami įjungti pasirinkimo režimą, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nepasirinktas nė vienas elementas",one:()=>`Pasirinktas ${t.number(e.count)} elementas`,other:()=>`Pasirinkta elementų: ${t.number(e.count)}`})}.`,selectedItem:e=>`Pasirinkta: ${e.item}.`};var Tl={};Tl={deselectedItem:e=>`Vienums ${e.item} nav atlasīts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslēgtu atlases režīmu.",select:"Atlasīt",selectedAll:"Atlasīti visi vienumi.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nav atlasīts neviens vienums",one:()=>`Atlasīto vienumu skaits: ${t.number(e.count)}`,other:()=>`Atlasīto vienumu skaits: ${t.number(e.count)}`})}.`,selectedItem:e=>`Atlasīts vienums ${e.item}.`};var Vl={};Vl={deselectedItem:e=>`${e.item} er ikke valgt.`,longPressToSelect:"Bruk et langt trykk for å gå inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>`${t.number(e.count)} element er valgt`,other:()=>`${t.number(e.count)} elementer er valgt`})}.`,selectedItem:e=>`${e.item} er valgt.`};var Ll={};Ll={deselectedItem:e=>`${e.item} niet geselecteerd.`,longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>`${t.number(e.count)} item geselecteerd`,other:()=>`${t.number(e.count)} items geselecteerd`})}.`,selectedItem:e=>`${e.item} geselecteerd.`};var Ol={};Ol={deselectedItem:e=>`Nie zaznaczono ${e.item}.`,longPressToSelect:"Naciśnij i przytrzymaj, aby wejść do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nie zaznaczono żadnych elementów",one:()=>`${t.number(e.count)} zaznaczony element`,other:()=>`${t.number(e.count)} zaznaczonych elementów`})}.`,selectedItem:e=>`Zaznaczono ${e.item}.`};var Hl={};Hl={deselectedItem:e=>`${e.item} não selecionado.`,longPressToSelect:"Mantenha pressionado para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${t.number(e.count)} item selecionado`,other:()=>`${t.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var Ul={};Ul={deselectedItem:e=>`${e.item} não selecionado.`,longPressToSelect:"Prima continuamente para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${t.number(e.count)} item selecionado`,other:()=>`${t.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var Wl={};Wl={deselectedItem:e=>`${e.item} neselectat.`,longPressToSelect:"Apăsați lung pentru a intra în modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Niciun element selectat",one:()=>`${t.number(e.count)} element selectat`,other:()=>`${t.number(e.count)} elemente selectate`})}.`,selectedItem:e=>`${e.item} selectat.`};var ql={};ql={deselectedItem:e=>`${e.item} не выбрано.`,longPressToSelect:"Нажмите и удерживайте для входа в режим выбора.",select:"Выбрать",selectedAll:"Выбраны все элементы.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Нет выбранных элементов",one:()=>`${t.number(e.count)} элемент выбран`,other:()=>`${t.number(e.count)} элементов выбрано`})}.`,selectedItem:e=>`${e.item} выбрано.`};var _l={};_l={deselectedItem:e=>`Nevybraté položky: ${e.item}.`,longPressToSelect:"Dlhším stlačením prejdite do režimu výberu.",select:"Vybrať",selectedAll:"Všetky vybraté položky.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Žiadne vybraté položky",one:()=>`${t.number(e.count)} vybratá položka`,other:()=>`Počet vybratých položiek:${t.number(e.count)}`})}.`,selectedItem:e=>`Vybraté položky: ${e.item}.`};var Gl={};Gl={deselectedItem:e=>`Element ${e.item} ni izbran.`,longPressToSelect:"Za izbirni način pritisnite in dlje časa držite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Noben element ni izbran",one:()=>`${t.number(e.count)} element je izbran`,other:()=>`${t.number(e.count)} elementov je izbranih`})}.`,selectedItem:e=>`Element ${e.item} je izbran.`};var Yl={};Yl={deselectedItem:e=>`${e.item} nije izabrano.`,longPressToSelect:"Dugo pritisnite za ulazak u režim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${t.number(e.count)} stavka`,other:()=>`Izabrano je ${t.number(e.count)} stavki`})}.`,selectedItem:e=>`${e.item} je izabrano.`};var Zl={};Zl={deselectedItem:e=>`${e.item} ej markerat.`,longPressToSelect:"Tryck länge när du vill öppna väljarläge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Inga markerade objekt",one:()=>`${t.number(e.count)} markerat objekt`,other:()=>`${t.number(e.count)} markerade objekt`})}.`,selectedItem:e=>`${e.item} markerat.`};var Ql={};Ql={deselectedItem:e=>`${e.item} seçilmedi.`,longPressToSelect:"Seçim moduna girmek için uzun basın.",select:"Seç",selectedAll:"Tüm ögeler seçildi.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Hiçbir öge seçilmedi",one:()=>`${t.number(e.count)} öge seçildi`,other:()=>`${t.number(e.count)} öge seçildi`})}.`,selectedItem:e=>`${e.item} seçildi.`};var Jl={};Jl={deselectedItem:e=>`${e.item} не вибрано.`,longPressToSelect:"Виконайте довге натиснення, щоб перейти в режим вибору.",select:"Вибрати",selectedAll:"Усі елементи вибрано.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Жодних елементів не вибрано",one:()=>`${t.number(e.count)} елемент вибрано`,other:()=>`Вибрано елементів: ${t.number(e.count)}`})}.`,selectedItem:e=>`${e.item} вибрано.`};var Xl={};Xl={deselectedItem:e=>`未选择 ${e.item}。`,longPressToSelect:"长按以进入选择模式。",select:"选择",selectedAll:"已选择所有项目。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"未选择项目",one:()=>`已选择 ${t.number(e.count)} 个项目`,other:()=>`已选择 ${t.number(e.count)} 个项目`})}。`,selectedItem:e=>`已选择 ${e.item}。`};var en={};en={deselectedItem:e=>`未選取「${e.item}」。`,longPressToSelect:"長按以進入選擇模式。",select:"選取",selectedAll:"已選取所有項目。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"未選取任何項目",one:()=>`已選取 ${t.number(e.count)} 個項目`,other:()=>`已選取 ${t.number(e.count)} 個項目`})}。`,selectedItem:e=>`已選取「${e.item}」。`};var Ge={};Ge={"ar-AE":$l,"bg-BG":Cl,"cs-CZ":Dl,"da-DK":kl,"de-DE":wl,"el-GR":Sl,"en-US":jl,"es-ES":El,"et-EE":Bl,"fi-FI":Nl,"fr-FR":Al,"he-IL":Pl,"hr-HR":zl,"hu-HU":Il,"it-IT":Fl,"ja-JP":Rl,"ko-KR":Ml,"lt-LT":Kl,"lv-LV":Tl,"nb-NO":Vl,"nl-NL":Ll,"pl-PL":Ol,"pt-BR":Hl,"pt-PT":Ul,"ro-RO":Wl,"ru-RU":ql,"sk-SK":_l,"sl-SI":Gl,"sr-SP":Yl,"sv-SE":Zl,"tr-TR":Ql,"uk-UA":Jl,"zh-CN":Xl,"zh-TW":en};function Cr(e){return e&&e.__esModule?e.default:e}function Dr(e,t){let{getRowText:l=m=>{var c,f,d,u;return(u=(c=(f=t.collection).getTextValue)===null||c===void 0?void 0:c.call(f,m))!==null&&u!==void 0?u:(d=t.collection.getItem(m))===null||d===void 0?void 0:d.textValue}}=e,n=ye(Cr(Ge),"@react-aria/grid"),r=t.selectionManager.rawSelection,i=a.useRef(r),s=ve(()=>{var m;if(!t.selectionManager.isFocused||r===i.current){i.current=r;return}let c=Xt(r,i.current),f=Xt(i.current,r),d=t.selectionManager.selectionBehavior==="replace",u=[];if(t.selectionManager.selectedKeys.size===1&&d){let p=t.selectionManager.selectedKeys.keys().next().value;if(p!=null&&t.collection.getItem(p)){let h=l(p);h&&u.push(n.format("selectedItem",{item:h}))}}else if(c.size===1&&f.size===0){let p=c.keys().next().value;if(p!=null){let h=l(p);h&&u.push(n.format("selectedItem",{item:h}))}}else if(f.size===1&&c.size===0){let p=f.keys().next().value;if(p!=null&&t.collection.getItem(p)){let h=l(p);h&&u.push(n.format("deselectedItem",{item:h}))}}t.selectionManager.selectionMode==="multiple"&&(u.length===0||r==="all"||r.size>1||i.current==="all"||((m=i.current)===null||m===void 0?void 0:m.size)>1)&&u.push(r==="all"?n.format("selectedAll"):n.format("selectedCount",{count:r.size})),u.length>0&&sl(u.join(" ")),i.current=r});fl(()=>{if(t.selectionManager.isFocused)s();else{let m=requestAnimationFrame(s);return()=>cancelAnimationFrame(m)}},[r,t.selectionManager.isFocused])}function Xt(e,t){let l=new Set;if(e==="all"||t==="all")return l;for(let n of e.keys())t.has(n)||l.add(n);return l}function kr(e){return e&&e.__esModule?e.default:e}function wr(e){let t=ye(kr(Ge),"@react-aria/grid"),l=Jo(),n=(l==="pointer"||l==="virtual"||l==null)&&typeof window<"u"&&"ontouchstart"in window,r=a.useMemo(()=>{let s=e.selectionManager.selectionMode,m=e.selectionManager.selectionBehavior,c;return n&&(c=t.format("longPressToSelect")),m==="replace"&&s!=="none"&&e.hasItemActions?c:void 0},[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,n]);return bt(r)}function Sr(e,t,l){let{isVirtualized:n,disallowTypeAhead:r,keyboardDelegate:i,focusMode:s,scrollRef:m,getRowText:c,onRowAction:f,onCellAction:d,escapeKeyBehavior:u="clearSelection",shouldSelectOnPressUp:p}=e,{selectionManager:h}=t;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let x=ll({usage:"search",sensitivity:"base"}),{direction:y}=We(),g=t.selectionManager.disabledBehavior,v=a.useMemo(()=>i||new yl({collection:t.collection,disabledKeys:t.disabledKeys,disabledBehavior:g,ref:l,direction:y,collator:x,focusMode:s}),[i,t.collection,t.disabledKeys,g,l,y,x,s]),{collectionProps:A}=Ko({ref:l,selectionManager:h,keyboardDelegate:v,isVirtualized:n,scrollRef:m,disallowTypeAhead:r,escapeKeyBehavior:u}),k=gt(e.id);Ct.set(t,{keyboardDelegate:v,actions:{onRowAction:f,onCellAction:d},shouldSelectOnPressUp:p});let w=wr({selectionManager:h,hasItemActions:!!(f||d)}),$=Z(e,{labelable:!0}),z=a.useCallback(E=>{if(h.isFocused){E.currentTarget.contains(E.target)||h.setFocused(!1);return}E.currentTarget.contains(E.target)&&h.setFocused(!0)},[h]),P=a.useMemo(()=>({onBlur:A.onBlur,onFocus:z}),[z,A.onBlur]),F=dr(l,{isDisabled:t.collection.size!==0}),N=K($,{role:"grid",id:k,"aria-multiselectable":h.selectionMode==="multiple"?"true":void 0},t.isKeyboardNavigationDisabled?P:A,t.collection.size===0&&{tabIndex:F?-1:0}||void 0,w);return n&&(N["aria-rowcount"]=t.collection.size,N["aria-colcount"]=t.collection.columnCount),Dr({getRowText:c},t),{gridProps:N}}function jr(){return{rowGroupProps:{role:"rowgroup"}}}function Er(e,t,l){var n,r;let{node:i,isVirtualized:s,shouldSelectOnPressUp:m,onAction:c}=e,{actions:f,shouldSelectOnPressUp:d}=Ct.get(t),u=f.onRowAction?()=>{var g;return(g=f.onRowAction)===null||g===void 0?void 0:g.call(f,i.key)}:c,{itemProps:p,...h}=nl({selectionManager:t.selectionManager,key:i.key,ref:l,isVirtualized:s,shouldSelectOnPressUp:d||m,onAction:u||!(i==null||(n=i.props)===null||n===void 0)&&n.onAction?Xo(i==null||(r=i.props)===null||r===void 0?void 0:r.onAction,u):void 0,isDisabled:t.collection.size===0}),x=t.selectionManager.isSelected(i.key),y={role:"row","aria-selected":t.selectionManager.selectionMode!=="none"?x:void 0,"aria-disabled":h.isDisabled||void 0,...p};return s&&(y["aria-rowindex"]=i.index+1),{rowProps:y,...h}}function tn(e,t,l){let{node:n,isVirtualized:r,focusMode:i="child",shouldSelectOnPressUp:s,onAction:m}=e,{direction:c}=We(),{keyboardDelegate:f,actions:{onCellAction:d}}=Ct.get(t),u=a.useRef(null),p=()=>{if(l.current){let k=ct(l.current);if(i==="child"){if(l.current.contains(document.activeElement)&&l.current!==document.activeElement)return;let w=t.selectionManager.childFocusStrategy==="last"?dt(k):k.firstChild();if(w){ie(w);return}}(u.current!=null&&n.key!==u.current||!l.current.contains(document.activeElement))&&ie(l.current)}},{itemProps:h,isPressed:x}=nl({selectionManager:t.selectionManager,key:n.key,ref:l,isVirtualized:r,focus:p,shouldSelectOnPressUp:s,onAction:d?()=>d(n.key):m,isDisabled:t.collection.size===0}),y=k=>{if(!k.currentTarget.contains(k.target)||t.isKeyboardNavigationDisabled||!l.current||!document.activeElement)return;let w=ct(l.current);switch(w.currentNode=document.activeElement,k.key){case"ArrowLeft":{let E=c==="rtl"?w.nextNode():w.previousNode();if(i==="child"&&E===l.current&&(E=null),k.preventDefault(),k.stopPropagation(),E)ie(E),he(E,{containingElement:de(l.current)});else{var $;if((($=f.getKeyLeftOf)===null||$===void 0?void 0:$.call(f,n.key))!==n.key){var z;(z=l.current.parentElement)===null||z===void 0||z.dispatchEvent(new KeyboardEvent(k.nativeEvent.type,k.nativeEvent));break}i==="cell"&&c==="rtl"?(ie(l.current),he(l.current,{containingElement:de(l.current)})):(w.currentNode=l.current,E=c==="rtl"?w.firstChild():dt(w),E&&(ie(E),he(E,{containingElement:de(l.current)})))}break}case"ArrowRight":{let E=c==="rtl"?w.previousNode():w.nextNode();if(i==="child"&&E===l.current&&(E=null),k.preventDefault(),k.stopPropagation(),E)ie(E),he(E,{containingElement:de(l.current)});else{var P;if(((P=f.getKeyRightOf)===null||P===void 0?void 0:P.call(f,n.key))!==n.key){var F;(F=l.current.parentElement)===null||F===void 0||F.dispatchEvent(new KeyboardEvent(k.nativeEvent.type,k.nativeEvent));break}i==="cell"&&c==="ltr"?(ie(l.current),he(l.current,{containingElement:de(l.current)})):(w.currentNode=l.current,E=c==="rtl"?dt(w):w.firstChild(),E&&(ie(E),he(E,{containingElement:de(l.current)})))}break}case"ArrowUp":case"ArrowDown":if(!k.altKey&&l.current.contains(k.target)){var N;k.stopPropagation(),k.preventDefault(),(N=l.current.parentElement)===null||N===void 0||N.dispatchEvent(new KeyboardEvent(k.nativeEvent.type,k.nativeEvent))}break}},g=k=>{if(u.current=n.key,k.target!==l.current){er()||t.selectionManager.setFocusedKey(n.key);return}requestAnimationFrame(()=>{i==="child"&&document.activeElement===l.current&&p()})},v=K(h,{role:"gridcell",onKeyDownCapture:y,"aria-colspan":n.colSpan,"aria-colindex":n.colIndex!=null?n.colIndex+1:void 0,colSpan:r?void 0:n.colSpan,onFocus:g});var A;return r&&(v["aria-colindex"]=((A=n.colIndex)!==null&&A!==void 0?A:n.index)+1),s&&v.tabIndex!=null&&v.onPointerDown==null&&(v.onPointerDown=k=>{let w=k.currentTarget,$=w.getAttribute("tabindex");w.removeAttribute("tabindex"),requestAnimationFrame(()=>{$!=null&&w.setAttribute("tabindex",$)})}),{gridCellProps:v,isPressed:x}}function dt(e){let t=null,l=null;do l=e.lastChild(),l&&(t=l);while(l);return t}function Br(e){return e&&e.__esModule?e.default:e}function Nr(e,t){let{key:l}=e,n=t.selectionManager,r=gt(),i=!t.selectionManager.canSelectItem(l),s=t.selectionManager.isSelected(l),m=()=>n.toggleSelection(l);const c=ye(Br(Ge),"@react-aria/grid");return{checkboxProps:{id:r,"aria-label":c.format("select"),isSelected:s,isDisabled:i,onChange:m}}}const Dt=new WeakMap;function pt(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}function Ar(e,t){let l=Dt.get(e);if(!l)throw new Error("Unknown grid");return`${l}-${pt(t)}`}function ln(e,t,l){let n=Dt.get(e);if(!n)throw new Error("Unknown grid");return`${n}-${pt(t)}-${pt(l)}`}function nn(e,t){return[...e.collection.rowHeaderColumnKeys].map(l=>ln(e,t,l)).join(" ")}var on={};on={ascending:"تصاعدي",ascendingSort:e=>`ترتيب حسب العمود ${e.columnName} بترتيب تصاعدي`,columnSize:e=>`${e.value} بالبكسل`,descending:"تنازلي",descendingSort:e=>`ترتيب حسب العمود ${e.columnName} بترتيب تنازلي`,resizerDescription:"اضغط على مفتاح Enter لبدء تغيير الحجم",select:"تحديد",selectAll:"تحديد الكل",sortable:"عمود قابل للترتيب"};var rn={};rn={ascending:"възходящ",ascendingSort:e=>`сортирано по колона ${e.columnName} във възходящ ред`,columnSize:e=>`${e.value} пиксела`,descending:"низходящ",descendingSort:e=>`сортирано по колона ${e.columnName} в низходящ ред`,resizerDescription:"Натиснете „Enter“, за да започнете да преоразмерявате",select:"Изберете",selectAll:"Изберете всичко",sortable:"сортираща колона"};var sn={};sn={ascending:"vzestupně",ascendingSort:e=>`řazeno vzestupně podle sloupce ${e.columnName}`,columnSize:e=>`${e.value} pixelů`,descending:"sestupně",descendingSort:e=>`řazeno sestupně podle sloupce ${e.columnName}`,resizerDescription:"Stisknutím klávesy Enter začnete měnit velikost",select:"Vybrat",selectAll:"Vybrat vše",sortable:"sloupec s možností řazení"};var an={};an={ascending:"stigende",ascendingSort:e=>`sorteret efter kolonne ${e.columnName} i stigende rækkefølge`,columnSize:e=>`${e.value} pixels`,descending:"faldende",descendingSort:e=>`sorteret efter kolonne ${e.columnName} i faldende rækkefølge`,resizerDescription:"Tryk på Enter for at ændre størrelse",select:"Vælg",selectAll:"Vælg alle",sortable:"sorterbar kolonne"};var un={};un={ascending:"aufsteigend",ascendingSort:e=>`sortiert nach Spalte ${e.columnName} in aufsteigender Reihenfolge`,columnSize:e=>`${e.value} Pixel`,descending:"absteigend",descendingSort:e=>`sortiert nach Spalte ${e.columnName} in absteigender Reihenfolge`,resizerDescription:"Eingabetaste zum Starten der Größenänderung drücken",select:"Auswählen",selectAll:"Alles auswählen",sortable:"sortierbare Spalte"};var dn={};dn={ascending:"αύξουσα",ascendingSort:e=>`διαλογή ανά στήλη ${e.columnName} σε αύξουσα σειρά`,columnSize:e=>`${e.value} pixel`,descending:"φθίνουσα",descendingSort:e=>`διαλογή ανά στήλη ${e.columnName} σε φθίνουσα σειρά`,resizerDescription:"Πατήστε Enter για έναρξη της αλλαγής μεγέθους",select:"Επιλογή",selectAll:"Επιλογή όλων",sortable:"Στήλη διαλογής"};var cn={};cn={select:"Select",selectAll:"Select All",sortable:"sortable column",ascending:"ascending",descending:"descending",ascendingSort:e=>`sorted by column ${e.columnName} in ascending order`,descendingSort:e=>`sorted by column ${e.columnName} in descending order`,columnSize:e=>`${e.value} pixels`,resizerDescription:"Press Enter to start resizing"};var mn={};mn={ascending:"ascendente",ascendingSort:e=>`ordenado por columna ${e.columnName} en sentido ascendente`,columnSize:e=>`${e.value} píxeles`,descending:"descendente",descendingSort:e=>`ordenado por columna ${e.columnName} en orden descendente`,resizerDescription:"Pulse Intro para empezar a redimensionar",select:"Seleccionar",selectAll:"Seleccionar todos",sortable:"columna ordenable"};var pn={};pn={ascending:"tõusev järjestus",ascendingSort:e=>`sorditud veeru järgi ${e.columnName} tõusvas järjestuses`,columnSize:e=>`${e.value} pikslit`,descending:"laskuv järjestus",descendingSort:e=>`sorditud veeru järgi ${e.columnName} laskuvas järjestuses`,resizerDescription:"Suuruse muutmise alustamiseks vajutage klahvi Enter",select:"Vali",selectAll:"Vali kõik",sortable:"sorditav veerg"};var fn={};fn={ascending:"nouseva",ascendingSort:e=>`lajiteltu sarakkeen ${e.columnName} mukaan nousevassa järjestyksessä`,columnSize:e=>`${e.value} pikseliä`,descending:"laskeva",descendingSort:e=>`lajiteltu sarakkeen ${e.columnName} mukaan laskevassa järjestyksessä`,resizerDescription:"Aloita koon muutos painamalla Enter-näppäintä",select:"Valitse",selectAll:"Valitse kaikki",sortable:"lajiteltava sarake"};var bn={};bn={ascending:"croissant",ascendingSort:e=>`trié en fonction de la colonne ${e.columnName} par ordre croissant`,columnSize:e=>`${e.value} pixels`,descending:"décroissant",descendingSort:e=>`trié en fonction de la colonne ${e.columnName} par ordre décroissant`,resizerDescription:"Appuyez sur Entrée pour commencer le redimensionnement.",select:"Sélectionner",selectAll:"Sélectionner tout",sortable:"colonne triable"};var hn={};hn={ascending:"עולה",ascendingSort:e=>`מוין לפי עמודה ${e.columnName} בסדר עולה`,columnSize:e=>`${e.value} פיקסלים`,descending:"יורד",descendingSort:e=>`מוין לפי עמודה ${e.columnName} בסדר יורד`,resizerDescription:"הקש Enter כדי לשנות את הגודל",select:"בחר",selectAll:"בחר הכול",sortable:"עמודה שניתן למיין"};var xn={};xn={ascending:"rastući",ascendingSort:e=>`razvrstano po stupcima ${e.columnName} rastućem redoslijedom`,columnSize:e=>`${e.value} piksela`,descending:"padajući",descendingSort:e=>`razvrstano po stupcima ${e.columnName} padajućim redoslijedom`,resizerDescription:"Pritisnite Enter da biste započeli promenu veličine",select:"Odaberite",selectAll:"Odaberite sve",sortable:"stupac koji se može razvrstati"};var vn={};vn={ascending:"növekvő",ascendingSort:e=>`rendezve a(z) ${e.columnName} oszlop szerint, növekvő sorrendben`,columnSize:e=>`${e.value} képpont`,descending:"csökkenő",descendingSort:e=>`rendezve a(z) ${e.columnName} oszlop szerint, csökkenő sorrendben`,resizerDescription:"Nyomja le az Enter billentyűt az átméretezés megkezdéséhez",select:"Kijelölés",selectAll:"Összes kijelölése",sortable:"rendezendő oszlop"};var gn={};gn={ascending:"crescente",ascendingSort:e=>`in ordine crescente in base alla colonna ${e.columnName}`,columnSize:e=>`${e.value} pixel`,descending:"decrescente",descendingSort:e=>`in ordine decrescente in base alla colonna ${e.columnName}`,resizerDescription:"Premi Invio per iniziare a ridimensionare",select:"Seleziona",selectAll:"Seleziona tutto",sortable:"colonna ordinabile"};var yn={};yn={ascending:"昇順",ascendingSort:e=>`列 ${e.columnName} を昇順で並べ替え`,columnSize:e=>`${e.value} ピクセル`,descending:"降順",descendingSort:e=>`列 ${e.columnName} を降順で並べ替え`,resizerDescription:"Enter キーを押してサイズ変更を開始",select:"選択",selectAll:"すべて選択",sortable:"並べ替え可能な列"};var $n={};$n={ascending:"오름차순",ascendingSort:e=>`${e.columnName} 열을 기준으로 오름차순으로 정렬됨`,columnSize:e=>`${e.value} 픽셀`,descending:"내림차순",descendingSort:e=>`${e.columnName} 열을 기준으로 내림차순으로 정렬됨`,resizerDescription:"크기 조정을 시작하려면 Enter를 누르세요.",select:"선택",selectAll:"모두 선택",sortable:"정렬 가능한 열"};var Cn={};Cn={ascending:"didėjančia tvarka",ascendingSort:e=>`surikiuota pagal stulpelį ${e.columnName} didėjančia tvarka`,columnSize:e=>`${e.value} piks.`,descending:"mažėjančia tvarka",descendingSort:e=>`surikiuota pagal stulpelį ${e.columnName} mažėjančia tvarka`,resizerDescription:"Paspauskite „Enter“, kad pradėtumėte keisti dydį",select:"Pasirinkti",selectAll:"Pasirinkti viską",sortable:"rikiuojamas stulpelis"};var Dn={};Dn={ascending:"augošā secībā",ascendingSort:e=>`kārtots pēc kolonnas ${e.columnName} augošā secībā`,columnSize:e=>`${e.value} pikseļi`,descending:"dilstošā secībā",descendingSort:e=>`kārtots pēc kolonnas ${e.columnName} dilstošā secībā`,resizerDescription:"Nospiediet Enter, lai sāktu izmēru mainīšanu",select:"Atlasīt",selectAll:"Atlasīt visu",sortable:"kārtojamā kolonna"};var kn={};kn={ascending:"stigende",ascendingSort:e=>`sortert etter kolonne ${e.columnName} i stigende rekkefølge`,columnSize:e=>`${e.value} piksler`,descending:"synkende",descendingSort:e=>`sortert etter kolonne ${e.columnName} i synkende rekkefølge`,resizerDescription:"Trykk på Enter for å starte størrelsesendring",select:"Velg",selectAll:"Velg alle",sortable:"kolonne som kan sorteres"};var wn={};wn={ascending:"oplopend",ascendingSort:e=>`gesorteerd in oplopende volgorde in kolom ${e.columnName}`,columnSize:e=>`${e.value} pixels`,descending:"aflopend",descendingSort:e=>`gesorteerd in aflopende volgorde in kolom ${e.columnName}`,resizerDescription:"Druk op Enter om het formaat te wijzigen",select:"Selecteren",selectAll:"Alles selecteren",sortable:"sorteerbare kolom"};var Sn={};Sn={ascending:"rosnąco",ascendingSort:e=>`posortowano według kolumny ${e.columnName} w porządku rosnącym`,columnSize:e=>`Liczba pikseli: ${e.value}`,descending:"malejąco",descendingSort:e=>`posortowano według kolumny ${e.columnName} w porządku malejącym`,resizerDescription:"Naciśnij Enter, aby rozpocząć zmienianie rozmiaru",select:"Zaznacz",selectAll:"Zaznacz wszystko",sortable:"kolumna z możliwością sortowania"};var jn={};jn={ascending:"crescente",ascendingSort:e=>`classificado pela coluna ${e.columnName} em ordem crescente`,columnSize:e=>`${e.value} pixels`,descending:"decrescente",descendingSort:e=>`classificado pela coluna ${e.columnName} em ordem decrescente`,resizerDescription:"Pressione Enter para começar a redimensionar",select:"Selecionar",selectAll:"Selecionar tudo",sortable:"coluna classificável"};var En={};En={ascending:"ascendente",ascendingSort:e=>`Ordenar por coluna ${e.columnName} em ordem ascendente`,columnSize:e=>`${e.value} pixels`,descending:"descendente",descendingSort:e=>`Ordenar por coluna ${e.columnName} em ordem descendente`,resizerDescription:"Prima Enter para iniciar o redimensionamento",select:"Selecionar",selectAll:"Selecionar tudo",sortable:"Coluna ordenável"};var Bn={};Bn={ascending:"crescătoare",ascendingSort:e=>`sortate după coloana ${e.columnName} în ordine crescătoare`,columnSize:e=>`${e.value} pixeli`,descending:"descrescătoare",descendingSort:e=>`sortate după coloana ${e.columnName} în ordine descrescătoare`,resizerDescription:"Apăsați pe Enter pentru a începe redimensionarea",select:"Selectare",selectAll:"Selectare totală",sortable:"coloană sortabilă"};var Nn={};Nn={ascending:"возрастание",ascendingSort:e=>`сортировать столбец ${e.columnName} в порядке возрастания`,columnSize:e=>`${e.value} пикс.`,descending:"убывание",descendingSort:e=>`сортировать столбец ${e.columnName} в порядке убывания`,resizerDescription:"Нажмите клавишу Enter для начала изменения размеров",select:"Выбрать",selectAll:"Выбрать все",sortable:"сортируемый столбец"};var An={};An={ascending:"vzostupne",ascendingSort:e=>`zoradené zostupne podľa stĺpca ${e.columnName}`,columnSize:e=>`Počet pixelov: ${e.value}`,descending:"zostupne",descendingSort:e=>`zoradené zostupne podľa stĺpca ${e.columnName}`,resizerDescription:"Stlačením klávesu Enter začnete zmenu veľkosti",select:"Vybrať",selectAll:"Vybrať všetko",sortable:"zoraditeľný stĺpec"};var Pn={};Pn={ascending:"naraščajoče",ascendingSort:e=>`razvrščeno po stolpcu ${e.columnName} v naraščajočem vrstnem redu`,columnSize:e=>`${e.value} slikovnih pik`,descending:"padajoče",descendingSort:e=>`razvrščeno po stolpcu ${e.columnName} v padajočem vrstnem redu`,resizerDescription:"Pritisnite tipko Enter da začnete spreminjati velikost",select:"Izberite",selectAll:"Izberite vse",sortable:"razvrstljivi stolpec"};var zn={};zn={ascending:"rastući",ascendingSort:e=>`sortirano po kolonama ${e.columnName} rastućim redosledom`,columnSize:e=>`${e.value} piksela`,descending:"padajući",descendingSort:e=>`sortirano po kolonama ${e.columnName} padajućim redosledom`,resizerDescription:"Pritisnite Enter da biste započeli promenu veličine",select:"Izaberite",selectAll:"Izaberite sve",sortable:"kolona koja se može sortirati"};var In={};In={ascending:"stigande",ascendingSort:e=>`sorterat på kolumn ${e.columnName} i stigande ordning`,columnSize:e=>`${e.value} pixlar`,descending:"fallande",descendingSort:e=>`sorterat på kolumn ${e.columnName} i fallande ordning`,resizerDescription:"Tryck på Retur för att börja ändra storlek",select:"Markera",selectAll:"Markera allt",sortable:"sorterbar kolumn"};var Fn={};Fn={ascending:"artan sırada",ascendingSort:e=>`${e.columnName} sütuna göre artan düzende sırala`,columnSize:e=>`${e.value} piksel`,descending:"azalan sırada",descendingSort:e=>`${e.columnName} sütuna göre azalan düzende sırala`,resizerDescription:"Yeniden boyutlandırmak için Enter'a basın",select:"Seç",selectAll:"Tümünü Seç",sortable:"Sıralanabilir sütun"};var Rn={};Rn={ascending:"висхідний",ascendingSort:e=>`відсортовано за стовпцем ${e.columnName} у висхідному порядку`,columnSize:e=>`${e.value} пікс.`,descending:"низхідний",descendingSort:e=>`відсортовано за стовпцем ${e.columnName} у низхідному порядку`,resizerDescription:"Натисніть Enter, щоб почати зміну розміру",select:"Вибрати",selectAll:"Вибрати все",sortable:"сортувальний стовпець"};var Mn={};Mn={ascending:"升序",ascendingSort:e=>`按列 ${e.columnName} 升序排序`,columnSize:e=>`${e.value} 像素`,descending:"降序",descendingSort:e=>`按列 ${e.columnName} 降序排序`,resizerDescription:"按“输入”键开始调整大小。",select:"选择",selectAll:"全选",sortable:"可排序的列"};var Kn={};Kn={ascending:"遞增",ascendingSort:e=>`已依據「${e.columnName}」欄遞增排序`,columnSize:e=>`${e.value} 像素`,descending:"遞減",descendingSort:e=>`已依據「${e.columnName}」欄遞減排序`,resizerDescription:"按 Enter 鍵以開始調整大小",select:"選取",selectAll:"全選",sortable:"可排序的欄"};var Ye={};Ye={"ar-AE":on,"bg-BG":rn,"cs-CZ":sn,"da-DK":an,"de-DE":un,"el-GR":dn,"en-US":cn,"es-ES":mn,"et-EE":pn,"fi-FI":fn,"fr-FR":bn,"he-IL":hn,"hr-HR":xn,"hu-HU":vn,"it-IT":gn,"ja-JP":yn,"ko-KR":$n,"lt-LT":Cn,"lv-LV":Dn,"nb-NO":kn,"nl-NL":wn,"pl-PL":Sn,"pt-BR":jn,"pt-PT":En,"ro-RO":Bn,"ru-RU":Nn,"sk-SK":An,"sl-SI":Pn,"sr-SP":zn,"sv-SE":In,"tr-TR":Fn,"uk-UA":Rn,"zh-CN":Mn,"zh-TW":Kn};class Pr extends yl{isCell(t){return t.type==="cell"||t.type==="rowheader"||t.type==="column"}getKeyBelow(t){let l=this.collection.getItem(t);if(!l)return null;if(l.type==="column"){let n=se(O(l,this.collection));if(n)return n.key;let r=this.getFirstKey();return r==null||!this.collection.getItem(r)?null:super.getKeyForItemInRowByIndex(r,l.index)}return super.getKeyBelow(t)}getKeyAbove(t){let l=this.collection.getItem(t);if(!l)return null;if(l.type==="column"){let i=l.parentKey!=null?this.collection.getItem(l.parentKey):null;return i&&i.type==="column"?i.key:null}let n=super.getKeyAbove(t),r=n!=null?this.collection.getItem(n):null;return r&&r.type!=="headerrow"?n:this.isCell(l)?this.collection.columns[l.index].key:this.collection.columns[0].key}findNextColumnKey(t){let l=this.findNextKey(t.key,r=>r.type==="column");if(l!=null)return l;let n=this.collection.headerRows[t.level];for(let r of O(n,this.collection))if(r.type==="column")return r.key;return null}findPreviousColumnKey(t){let l=this.findPreviousKey(t.key,i=>i.type==="column");if(l!=null)return l;let n=this.collection.headerRows[t.level],r=[...O(n,this.collection)];for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.type==="column")return s.key}return null}getKeyRightOf(t){let l=this.collection.getItem(t);return l?l.type==="column"?this.direction==="rtl"?this.findPreviousColumnKey(l):this.findNextColumnKey(l):super.getKeyRightOf(t):null}getKeyLeftOf(t){let l=this.collection.getItem(t);return l?l.type==="column"?this.direction==="rtl"?this.findNextColumnKey(l):this.findPreviousColumnKey(l):super.getKeyLeftOf(t):null}getKeyForSearch(t,l){if(!this.collator)return null;let n=this.collection,r=l??this.getFirstKey();if(r==null)return null;let i=n.getItem(r);var s;i?.type==="cell"&&(r=(s=i.parentKey)!==null&&s!==void 0?s:null);let m=!1;for(;r!=null;){let c=n.getItem(r);if(!c)return null;if(c.textValue){let f=c.textValue.slice(0,t.length);if(this.collator.compare(f,t)===0)return c.key}for(let f of O(c,this.collection)){let d=n.columns[f.index];if(n.rowHeaderColumnKeys.has(d.key)&&f.textValue){let u=f.textValue.slice(0,t.length);if(this.collator.compare(u,t)===0){let p=l!=null?n.getItem(l):i;return p?.type==="cell"?f.key:c.key}}}r=this.getKeyBelow(r),r==null&&!m&&(r=this.getFirstKey(),m=!0)}return null}}function zr(e){return e&&e.__esModule?e.default:e}function Ir(e,t,l){let{keyboardDelegate:n,isVirtualized:r,layoutDelegate:i,layout:s}=e,m=ll({usage:"search",sensitivity:"base"}),{direction:c}=We(),f=t.selectionManager.disabledBehavior,d=a.useMemo(()=>n||new Pr({collection:t.collection,disabledKeys:t.disabledKeys,disabledBehavior:f,ref:l,direction:c,collator:m,layoutDelegate:i,layout:s}),[n,t.collection,t.disabledKeys,f,l,c,m,i,s]),u=gt(e.id);Dt.set(t,u);let{gridProps:p}=Sr({...e,id:u,keyboardDelegate:d},t,l);r&&(p["aria-rowcount"]=t.collection.size+t.collection.headerRows.length),Oe()&&"expandedKeys"in t&&(p.role="treegrid");let{column:h,direction:x}=t.sortDescriptor||{},y=ye(zr(Ye),"@react-aria/table"),g=a.useMemo(()=>{var A,k;let w=(k=(A=t.collection.columns.find($=>$.key===h))===null||A===void 0?void 0:A.textValue)!==null&&k!==void 0?k:"";return x&&h?y.format(`${x}Sort`,{columnName:w}):void 0},[x,h,t.collection.columns]),v=bt(g);return fl(()=>{g&&sl(g,"assertive",500)},[g]),{gridProps:K(p,v,{"aria-describedby":[v["aria-describedby"],p["aria-describedby"]].filter(Boolean).join(" ")})}}function Fr(e){return e&&e.__esModule?e.default:e}function Rr(e,t,l){var n,r;let{node:i}=e,s=i.props.allowsSorting,{gridCellProps:m}=tn({...e,focusMode:"child"},t,l),c=i.props.isSelectionCell&&t.selectionManager.selectionMode==="single",{pressProps:f}=Le({isDisabled:!s||c,onPress(){t.sort(i.key)},ref:l}),{focusableProps:d}=il({},l),u,p=((n=t.sortDescriptor)===null||n===void 0?void 0:n.column)===i.key,h=(r=t.sortDescriptor)===null||r===void 0?void 0:r.direction;i.props.allowsSorting&&!Yt()&&(u=p?h:"none");let x=ye(Fr(Ye),"@react-aria/table"),y;s&&(y=`${x.format("sortable")}`,p&&h&&Yt()&&(y=`${y}, ${x.format(h)}`));let g=bt(y),v=t.collection.size===0;return a.useEffect(()=>{v&&t.selectionManager.focusedKey===i.key&&t.selectionManager.setFocusedKey(null)},[v,t.selectionManager,i.key]),{columnHeaderProps:{...K(d,m,f,g,v?{tabIndex:-1}:null),role:"columnheader",id:Ar(t,i.key),"aria-colspan":i.colSpan&&i.colSpan>1?i.colSpan:void 0,"aria-sort":u}}}const el={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function Mr(e,t,l){let{node:n,isVirtualized:r}=e,{rowProps:i,...s}=Er(e,t,l),{direction:m}=We();r&&!(Oe()&&"expandedKeys"in t)?i["aria-rowindex"]=n.index+1+t.collection.headerRows.length:delete i["aria-rowindex"];let c={};if(Oe()&&"expandedKeys"in t){let $=t.keyMap.get(n.key);if($!=null){var f,d,u,p,h,x;let z=((f=$.props)===null||f===void 0?void 0:f.UNSTABLE_childItems)||((u=$.props)===null||u===void 0||(d=u.children)===null||d===void 0?void 0:d.length)>t.userColumnCount;var y,g,v,A;c={onKeyDown:P=>{(P.key===el.expand[m]&&t.selectionManager.focusedKey===$.key&&z&&t.expandedKeys!=="all"&&!t.expandedKeys.has($.key)||P.key===el.collapse[m]&&t.selectionManager.focusedKey===$.key&&z&&(t.expandedKeys==="all"||t.expandedKeys.has($.key)))&&(t.toggleKey($.key),P.stopPropagation())},"aria-expanded":z?t.expandedKeys==="all"||t.expandedKeys.has(n.key):void 0,"aria-level":$.level,"aria-posinset":((y=$.indexOfType)!==null&&y!==void 0?y:0)+1,"aria-setsize":$.level>1?((v=(p=ae((g=(h=t.keyMap.get($.parentKey))===null||h===void 0?void 0:h.childNodes)!==null&&g!==void 0?g:[]))===null||p===void 0?void 0:p.indexOfType)!==null&&v!==void 0?v:0)+1:((A=(x=ae(t.collection.body.childNodes))===null||x===void 0?void 0:x.indexOfType)!==null&&A!==void 0?A:0)+1}}}let k=tr(n.props),w=s.hasAction?k:{};return{rowProps:{...K(i,c,w),"aria-labelledby":nn(t,n.key)},...s}}function Kr(e,t,l){let{node:n,isVirtualized:r}=e,i={role:"row"};return r&&!(Oe()&&"expandedKeys"in t)&&(i["aria-rowindex"]=n.index+1),{rowProps:i}}function Tr(e,t,l){var n;let{gridCellProps:r,isPressed:i}=tn(e,t,l),s=(n=e.node.column)===null||n===void 0?void 0:n.key;return s!=null&&t.collection.rowHeaderColumnKeys.has(s)&&(r.role="rowheader",r.id=ln(t,e.node.parentKey,s)),{gridCellProps:r,isPressed:i}}function Vr(e){return e&&e.__esModule?e.default:e}function Lr(e,t){let{key:l}=e;const{checkboxProps:n}=Nr(e,t);return{checkboxProps:{...n,"aria-labelledby":`${n.id} ${nn(t,l)}`}}}function Or(e){let{isEmpty:t,isSelectAll:l,selectionMode:n}=e.selectionManager;return{checkboxProps:{"aria-label":ye(Vr(Ye),"@react-aria/table").format(n==="single"?"select":"selectAll"),isSelected:l,isDisabled:n!=="multiple"||e.collection.size===0||e.collection.rows.length===1&&e.collection.rows[0].type==="loader",isIndeterminate:!t&&!l,onChange:()=>e.selectionManager.toggleSelectAll()}}}function Tn(){return jr()}function Hr(e){let{collection:t,focusMode:l}=e,n=e.UNSAFE_selectionState||ol(e),r=a.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),i=n.setFocusedKey;n.setFocusedKey=(c,f)=>{if(l==="cell"&&c!=null){let x=t.getItem(c);if(x?.type==="item"){var d,u;let y=O(x,t);var p,h;f==="last"?c=(p=(d=ae(y))===null||d===void 0?void 0:d.key)!==null&&p!==void 0?p:null:c=(h=(u=se(y))===null||u===void 0?void 0:u.key)!==null&&h!==void 0?h:null}}i(c,f)};let s=a.useMemo(()=>new To(t,n),[t,n]);const m=a.useRef(null);return a.useEffect(()=>{if(n.focusedKey!=null&&m.current&&!t.getItem(n.focusedKey)){const c=m.current.getItem(n.focusedKey),f=c?.parentKey!=null&&(c.type==="cell"||c.type==="rowheader"||c.type==="column")?m.current.getItem(c.parentKey):c;if(!f){n.setFocusedKey(null);return}const d=m.current.rows,u=t.rows,p=d.length-u.length;let h=Math.min(p>1?Math.max(f.index-p+1,0):f.index,u.length-1),x=null;for(;h>=0;){if(!s.isDisabled(u[h].key)&&u[h].type!=="headerrow"){x=u[h];break}h<u.length-1?h++:(h>f.index&&(h=f.index),h--)}if(x){const y=x.hasChildNodes?[...O(x,t)]:[],g=x.hasChildNodes&&f!==c&&c&&c.index<y.length?y[c.index].key:x.key;n.setFocusedKey(g)}else n.setFocusedKey(null)}m.current=t},[t,s,n,n.focusedKey]),{collection:t,disabledKeys:r,isKeyboardNavigationDisabled:!1,selectionManager:s}}class Ur{*[Symbol.iterator](){yield*[...this.rows]}get size(){return[...this.rows].length}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let l=this.keyMap.get(t);var n;return l&&(n=l.prevKey)!==null&&n!==void 0?n:null}getKeyAfter(t){let l=this.keyMap.get(t);var n;return l&&(n=l.nextKey)!==null&&n!==void 0?n:null}getFirstKey(){var t;return(t=[...this.rows][0])===null||t===void 0?void 0:t.key}getLastKey(){var t;let l=[...this.rows];return(t=l[l.length-1])===null||t===void 0?void 0:t.key}getItem(t){var l;return(l=this.keyMap.get(t))!==null&&l!==void 0?l:null}at(t){const l=[...this.getKeys()];return this.getItem(l[t])}getChildren(t){let l=this.keyMap.get(t);return l?.childNodes||[]}constructor(t){this.keyMap=new Map,this.keyMap=new Map,this.columnCount=t?.columnCount,this.rows=[];let l=u=>{let p=this.keyMap.get(u.key);t.visitNode&&(u=t.visitNode(u)),this.keyMap.set(u.key,u);let h=new Set,x=null,y=!1;if(u.type==="item"){var g;for(let $ of u.childNodes)if(((g=$.props)===null||g===void 0?void 0:g.colSpan)!==void 0){y=!0;break}}for(let $ of u.childNodes){if($.type==="cell"&&y){var v,A;$.colspan=(v=$.props)===null||v===void 0?void 0:v.colSpan,$.colSpan=(A=$.props)===null||A===void 0?void 0:A.colSpan;var k,w;$.colIndex=x?((k=x.colIndex)!==null&&k!==void 0?k:x.index)+((w=x.colSpan)!==null&&w!==void 0?w:1):$.index}$.type==="cell"&&$.parentKey==null&&($.parentKey=u.key),h.add($.key),x?(x.nextKey=$.key,$.prevKey=x.key):$.prevKey=null,l($),x=$}if(x&&(x.nextKey=null),p)for(let $ of p.childNodes)h.has($.key)||n($)},n=u=>{this.keyMap.delete(u.key);for(let p of u.childNodes)this.keyMap.get(p.key)===p&&n(p)},r=null;for(let[u,p]of t.items.entries()){var i,s,m,c,f,d;let h={...p,level:(i=p.level)!==null&&i!==void 0?i:0,key:(s=p.key)!==null&&s!==void 0?s:"row-"+u,type:(m=p.type)!==null&&m!==void 0?m:"row",value:(c=p.value)!==null&&c!==void 0?c:null,hasChildNodes:!0,childNodes:[...p.childNodes],rendered:p.rendered,textValue:(f=p.textValue)!==null&&f!==void 0?f:"",index:(d=p.index)!==null&&d!==void 0?d:u};r?(r.nextKey=h.key,h.prevKey=r.key):h.prevKey=null,this.rows.push(h),l(h),r=h}r&&(r.nextKey=null)}}const Vn="row-header-column-"+Math.random().toString(36).slice(2);let ft="row-header-column-"+Math.random().toString(36).slice(2);for(;Vn===ft;)ft="row-header-column-"+Math.random().toString(36).slice(2);function Ln(e,t){if(t.length===0)return[];let l=[],n=new Map;for(let d of t){let u=d.parentKey,p=[d];for(;u;){let h=e.get(u);if(!h)break;if(n.has(h)){var r,i;(i=(r=h).colSpan)!==null&&i!==void 0||(r.colSpan=0),h.colSpan++,h.colspan=h.colSpan;let{column:x,index:y}=n.get(h);if(y>p.length)break;for(let g=y;g<p.length;g++)x.splice(g,0,null);for(let g=p.length;g<x.length;g++)x[g]&&n.has(x[g])&&(n.get(x[g]).index=g)}else h.colSpan=1,h.colspan=1,p.push(h),n.set(h,{column:p,index:p.length-1});u=h.parentKey}l.push(p),d.index=l.length-1}let s=Math.max(...l.map(d=>d.length)),m=Array(s).fill(0).map(()=>[]),c=0;for(let d of l){let u=s-1;for(let p of d){if(p){let h=m[u],x=h.reduce((y,g)=>{var v;return y+((v=g.colSpan)!==null&&v!==void 0?v:1)},0);if(x<c){let y={type:"placeholder",key:"placeholder-"+p.key,colspan:c-x,colSpan:c-x,index:x,value:null,rendered:null,level:u,hasChildNodes:!1,childNodes:[],textValue:""};h.length>0&&(h[h.length-1].nextKey=y.key,y.prevKey=h[h.length-1].key),h.push(y)}h.length>0&&(h[h.length-1].nextKey=p.key,p.prevKey=h[h.length-1].key),p.level=u,p.colIndex=c,h.push(p)}u--}c++}let f=0;for(let d of m){let u=d.reduce((p,h)=>{var x;return p+((x=h.colSpan)!==null&&x!==void 0?x:1)},0);if(u<t.length){let p={type:"placeholder",key:"placeholder-"+d[d.length-1].key,colSpan:t.length-u,colspan:t.length-u,index:u,value:null,rendered:null,level:f,hasChildNodes:!1,childNodes:[],textValue:"",prevKey:d[d.length-1].key};d.push(p)}f++}return m.map((d,u)=>({type:"headerrow",key:"headerrow-"+u,index:u,value:null,rendered:null,level:0,hasChildNodes:!0,childNodes:d,textValue:""}))}class Wr extends Ur{*[Symbol.iterator](){yield*this.body.childNodes}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let l=this.keyMap.get(t);var n;return(n=l?.prevKey)!==null&&n!==void 0?n:null}getKeyAfter(t){let l=this.keyMap.get(t);var n;return(n=l?.nextKey)!==null&&n!==void 0?n:null}getFirstKey(){var t,l;return(l=(t=se(this.body.childNodes))===null||t===void 0?void 0:t.key)!==null&&l!==void 0?l:null}getLastKey(){var t,l;return(l=(t=ae(this.body.childNodes))===null||t===void 0?void 0:t.key)!==null&&l!==void 0?l:null}getItem(t){var l;return(l=this.keyMap.get(t))!==null&&l!==void 0?l:null}at(t){const l=[...this.getKeys()];return this.getItem(l[t])}getChildren(t){return t===this.body.key?this.body.childNodes:super.getChildren(t)}getTextValue(t){let l=this.getItem(t);if(!l)return"";if(l.textValue)return l.textValue;let n=this.rowHeaderColumnKeys;if(n){let r=[];for(let i of l.childNodes){let s=this.columns[i.index];if(n.has(s.key)&&i.textValue&&r.push(i.textValue),r.length===n.size)break}return r.join(" ")}return""}constructor(t,l,n){let r=new Set,i=null,s=[];if(n?.showSelectionCheckboxes){let u={type:"column",key:Vn,value:null,textValue:"",level:0,index:n?.showDragButtons?1:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isSelectionCell:!0}};s.unshift(u)}if(n?.showDragButtons){let u={type:"column",key:ft,value:null,textValue:"",level:0,index:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isDragButtonCell:!0}};s.unshift(u)}let m=[],c=new Map,f=u=>{switch(u.type){case"body":i=u;break;case"column":c.set(u.key,u),u.hasChildNodes||(s.push(u),u.props.isRowHeader&&r.add(u.key));break;case"item":m.push(u);return}for(let p of u.childNodes)f(p)};for(let u of t)f(u);let d=Ln(c,s);if(d.forEach((u,p)=>m.splice(p,0,u)),super({columnCount:s.length,items:m,visitNode:u=>(u.column=s[u.index],u)}),this._size=0,this.columns=s,this.rowHeaderColumnKeys=r,this.body=i,this.headerRows=d,this._size=[...i.childNodes].length,this.rowHeaderColumnKeys.size===0){let u=this.columns.find(p=>{var h,x;return!(!((h=p.props)===null||h===void 0)&&h.isDragButtonCell)&&!(!((x=p.props)===null||x===void 0)&&x.isSelectionCell)});u&&this.rowHeaderColumnKeys.add(u.key)}}}const qr={ascending:"descending",descending:"ascending"};function _r(e){let[t,l]=a.useState(!1),{selectionMode:n="none",showSelectionCheckboxes:r,showDragButtons:i}=e,s=a.useMemo(()=>({showSelectionCheckboxes:r&&n!=="none",showDragButtons:i,selectionMode:n,columns:[]}),[e.children,r,n,i]),m=Vo(e,a.useCallback(u=>new Wr(u,null,s),[s]),s),{disabledKeys:c,selectionManager:f}=Hr({...e,collection:m,disabledBehavior:e.disabledBehavior||"selection"});var d;return{collection:m,disabledKeys:c,selectionManager:f,showSelectionCheckboxes:e.showSelectionCheckboxes||!1,sortDescriptor:(d=e.sortDescriptor)!==null&&d!==void 0?d:null,isKeyboardNavigationDisabled:m.size===0||t,setKeyboardNavigationDisabled:l,sort(u,p){var h,x;(x=e.onSortChange)===null||x===void 0||x.call(e,{column:u,direction:p??(((h=e.sortDescriptor)===null||h===void 0?void 0:h.column)===u?qr[e.sortDescriptor.direction]:"ascending")})}}}function Gr(e,t){let l=a.useMemo(()=>t?e.collection.filter(t):e.collection,[e.collection,t]),n=e.selectionManager.withCollection(l);return{...e,collection:l,selectionManager:n}}const Yr=a.createContext(null),Zr=a.createContext(null),Qr=a.forwardRef(function(t,l){let{inputRef:n=null,...r}=t;[t,l]=qe(r,l,yt);let{validationBehavior:i}=lr(Yr)||{};var s,m;let c=(m=(s=t.validationBehavior)!==null&&s!==void 0?s:i)!==null&&m!==void 0?m:"native",f=a.useContext(Zr),d=$e(a.useMemo(()=>al(n,t.inputRef!==void 0?t.inputRef:null),[n,t.inputRef])),{labelProps:u,inputProps:p,isSelected:h,isDisabled:x,isReadOnly:y,isPressed:g,isInvalid:v}=f?yr({...Zt(t),value:t.value,children:typeof t.children=="function"?!0:t.children},f,d):vl({...Zt(t),children:typeof t.children=="function"?!0:t.children,validationBehavior:c},gl(t),d),{isFocused:A,isFocusVisible:k,focusProps:w}=ce(),$=x||y,{hoverProps:z,isHovered:P}=Ce({...t,isDisabled:$}),F=ee({...t,defaultClassName:"react-aria-Checkbox",values:{isSelected:h,isIndeterminate:t.isIndeterminate||!1,isPressed:g,isHovered:P,isFocused:A,isFocusVisible:k,isDisabled:x,isReadOnly:y,isInvalid:v,isRequired:t.isRequired||!1}}),N=Z(t,{global:!0});return delete N.id,delete N.onClick,B.createElement("label",{...K(N,u,z,F),ref:l,slot:t.slot||void 0,"data-selected":h||void 0,"data-indeterminate":t.isIndeterminate||void 0,"data-pressed":g||void 0,"data-hovered":P||void 0,"data-focused":A||void 0,"data-focus-visible":k||void 0,"data-disabled":x||void 0,"data-readonly":y||void 0,"data-invalid":v||void 0,"data-required":t.isRequired||void 0},B.createElement(nr,{elementType:"span"},B.createElement("input",{...K(p,w),ref:d})),F.children)}),Jr=a.createContext({}),Xr=a.forwardRef(function(t,l){[t,l]=qe(t,l,Jr);let{isDisabled:n,isInvalid:r,onHoverStart:i,onHoverChange:s,onHoverEnd:m,...c}=t,{hoverProps:f,isHovered:d}=Ce({onHoverStart:i,onHoverChange:s,onHoverEnd:m,isDisabled:n}),{isFocused:u,isFocusVisible:p,focusProps:h}=ce({within:!0});n??(n=!!t["aria-disabled"]&&t["aria-disabled"]!=="false"),r??(r=!!t["aria-invalid"]&&t["aria-invalid"]!=="false");let x=ee({...t,values:{isHovered:d,isFocusWithin:u,isFocusVisible:p,isDisabled:n,isInvalid:r},defaultClassName:"react-aria-Group"});var y,g;return B.createElement("div",{...K(c,h,f),...x,ref:l,role:(y=t.role)!==null&&y!==void 0?y:"group",slot:(g=t.slot)!==null&&g!==void 0?g:void 0,"data-focus-within":u||void 0,"data-hovered":d||void 0,"data-focus-visible":p||void 0,"data-disabled":n||void 0,"data-invalid":r||void 0},x.children)}),De=a.createContext({}),On=a.createContext(null),ei=a.forwardRef(function(t,l){let{render:n}=a.useContext(On);return B.createElement(B.Fragment,null,n(t,l))});function ti(e,t){var l;let n=e?.renderDropIndicator,r=e==null||(l=e.isVirtualDragging)===null||l===void 0?void 0:l.call(e),i=a.useCallback(s=>{if(r||t?.isDropTarget(s))return n?n(s):B.createElement(ei,{target:s})},[t?.target,r,n]);return e?.useDropIndicator?i:void 0}function li(e,t,l){var n,r;let i=e.focusedKey,s=null;if(!(t==null||(n=t.isVirtualDragging)===null||n===void 0)&&n.call(t)&&(l==null||(r=l.target)===null||r===void 0?void 0:r.type)==="item"&&(s=l.target.key,l.target.dropPosition==="after")){let u=l.collection.getKeyAfter(s),p=null;if(u!=null){var m,c;let h=(c=(m=l.collection.getItem(s))===null||m===void 0?void 0:m.level)!==null&&c!==void 0?c:0;for(;u;){let x=l.collection.getItem(u);if(!x)break;if(x.type!=="item"){u=l.collection.getKeyAfter(u);continue}var f;if(((f=x.level)!==null&&f!==void 0?f:0)<=h)break;p=u,u=l.collection.getKeyAfter(u)}}var d;s=(d=u??p)!==null&&d!==void 0?d:s}return a.useMemo(()=>new Set([i,s].filter(u=>u!=null)),[i,s])}class ni extends Oo{addNode(t){super.addNode(t),this.columnsDirty||(this.columnsDirty=t.type==="column"),t.type==="tableheader"&&(this.head=t),t.type==="tablebody"&&(this.body=t)}commit(t,l,n=!1){this.updateColumns(n),this.rows=[];for(let s of this.getChildren(this.body.key)){let m=s.lastChildKey;if(m!=null){let c=this.getItem(m);var r,i;let f=((r=c.colIndex)!==null&&r!==void 0?r:c.index)+((i=c.colSpan)!==null&&i!==void 0?i:1);if(f!==this.columns.length&&!n)throw new Error(`Cell count must match column count. Found ${f} cells and ${this.columns.length} columns.`)}this.rows.push(s)}super.commit(t,l,n)}updateColumns(t){if(!this.columnsDirty)return;this.rowHeaderColumnKeys=new Set,this.columns=[];let l=new Map,n=r=>{switch(r.type){case"column":l.set(r.key,r),r.hasChildNodes||(r.index=this.columns.length,this.columns.push(r),r.props.isRowHeader&&this.rowHeaderColumnKeys.add(r.key));break}for(let i of this.getChildren(r.key))n(i)};for(let r of this.getChildren(this.head.key))n(r);if(this.headerRows=Ln(l,this.columns),this.columnsDirty=!1,this.rowHeaderColumnKeys.size===0&&this.columns.length>0&&!t)throw new Error("A table must have at least one Column with the isRowHeader prop set to true")}get columnCount(){return this.columns.length}*[Symbol.iterator](){this.head.key!==-1&&(yield this.head,yield this.body)}getFirstKey(){return this.body.firstChildKey}getLastKey(){return this.body.lastChildKey}getKeyAfter(t){let l=this.getItem(t);var n;return l?.type==="column"?(n=l.nextKey)!==null&&n!==void 0?n:null:super.getKeyAfter(t)}getKeyBefore(t){var l;let n=this.getItem(t);var r;if(n?.type==="column")return(r=n.prevKey)!==null&&r!==void 0?r:null;let i=super.getKeyBefore(t);return i!=null&&((l=this.getItem(i))===null||l===void 0?void 0:l.type)==="tablebody"?null:i}getChildren(t){if(!this.getItem(t)){for(let l of this.headerRows)if(l.key===t)return l.childNodes}return super.getChildren(t)}clone(){let t=super.clone();return t.headerRows=this.headerRows,t.columns=this.columns,t.rowHeaderColumnKeys=this.rowHeaderColumnKeys,t.head=this.head,t.body=this.body,t}getTextValue(t){let l=this.getItem(t);if(!l)return"";if(l.textValue)return l.textValue;let n=this.rowHeaderColumnKeys,r=[];for(let i of this.getChildren(t)){let s=this.columns[i.index];if(n.has(s.key)&&i.textValue&&r.push(i.textValue),r.length===n.size)break}return r.join(" ")}constructor(...t){super(...t),this.headerRows=[],this.columns=[],this.rows=[],this.rowHeaderColumnKeys=new Set,this.head=new kt(-1),this.body=new wt(-2),this.columnsDirty=!0}}const oi=a.createContext(null),ri=a.createContext(null),te=a.createContext(null),Hn=a.createContext(null),ii=a.forwardRef(function(t,l){var n;[t,l]=qe(t,l,ri);let r=ol(t),{selectionBehavior:i,selectionMode:s,disallowEmptySelection:m}=r,c=!!(!((n=t.dragAndDropHooks)===null||n===void 0)&&n.useDraggableCollectionState),f=a.useMemo(()=>({selectionBehavior:s==="none"?null:i,selectionMode:s,disallowEmptySelection:m,allowsDragging:c}),[i,s,m,c]),d=B.createElement(Un.Provider,{value:f},B.createElement(Ee,t));return B.createElement(Lo,{content:d,createCollection:()=>new ni},u=>B.createElement(si,{props:t,forwardedRef:l,selectionState:r,collection:u}))});function si({props:e,forwardedRef:t,selectionState:l,collection:n}){let r;[r]=qe({},null,Gt);let{filter:i,...s}=r,{shouldUseVirtualFocus:m,disallowTypeAhead:c,...f}=s||{},d=a.useContext(oi);t=$e(a.useMemo(()=>al(t,d?.tableRef),[t,d?.tableRef]));let u=_r({...e,collection:n,children:void 0,UNSAFE_selectionState:l}),p=Gr(u,i),{isVirtualized:h,layoutDelegate:x,dropTargetDelegate:y,CollectionRoot:g}=a.useContext(Y),{dragAndDropHooks:v}=e,{gridProps:A}=Ir({...e,...f,layoutDelegate:x,isVirtualized:h},p,t),k=p.selectionManager,w=!!v?.useDraggableCollectionState,$=!!v?.useDroppableCollectionState;a.useRef(w),a.useRef($),a.useEffect(()=>{},[w,$]);let z,P,F,N=!1,E=null,M=a.useRef(null);if(w&&v){z=v.useDraggableCollectionState({collection:p.collection,selectionManager:k,preview:v.renderDragPreview?M:void 0}),v.useDraggableCollection({},z,t);let S=v.DragPreview;E=v.renderDragPreview?B.createElement(S,{ref:M},v.renderDragPreview):null}if($&&v){P=v.useDroppableCollectionState({collection:p.collection,selectionManager:k});let S=new Ho({collection:p.collection,disabledKeys:k.disabledKeys,disabledBehavior:k.disabledBehavior,ref:t,layoutDelegate:x}),T=v.dropTargetDelegate||y||new v.ListDropTargetDelegate(n.rows,t);F=v.useDroppableCollection({keyboardDelegate:S,dropTargetDelegate:T},P,t),N=P.isDropTarget({type:"root"})}let{focusProps:q,isFocused:ne,isFocusVisible:oe}=ce(),Q=ee({className:e.className,style:e.style,defaultClassName:"react-aria-Table",values:{isDropTarget:N,isFocused:ne,isFocusVisible:oe,state:p}}),ke=!!(w&&!z?.isDisabled),le=Q.style,me=null;d&&(me=d.useTableColumnResizeState({tableWidth:d.tableWidth},p),h||(le={...le,tableLayout:"fixed",width:"fit-content"}));let pe=U("table"),we=Z(e,{global:!0});var G;return B.createElement(_e,{values:[[te,p],[Hn,me],[De,{dragAndDropHooks:v,dragState:z,dropState:P}],[On,{render:pi}],[Gt,null],[Uo,null]]},B.createElement(or,null,B.createElement(pe,{...K(we,Q,A,q,F?.collectionProps),style:le,ref:t,slot:e.slot||void 0,onScroll:e.onScroll,"data-allows-dragging":ke||void 0,"data-drop-target":N||void 0,"data-focused":ne||void 0,"data-focus-visible":oe||void 0},B.createElement(g,{collection:p.collection,scrollRef:(G=d?.scrollRef)!==null&&G!==void 0?G:t,persistedKeys:li(k,v,P)}))),E)}function U(e){let{isVirtualized:t}=a.useContext(Y);return t?"div":e}const Un=a.createContext(null);function Ze(){return a.useContext(Un)}class kt extends Ue{}kt.type="tableheader";const ai=xt(kt,(e,t)=>{let l=a.useContext(te).collection,n=_o({items:l.headerRows,children:a.useCallback(f=>{switch(f.type){case"headerrow":return B.createElement(ui,{item:f});default:throw new Error("Unsupported node type in TableHeader: "+f.type)}},[])}),r=U("thead"),{rowGroupProps:i}=Tn(),{hoverProps:s,isHovered:m}=Ce({onHoverStart:e.onHoverStart,onHoverChange:e.onHoverChange,onHoverEnd:e.onHoverEnd}),c=ee({className:e.className,style:e.style,defaultClassName:"react-aria-TableHeader",values:{isHovered:m}});return B.createElement(r,{...K(Z(e,{global:!0}),i,s),...c,ref:t,"data-hovered":m||void 0},n)},e=>B.createElement(Ee,{dependencies:e.dependencies,items:e.columns},e.children));function ui({item:e}){let t=a.useRef(null),l=a.useContext(te),{isVirtualized:n,CollectionBranch:r}=a.useContext(Y),{rowProps:i}=Kr({node:e,isVirtualized:n},l,t),{checkboxProps:s}=Or(l),m=U("tr");return B.createElement(m,{...i,ref:t},B.createElement(_e,{values:[[yt,{slots:{selection:s}}]]},B.createElement(r,{collection:l.collection,parent:e})))}class Wn extends Ue{}Wn.type="column";const qn=ht(Wn,(e,t,l)=>{var n,r;let i=$e(t),s=a.useContext(te),{isVirtualized:m}=a.useContext(Y),{columnHeaderProps:c}=Rr({node:l,isVirtualized:m},s,i),{isFocused:f,isFocusVisible:d,focusProps:u}=ce(),p=a.useContext(Hn),h=!1;p&&(h=p.resizingColumn===l.key);let{hoverProps:x,isHovered:y}=Ce({isDisabled:!e.allowsSorting}),g=ee({...e,id:void 0,children:l.rendered,defaultClassName:"react-aria-Column",values:{isHovered:y,isFocused:f,isFocusVisible:d,allowsSorting:l.props.allowsSorting,sortDirection:((n=s.sortDescriptor)===null||n===void 0?void 0:n.column)===l.key?s.sortDescriptor.direction:void 0,isResizing:h,startResize:()=>{if(p)p.startResize(l.key),s.setKeyboardNavigationDisabled(!0);else throw new Error("Wrap your <Table> in a <ResizableTableContainer> to enable column resizing")},sort:w=>{s.sort(l.key,w)}}}),v=g.style;p&&(v={...v,width:p.getColumnWidth(l.key)});let A=U("th"),k=Z(e,{global:!0});return delete k.id,B.createElement(A,{...K(k,c,u,x),...g,style:v,ref:i,"data-hovered":y||void 0,"data-focused":f||void 0,"data-focus-visible":d||void 0,"data-resizing":h||void 0,"data-allows-sorting":l.props.allowsSorting||void 0,"data-sort-direction":((r=s.sortDescriptor)===null||r===void 0?void 0:r.column)===l.key?s.sortDescriptor.direction:void 0},B.createElement(_e,{values:[[di,{column:l,triggerRef:i}],[Y,rl]]},g.children))}),di=a.createContext(null);class wt extends Wo{}wt.type="tablebody";const ci=xt(wt,(e,t)=>{let l=a.useContext(te),{isVirtualized:n}=a.useContext(Y),r=l.collection,{CollectionBranch:i}=a.useContext(Y),{dragAndDropHooks:s,dropState:m}=a.useContext(De),c=!!s?.useDroppableCollectionState&&!m?.isDisabled;var f;let d=c&&!!m&&((f=m.isDropTarget({type:"root"}))!==null&&f!==void 0?f:!1),u=r.size===0,p={isDropTarget:d,isEmpty:u},h=ee({...e,id:void 0,children:void 0,defaultClassName:"react-aria-TableBody",values:p}),x,y=U("tr"),g=U("td"),v=r.columnCount;if(u&&e.renderEmptyState&&l){let $={},z={},P={};n?(z["aria-colspan"]=v,P={display:"contents"}):z.colSpan=v,x=B.createElement(y,{role:"row",...$,style:P},B.createElement(g,{role:"rowheader",...z,style:P},e.renderEmptyState(p)))}let{rowGroupProps:A}=Tn(),k=U("tbody"),w=Z(e,{global:!0});return B.createElement(k,{...K(w,h,A),ref:t,"data-empty":u||void 0},c&&B.createElement(hi,null),B.createElement(i,{collection:r,parent:r.body,renderDropIndicator:ti(s,m)}),x)});class _n extends Ue{filter(t,l,n){let r=t.getChildren(this.key);for(let i of r)if(n(i.textValue,i)){let s=this.clone();return l.addDescendants(s,t),s}return null}}_n.type="item";const mi=xt(_n,(e,t,l)=>{let n=$e(t),r=a.useContext(te),{dragAndDropHooks:i,dragState:s,dropState:m}=a.useContext(De),{isVirtualized:c,CollectionBranch:f}=a.useContext(Y),{rowProps:d,...u}=Mr({node:l,shouldSelectOnPressUp:!!s,isVirtualized:c},r,n),{isFocused:p,isFocusVisible:h,focusProps:x}=ce(),{isFocusVisible:y,focusProps:g}=ce({within:!0}),{hoverProps:v,isHovered:A}=Ce({isDisabled:!u.allowsSelection&&!u.hasAction,onHoverStart:e.onHoverStart,onHoverChange:e.onHoverChange,onHoverEnd:e.onHoverEnd}),{checkboxProps:k}=Lr({key:l.key},r),w;s&&i&&(w=i.useDraggableItem({key:l.key,hasDragButton:!0},s));let $,z=a.useRef(null),{visuallyHiddenProps:P}=$t();m&&i&&($=i.useDropIndicator({target:{type:"item",key:l.key,dropPosition:"on"}},m,z));let F=a.useRef(null);a.useEffect(()=>{s&&F.current},[]);let N=s&&s.isDragging(l.key),{children:E,...M}=e,q=ee({...M,id:void 0,defaultClassName:"react-aria-Row",values:{...u,isHovered:A,isFocused:p,isFocusVisible:h,selectionMode:r.selectionManager.selectionMode,selectionBehavior:r.selectionManager.selectionBehavior,isDragging:N,isDropTarget:$?.isDropTarget,isFocusVisibleWithin:y,id:l.key}}),ne=U("tr"),oe=U("td"),Q=Z(e,{global:!0});return delete Q.id,delete Q.onClick,B.createElement(B.Fragment,null,$&&!$.isHidden&&B.createElement(ne,{role:"row",style:{height:0}},B.createElement(oe,{role:"gridcell",colSpan:r.collection.columnCount,style:{padding:0}},B.createElement("div",{role:"button",...P,...$.dropIndicatorProps,ref:z}))),B.createElement(ne,{...K(Q,q,d,x,v,w?.dragProps,g),ref:n,"data-disabled":u.isDisabled||void 0,"data-selected":u.isSelected||void 0,"data-hovered":A||void 0,"data-focused":u.isFocused||void 0,"data-focus-visible":h||void 0,"data-pressed":u.isPressed||void 0,"data-dragging":N||void 0,"data-drop-target":$?.isDropTarget||void 0,"data-selection-mode":r.selectionManager.selectionMode==="none"?void 0:r.selectionManager.selectionMode,"data-focus-visible-within":y||void 0},B.createElement(_e,{values:[[yt,{slots:{[Qt]:{},selection:k}}],[rr,{slots:{[Qt]:{},drag:{...w?.dragButtonProps,ref:F,style:{pointerEvents:"none"}}}}]]},B.createElement(f,{collection:r.collection,parent:l}))))},e=>{if(e.id==null&&typeof e.children=="function")throw new Error("No id detected for the Row element. The Row element requires a id to be provided to it when the cells are rendered dynamically.");let t=[e.value].concat(e.dependencies);return B.createElement(Ee,{dependencies:t,items:e.columns,idScope:e.id},e.children)});class Gn extends Ue{}Gn.type="cell";const Yn=ht(Gn,(e,t,l)=>{let n=$e(t),r=a.useContext(te),{dragState:i}=a.useContext(De),{isVirtualized:s}=a.useContext(Y);l.column=r.collection.columns[l.index];let{gridCellProps:m,isPressed:c}=Tr({node:l,shouldSelectOnPressUp:!!i,isVirtualized:s},r,n),{isFocused:f,isFocusVisible:d,focusProps:u}=ce(),{hoverProps:p,isHovered:h}=Ce({}),x=ee({...e,id:void 0,defaultClassName:"react-aria-Cell",values:{isFocused:f,isFocusVisible:d,isPressed:c,isHovered:h,id:l.key}}),y=U("td"),g=Z(e,{global:!0});return delete g.id,B.createElement(y,{...K(g,x,m,u,p),ref:n,"data-focused":f||void 0,"data-focus-visible":d||void 0,"data-pressed":c||void 0},B.createElement(Y.Provider,{value:rl},x.children))});function pi(e,t){t=$e(t);let{dragAndDropHooks:l,dropState:n}=a.useContext(De),r=a.useRef(null),{dropIndicatorProps:i,isHidden:s,isDropTarget:m}=l.useDropIndicator(e,n,r);return s?null:B.createElement(bi,{...e,dropIndicatorProps:i,isDropTarget:m,buttonRef:r,ref:t})}function fi(e,t){let{dropIndicatorProps:l,isDropTarget:n,buttonRef:r,...i}=e,s=a.useContext(te),{visuallyHiddenProps:m}=$t(),c=ee({...i,defaultClassName:"react-aria-DropIndicator",values:{isDropTarget:n}}),f=U("tr"),d=U("td");return B.createElement(f,{...Z(e,{global:!0}),...c,role:"row",ref:t,"data-drop-target":n||void 0},B.createElement(d,{role:"gridcell",colSpan:s.collection.columnCount,style:{padding:0}},B.createElement("div",{...m,role:"button",...l,ref:r}),c.children))}const bi=a.forwardRef(fi);function hi(){let e=a.useContext(te),{dragAndDropHooks:t,dropState:l}=a.useContext(De),n=a.useRef(null),{dropIndicatorProps:r}=t.useDropIndicator({target:{type:"root"}},l,n),i=l.isDropTarget({type:"root"}),{visuallyHiddenProps:s}=$t(),m=U("tr"),c=U("td");return!i&&r["aria-hidden"]?null:B.createElement(m,{role:"row","aria-hidden":r["aria-hidden"],style:{height:0}},B.createElement(c,{role:"gridcell",colSpan:e.collection.columnCount,style:{padding:0}},B.createElement("div",{role:"button",...s,...r,ref:n})))}ht(qo,function(t,l,n){let r=a.useContext(te),{isVirtualized:i}=a.useContext(Y),{isLoading:s,onLoadMore:m,scrollOffset:c,...f}=t,d=r.collection.columns.length,u=a.useRef(null),p=a.useMemo(()=>({onLoadMore:m,collection:r?.collection,sentinelRef:u,scrollOffset:c}),[m,c,r?.collection]);ar(p,u);let h=ee({...f,id:void 0,children:n.rendered,defaultClassName:"react-aria-TableLoadingIndicator",values:null}),x=U("tr"),y=U("td"),g={},v={},A={};return i?(v["aria-colspan"]=d,A={display:"contents"}):v.colSpan=d,B.createElement(B.Fragment,null,B.createElement(x,{style:{height:0},inert:ur(!0)},B.createElement(y,{style:{padding:0,border:0}},B.createElement("div",{"data-testid":"loadMoreSentinel",ref:u,style:{position:"relative",height:1,width:1}}))),s&&h.children&&B.createElement(x,{...K(Z(t,{global:!0}),g),...h,role:"row",ref:l},B.createElement(y,{role:"rowheader",...v,style:A},h.children)))});const xi={gray:{root:"bg-utility-gray-50 text-utility-gray-700 ring-utility-gray-200",addon:"text-utility-gray-500",addonButton:"hover:bg-utility-gray-100 text-utility-gray-400 hover:text-utility-gray-500"},brand:{root:"bg-utility-brand-50 text-utility-brand-700 ring-utility-brand-200",addon:"text-utility-brand-500",addonButton:"hover:bg-utility-brand-100 text-utility-brand-400 hover:text-utility-brand-500"},error:{root:"bg-utility-error-50 text-utility-error-700 ring-utility-error-200",addon:"text-utility-error-500",addonButton:"hover:bg-utility-error-100 text-utility-error-400 hover:text-utility-error-500"},warning:{root:"bg-utility-warning-50 text-utility-warning-700 ring-utility-warning-200",addon:"text-utility-warning-500",addonButton:"hover:bg-utility-warning-100 text-utility-warning-400 hover:text-utility-warning-500"},success:{root:"bg-utility-success-50 text-utility-success-700 ring-utility-success-200",addon:"text-utility-success-500",addonButton:"hover:bg-utility-success-100 text-utility-success-400 hover:text-utility-success-500"},"gray-blue":{root:"bg-utility-gray-blue-50 text-utility-gray-blue-700 ring-utility-gray-blue-200",addon:"text-utility-gray-blue-500",addonButton:"hover:bg-utility-gray-blue-100 text-utility-gray-blue-400 hover:text-utility-gray-blue-500"},"blue-light":{root:"bg-utility-blue-light-50 text-utility-blue-light-700 ring-utility-blue-light-200",addon:"text-utility-blue-light-500",addonButton:"hover:bg-utility-blue-light-100 text-utility-blue-light-400 hover:text-utility-blue-light-500"},blue:{root:"bg-utility-blue-50 text-utility-blue-700 ring-utility-blue-200",addon:"text-utility-blue-500",addonButton:"hover:bg-utility-blue-100 text-utility-blue-400 hover:text-utility-blue-500"},indigo:{root:"bg-utility-indigo-50 text-utility-indigo-700 ring-utility-indigo-200",addon:"text-utility-indigo-500",addonButton:"hover:bg-utility-indigo-100 text-utility-indigo-400 hover:text-utility-indigo-500"},purple:{root:"bg-utility-purple-50 text-utility-purple-700 ring-utility-purple-200",addon:"text-utility-purple-500",addonButton:"hover:bg-utility-purple-100 text-utility-purple-400 hover:text-utility-purple-500"},pink:{root:"bg-utility-pink-50 text-utility-pink-700 ring-utility-pink-200",addon:"text-utility-pink-500",addonButton:"hover:bg-utility-pink-100 text-utility-pink-400 hover:text-utility-pink-500"},orange:{root:"bg-utility-orange-50 text-utility-orange-700 ring-utility-orange-200",addon:"text-utility-orange-500",addonButton:"hover:bg-utility-orange-100 text-utility-orange-400 hover:text-utility-orange-500"}};Object.fromEntries(Object.entries(xi).map(([e,t])=>[e,{root:"",addon:t.addon}]));const Zn=({className:e,isSelected:t,isDisabled:l,isIndeterminate:n,size:r="sm",isFocusVisible:i=!1})=>o.jsxs("div",{className:H("flex size-4 shrink-0 cursor-pointer appearance-none items-center justify-center rounded bg-primary/60 ring-1 ring-secondary_alt hover:ring-primary/80 ring-inset",r==="md"&&"size-5 rounded-md",(t||n)&&"bg-brand-solid ring-bg-brand-solid",l&&"cursor-not-allowed bg-disabled_subtle ring-disabled",i&&"outline-2 outline-offset-2 outline-focus-ring",e),children:[o.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 14 14",fill:"none",className:H("pointer-events-none absolute h-3 w-2.5 text-fg-white opacity-0 transition-inherit-all",r==="md"&&"size-3.5",n&&"opacity-100",l&&"text-fg-disabled_subtle"),children:o.jsx("path",{d:"M2.91675 7H11.0834",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),o.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 14 14",fill:"none",className:H("pointer-events-none absolute size-3 text-fg-white opacity-0 transition-inherit-all",r==="md"&&"size-3.5",t&&!n&&"opacity-100",l&&"text-fg-disabled_subtle"),children:o.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]});Zn.displayName="CheckboxBase";const St=({label:e,hint:t,size:l="sm",className:n,...r})=>{const i={sm:{root:"gap-2",textWrapper:"",label:"text-sm font-medium",hint:"text-sm"},md:{root:"gap-3",textWrapper:"gap-0.5",label:"text-md font-medium",hint:"text-md"}};return o.jsx(Qr,{...r,className:s=>H("flex items-start",s.isDisabled&&"cursor-not-allowed",i[l].root,typeof n=="function"?n(s):n),children:({isSelected:s,isIndeterminate:m,isDisabled:c,isFocusVisible:f})=>o.jsxs(o.Fragment,{children:[o.jsx(Zn,{size:l,isSelected:s,isIndeterminate:m,isDisabled:c,isFocusVisible:f,className:e||t?"mt-0.5":""}),(e||t)&&o.jsxs("div",{className:H("inline-flex flex-col",i[l].textWrapper),children:[e&&o.jsx("p",{className:H("text-secondary select-none",i[l].label),children:e}),t&&o.jsx("span",{className:H("text-tertiary",i[l].hint),onClick:d=>d.stopPropagation(),children:t})]})]})})};St.displayName="Checkbox";const vi=({onEdit:e,onCopyUsername:t,onDelete:l})=>o.jsxs(ue.Root,{children:[o.jsx(ue.DotsButton,{}),o.jsx(ue.Popover,{className:"w-min",children:o.jsxs(ue.Menu,{children:[o.jsx(ue.Item,{icon:ml,onAction:e,children:o.jsx("span",{className:"pr-4",children:"Edit"})}),o.jsx(ue.Item,{icon:cl,onAction:t,children:o.jsx("span",{className:"pr-4",children:"Copy username"})}),o.jsx(ue.Item,{icon:Go,onAction:l,children:o.jsx("span",{className:"pr-4",children:"Delete"})})]})})]}),ge=a.createContext({size:"md"}),gi=({children:e,className:t,size:l="md",...n})=>o.jsx(ge.Provider,{value:{size:l},children:o.jsx("div",{...n,className:H("overflow-hidden rounded-xl bg-secondary shadow-xs ring-1 ring-secondary_alt",t),children:e})}),Qn=({className:e,size:t="md",...l})=>{const n=a.useContext(ge);return o.jsx(ge.Provider,{value:{size:n?.size??t},children:o.jsx("div",{className:"overflow-x-auto",children:o.jsx(ii,{className:r=>H("w-full overflow-x-hidden",typeof e=="function"?e(r):e),...l})})})};Qn.displayName="Table";const Jn=({columns:e,children:t,bordered:l=!0,className:n,...r})=>{const{size:i}=a.useContext(ge),{selectionBehavior:s,selectionMode:m}=Ze();return o.jsxs(ai,{...r,className:c=>H("relative bg-secondary/80",i==="sm"?"h-9":"h-11",l&&"[&>tr>th]:after:pointer-events-none [&>tr>th]:after:absolute [&>tr>th]:after:inset-x-0 [&>tr>th]:after:bottom-0 [&>tr>th]:after:h-px [&>tr>th]:after:bg-secondary [&>tr>th]:focus-visible:after:bg-transparent",typeof n=="function"?n(c):n),children:[s==="toggle"&&o.jsx(qn,{className:H("relative py-2 pr-0 pl-4",i==="sm"?"w-9 md:pl-5":"w-11 md:pl-6"),children:m==="multiple"&&o.jsx("div",{className:"flex items-start opacity-90 group-data-[has-selection=false]:opacity-70 transition-opacity","data-has-selection":!0,children:o.jsx(St,{slot:"selection",size:i})})}),o.jsx(Ee,{items:e,children:t})]})};Jn.displayName="TableHeader";const Xn=({className:e,tooltip:t,label:l,children:n,...r})=>{const{selectionBehavior:i}=Ze();return o.jsx(qn,{...r,className:s=>H("relative p-0 px-6 py-2 outline-hidden focus-visible:z-1 focus-visible:ring-2 focus-visible:ring-focus-ring focus-visible:ring-offset-bg-primary focus-visible:ring-inset",i==="toggle"&&"nth-2:pl-3",s.allowsSorting&&"cursor-pointer",typeof e=="function"?e(s):e),children:s=>o.jsxs(Xr,{className:"flex items-center gap-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[l&&o.jsx("span",{className:"text-xs font-semibold whitespace-nowrap text-quaternary",children:l}),typeof n=="function"?n(s):n]}),t&&o.jsx(Fo,{title:t,placement:"top",children:o.jsx(Ro,{className:"cursor-pointer text-fg-quaternary transition duration-100 ease-linear hover:text-fg-quaternary_hover focus:text-fg-quaternary_hover",children:o.jsx(pl,{className:"size-4"})})}),s.allowsSorting&&(s.sortDirection?o.jsx(ul,{className:H("size-3 stroke-[3px] text-fg-quaternary",s.sortDirection==="ascending"&&"rotate-180")}):o.jsx(dl,{size:12,strokeWidth:3,className:"text-fg-quaternary"}))]})})};Xn.displayName="TableHead";const eo=({columns:e,children:t,className:l,highlightSelectedRow:n=!0,...r})=>{const{size:i}=a.useContext(ge),{selectionBehavior:s}=Ze();return o.jsxs(mi,{...r,className:m=>H("relative outline-focus-ring transition-colors after:pointer-events-none bg-secondary hover:bg-secondary/70 focus-visible:outline-2 focus-visible:-outline-offset-2",i==="sm"?"h-14":"h-18",n&&"selected:bg-primary/80","[&>td]:after:absolute [&>td]:after:inset-x-0 [&>td]:after:bottom-0 [&>td]:after:h-px [&>td]:after:w-full [&>td]:after:bg-border-secondary last:[&>td]:after:hidden [&>td]:focus-visible:after:opacity-0 focus-visible:[&>td]:after:opacity-0",typeof l=="function"?l(m):l),children:[s==="toggle"&&o.jsx(Yn,{className:H("relative py-2 pr-0 pl-4",i==="sm"?"md:pl-5":"md:pl-6"),children:o.jsx("div",{className:"flex items-end",children:o.jsx(St,{slot:"selection",size:i})})}),o.jsx(Ee,{items:e,children:t})]})};eo.displayName="TableRow";const to=({className:e,children:t,...l})=>{const{size:n}=a.useContext(ge),{selectionBehavior:r}=Ze();return o.jsx(Yn,{...l,className:i=>H("relative text-sm text-tertiary outline-focus-ring focus-visible:z-1 focus-visible:outline-2 focus-visible:-outline-offset-2",n==="sm"&&"px-5 py-3",n==="md"&&"px-6 py-4",r==="toggle"&&"nth-2:pl-3",typeof e=="function"?e(i):e),children:t})};to.displayName="TableCell";const yi={Root:gi},L=Qn;L.Body=ci;L.Cell=to;L.Head=Xn;L.Header=Jn;L.Row=eo;function $i({people:e,toast:t,selectedIds:l}){const[n,r]=a.useState(!1),[i,s]=a.useState(()=>new Date().toISOString().slice(0,10)),[m,c]=a.useState([]),[f,d]=a.useState(!1);async function u(){const x=l??m;if(x.length){d(!0);try{const g=(await Promise.allSettled(x.map(v=>go({person_id:v,date:i,points:10})))).filter(v=>v.status==="fulfilled").length;t(`${g} marked present (+10 pts)`),r(!1),c([])}catch{t("Attendance failed")}finally{d(!1)}}}const p=l??m,h=(l?l.length===0:m.length===0)&&!n;return o.jsxs(o.Fragment,{children:[o.jsx("button",{className:`h-9 rounded-lg border px-3 text-sm ${h?"bg-overlay-6 border-border/60 text-fg-secondary/60 cursor-not-allowed":"bg-surface border-border"}`,onClick:()=>{h||r(!0)},disabled:h,title:h?"Select people to mark attendance":"Quick attendance",children:"Quick attendance"}),n&&o.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>r(!1)}),o.jsxs("div",{className:"relative w-[95vw] max-w-lg rounded-2xl border border-border bg-card p-4",children:[o.jsx("div",{className:"text-lg font-semibold mb-2",children:"Quick attendance"}),o.jsx("input",{id:"qaDate",name:"qaDate",autoComplete:"off",type:"date",className:"w-full mb-3 px-3 py-2 rounded border border-border bg-surface",value:i,onChange:x=>s(x.target.value)}),!l&&o.jsx(tl,{people:e,mode:"multi",selectedIds:m,onAdd:x=>c(y=>y.includes(x)?y:[...y,x]),onRemove:x=>c(y=>y.filter(g=>g!==x)),triggerLabel:m.length?`${m.length} selected`:"Select people…",buttonClassName:"w-full px-3 py-2 rounded bg-surface border border-border text-sm",allowScroll:!0,maxItems:100}),o.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[o.jsx("button",{className:"rounded border border-border bg-overlay-6 px-3 py-2 text-sm",onClick:()=>r(!1),children:"Cancel"}),o.jsx("button",{disabled:!p.length||f,className:"rounded bg-accent text-foreground border border-accent px-3 py-2 text-sm disabled:opacity-50",onClick:u,children:"Give 10 pts"})]})]})]})]})}function lo(e){return e.avatar_url?e.avatar_url:e.discord_avatar_url?e.discord_avatar_url:e.discord_id&&e.discord_avatar?`https://cdn.discordapp.com/avatars/${e.discord_id}/${e.discord_avatar}.png?size=64`:`https://api.dicebear.com/9.x/initials/svg?seed=${encodeURIComponent(e.name)}`}function Ci({people:e,toast:t,onUpdate:l,onDelete:n}){const[r,i]=a.useState(""),s=a.useMemo(()=>Array.from(new Set(e.map(S=>S.role).filter(Boolean))),[e]),m=a.useMemo(()=>Array.from(new Set(e.map(S=>S.year).filter(Boolean))),[e]),[c,f]=a.useState("All"),[d,u]=a.useState("All"),[p,h]=a.useState(new Set),x=s.length>0,y=m.length>0,g=a.useMemo(()=>e.filter(S=>(c==="All"||S.role===c)&&(d==="All"||S.year===d)).filter(S=>{if(!r)return!0;const T=r.toLowerCase();return S.name.toLowerCase().includes(T)||(S.discord_username||"").toLowerCase().includes(T)}).sort((S,T)=>S.name.localeCompare(T.name)),[e,r,c,d]),v=25,[A,k]=a.useState(1),w=Math.max(1,Math.ceil(g.length/v)),$=Math.min(A,w);$!==A&&k($);const z=a.useMemo(()=>g.slice(($-1)*v,$*v),[g,$]),[P,F]=a.useState(null),[N,E]=a.useState(null),[M,q]=a.useState(void 0),[ne,oe]=a.useState(!1),Q=a.useMemo(()=>[{},{},{},{}],[]),ke=a.useMemo(()=>z.map(S=>S.id),[z]),le=a.useMemo(()=>p==="all"?ke:Array.from(p),[p,ke]),me=a.useCallback(S=>{const T=Te(S);if(!T){t("No username");return}navigator.clipboard.writeText(`@${T}`).then(()=>t("Username copied"))},[t]),pe=a.useCallback(S=>{F(S.id),E({...S}),q(S.rank)},[]),we=a.useCallback(S=>{n(S)},[n]);async function G(){if(!(!P||!N)){oe(!0);try{const S={name:N.name,year:N.year,role:N.role,ranked_opt_in:N.ranked_opt_in,rank:N.rank};if(await l(P,S),M&&N.rank&&M!==N.rank)try{await yo({ts:Date.now(),type:"rank_change",person_id:P,from_rank:M,to_rank:N.rank})}catch{}t("Saved"),F(null),E(null),q(void 0)}catch{t("Save failed")}finally{oe(!1)}}}return o.jsxs(yi.Root,{className:"rounded-2xl bg-card border border-border ring-0 shadow-xs",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 flex-nowrap border-b border-border bg-card px-4 py-4 md:px-6",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx("input",{id:"peopleSearch",name:"peopleSearch",autoComplete:"off",value:r,onChange:S=>{i(S.target.value),k(1)},placeholder:"Search people…",className:"h-9 min-w-0 flex-1 md:w-80 rounded-lg border border-border bg-surface px-3 text-sm outline-none focus:ring-2 focus:ring-focus-ring"}),x&&o.jsxs("select",{id:"roleFilter",name:"roleFilter",value:c,onChange:S=>{f(S.target.value),k(1)},className:"hidden md:inline-block h-9 rounded-lg border border-border bg-surface px-2 text-sm",children:[o.jsx("option",{children:"All"}),s.map(S=>o.jsx("option",{children:S},S))]}),y&&o.jsxs("select",{id:"yearFilter",name:"yearFilter",value:d,onChange:S=>{u(S.target.value),k(1)},className:"hidden md:inline-block h-9 rounded-lg border border-border bg-surface px-2 text-sm",children:[o.jsx("option",{children:"All"}),m.map(S=>o.jsx("option",{children:S},S))]})]}),o.jsx("div",{className:"ml-2 shrink-0",children:o.jsx($i,{people:e,toast:t,selectedIds:le})})]}),o.jsxs(L,{"aria-label":"People",selectionMode:"multiple",selectionBehavior:"toggle",onSelectionChange:S=>{h(S)},children:[o.jsxs(L.Header,{columns:Q,className:"bg-surface/80",children:[o.jsx(L.Head,{id:"member",label:"Member",isRowHeader:!0}),o.jsx(L.Head,{id:"role",label:"Role",className:"hidden sm:table-cell"}),o.jsx(L.Head,{id:"year",label:"Year",className:"hidden sm:table-cell"}),o.jsx(L.Head,{id:"actions"})]}),o.jsx(L.Body,{items:z,children:S=>o.jsx(Di,{p:S,columnsDef:Q,onEdit:pe,onCopyUsername:me,onDelete:we},S.id)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 border-t border-border bg-card px-4 py-3 md:px-6",children:[o.jsxs("div",{className:"text-xs text-fg-secondary",children:["Showing ",g.length===0?0:($-1)*v+1,"–",Math.min($*v,g.length)," of ",g.length]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-border bg-surface disabled:opacity-50",disabled:$<=1,onClick:()=>k(S=>Math.max(1,S-1)),children:"Prev"}),o.jsxs("span",{className:"text-xs text-fg-secondary px-2",children:["Page ",$," / ",w]}),o.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-border bg-surface disabled:opacity-50",disabled:$>=w,onClick:()=>k(S=>Math.min(w,S+1)),children:"Next"})]})]}),P&&N&&o.jsxs("div",{className:"fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>{F(null),E(null)}}),o.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:o.jsxs("div",{className:"w-full max-w-2xl rounded-2xl border border-border bg-card p-5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx("img",{src:lo(N),className:"h-12 w-12 rounded-full",loading:"lazy",decoding:"async"}),o.jsx("div",{className:"min-w-0",children:o.jsx("div",{className:"text-sm text-fg-secondary truncate",children:Te(N)?`@${Te(N)}`:""})})]}),o.jsx("button",{className:"rounded border border-border bg-overlay-6 px-3 py-1.5 text-sm",onClick:()=>{F(null),E(null)},children:"Close"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm",children:[o.jsx("div",{className:"mb-1 text-fg-secondary",children:"Full name"}),o.jsx("input",{id:"editFullName",name:"fullName",autoComplete:"name",value:N.name,onChange:S=>E({...N,name:S.target.value}),className:"w-full rounded border border-border bg-surface px-3 py-2 text-sm"})]}),o.jsxs("label",{className:"text-sm",children:[o.jsx("div",{className:"mb-1 text-fg-secondary",children:"Year"}),o.jsxs("select",{id:"editYear",name:"year",className:"w-full rounded border border-border bg-surface px-3 py-2 text-sm",value:N.year||"",onChange:S=>E({...N,year:S.target.value||void 0}),children:[N.year&&!["Freshman","Sophomore","Junior","Senior"].includes(N.year)&&o.jsx("option",{value:N.year,children:N.year}),o.jsx("option",{value:"",children:"—"}),o.jsx("option",{value:"Freshman",children:"Freshman"}),o.jsx("option",{value:"Sophomore",children:"Sophomore"}),o.jsx("option",{value:"Junior",children:"Junior"}),o.jsx("option",{value:"Senior",children:"Senior"})]})]})]}),o.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:o.jsxs("label",{className:"text-sm",children:[o.jsx("div",{className:"mb-1 text-fg-secondary",children:"Rank (force change)"}),o.jsxs("select",{id:"editRank",name:"rank",className:"w-full rounded border border-border bg-surface px-3 py-2 text-sm",value:N.rank||"Bronze",onChange:S=>E({...N,rank:S.target.value}),children:[o.jsx("option",{children:"Bronze"}),o.jsx("option",{children:"Silver"}),o.jsx("option",{children:"Gold"}),o.jsx("option",{children:"Platinum"}),o.jsx("option",{children:"Diamond"})]})]})}),o.jsx("div",{className:"mt-3",children:o.jsxs("label",{className:"text-sm block",children:[o.jsx("div",{className:"mb-1 text-fg-secondary",children:"Roles (comma-separated)"}),o.jsx("input",{id:"editRoles",name:"roles",className:"w-full rounded border border-border bg-surface px-3 py-2 text-sm",placeholder:"e.g. Lead, Member",value:N.role||"",onChange:S=>E({...N,role:S.target.value||void 0})})]})}),o.jsxs("div",{className:"mt-6 flex items-center justify-between gap-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm select-none cursor-pointer",children:[o.jsx("span",{className:"text-sm text-muted-foreground tracking-caps uppercase",children:"OPT INTO RANKED POOL"}),o.jsxs("span",{className:"relative inline-flex h-6 w-11 select-none ml-auto",children:[o.jsx("input",{type:"checkbox",checked:!!N.ranked_opt_in,onChange:S=>E({...N,ranked_opt_in:S.target.checked}),className:"peer sr-only"}),o.jsx("span",{className:"pointer-events-none block h-6 w-11 rounded-full border border-border bg-black/15 dark:bg-white/15 transition-colors peer-checked:bg-[#64C7C9] peer-focus-visible:ring-2 peer-focus-visible:ring-[#64C7C9]/60 peer-focus-visible:ring-offset-2 peer-focus-visible:ring-offset-background"}),o.jsx("span",{className:"pointer-events-none absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white dark:bg-background shadow transition-transform peer-checked:translate-x-5"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{className:"rounded border border-border bg-overlay-6 px-3 py-2 text-sm",onClick:()=>{F(null),E(null)},children:"Cancel"}),o.jsx("button",{disabled:ne,className:"rounded bg-accent text-foreground border border-accent px-3 py-2 text-sm disabled:opacity-50",onClick:G,children:"Save changes"})]})]})]})})]})]})}const Di=a.memo(function({p:t,columnsDef:l,onEdit:n,onCopyUsername:r,onDelete:i}){const s=Te(t);return o.jsxs(L.Row,{id:t.id,columns:l,className:"bg-card hover:bg-card/80",children:[o.jsx(L.Cell,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:lo(t),alt:"",className:"h-8 w-8 rounded-full",loading:"lazy",decoding:"async"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:t.name}),o.jsx("div",{className:"text-xs text-fg-secondary truncate",children:s?`@${s}`:""})]})]})}),o.jsx(L.Cell,{className:"hidden sm:table-cell",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:ki(t.role)})}),o.jsx(L.Cell,{className:"hidden sm:table-cell text-fg-secondary",children:t.year||"—"}),o.jsx(L.Cell,{children:o.jsx(vi,{onEdit:()=>n(t),onCopyUsername:()=>r(t),onDelete:()=>i(t.id)})})]})},(e,t)=>e.p===t.p);function ki(e){return e?e.split(",").map(l=>l.trim()).filter(Boolean).map(l=>o.jsx("span",{className:ir("inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ring-1",l.toLowerCase().includes("lead")?"bg-utility-purple-50 text-utility-purple-700 ring-utility-purple-200":l.toLowerCase().includes("member")?"bg-utility-blue-50 text-utility-blue-700 ring-utility-blue-200":"bg-utility-gray-50 text-utility-gray-700 ring-utility-gray-200"),children:l},l)):o.jsx("span",{className:"text-fg-secondary",children:"—"})}function Te(e){if(e.discord_username)return e.discord_username;const t=e.discord||"";return t.startsWith("@")?t.slice(1):t}function zi(){$o()?.uid;const[t,l]=a.useState([]),[n,r]=a.useState([]),[i,s]=a.useState(null),[m,c]=a.useState(null),[f,d]=a.useState(""),[u,p]=a.useState(""),[h,x]=a.useState(""),[y,g]=a.useState([]),[v,A]=a.useState(""),[k,w]=a.useState(""),[$,z]=a.useState(""),[P,F]=a.useState(""),[N,E]=a.useState(""),[M,q]=a.useState(!1),[ne,oe]=a.useState([]),[Q,ke]=a.useState(""),[le,me]=a.useState(""),[pe,we]=a.useState(20),[G,S]=a.useState([]),[T,no]=a.useState("subsystem"),[Qe,oo]=a.useState("asc"),[jt,Be]=a.useState(!1),[Et,Se]=a.useState(!1),[W,Je]=a.useState("people"),{role:Ne,ready:J}=Co(),[Xe,et]=a.useState(null),Ae=b=>{J&&(Me({role:Ne??void 0},b)?(et(null),Je(b)):(et(b),Je("people")))},[ro,Pe]=a.useState(!1),[tt,Bt]=a.useState(""),[Nt,io]=a.useState(!1),[At,Pt]=a.useState(!1),[zt,ze]=a.useState([]),[Si,ji]=a.useState(()=>new Date().toISOString().slice(0,10)),[lt,It]=a.useState({}),[nt,Ft]=a.useState({}),[so,Ie]=a.useState(!1),[ao,Fe]=a.useState(!1),[ot,Rt]=a.useState(""),[re,rt]=a.useState(null),[uo,Mt]=a.useState(!1),[Kt,fe]=a.useState("");a.useEffect(()=>{(async()=>{const[b,j,C,D,I]=await Promise.all([it(),Re(),qt(),Do(),st(50)]);l(b),r(j),s(C),c(D),ze(I),d(C?.rulebook_url||""),p(C?.sharepoint_url||""),It({...D?.promotion_pct||{}}),Ft({...D?.demotion_pct||{}}),Ie(!1)})()},[]),a.useEffect(()=>{d(i?.rulebook_url||""),p(i?.sharepoint_url||"")},[i]);const Tt=b=>g(j=>j.includes(b)?j.filter(C=>C!==b):[...j,b]),[Vt,Lt]=a.useState("");function _(b){Lt(b),setTimeout(()=>Lt(""),3e3)}async function co(){try{await zo({rulebook_url:f.trim()||void 0,sharepoint_url:u.trim()||void 0}),s(await qt()),_("Settings saved")}catch{_("Save failed")}}async function mo(){try{const[b,j]=await Promise.all([it(),Re()]);l(b),r(j)}catch{}}async function po(){try{await Io(),l([]),r([]),_("System reset complete")}catch{_("Reset failed")}}async function fo(){if(!h.trim())return alert("Give the project a name");try{const b=await _t({name:h.trim(),owner_ids:y,design_link:v.trim()||void 0,description:k.trim()||void 0,due_date:$||void 0,subsystem:P||void 0});r(await Re()),x(""),g([]),A(""),w(""),z(""),F(""),_("Project saved")}catch{_("Save failed")}}const Ot=a.useMemo(()=>{const b=new Set;for(const j of n)j.subsystem&&b.add(j.subsystem);return Array.from(b).sort()},[n]),bo=a.useMemo(()=>{const b=new Map;for(const j of n)j.subsystem&&b.set(j.subsystem,(b.get(j.subsystem)||0)+1);return b},[n]),Ht=G.length?n.filter(b=>b.subsystem&&G.includes(b.subsystem)):n,ho=a.useMemo(()=>{const b=le.toLowerCase();return[...Ht.filter(D=>b?D.name.toLowerCase().includes(b)||(D.description||"").toLowerCase().includes(b):!0)].sort((D,I)=>{let R=0;return T==="name"?R=D.name.localeCompare(I.name):T==="due"?R=(D.due_date||"").localeCompare(I.due_date||""):R=(D.subsystem||"").localeCompare(I.subsystem||"")||D.name.localeCompare(I.name),Qe==="asc"?R:-R})},[Ht,le,T,Qe]),Ut=b=>b==="name"?"Name":b==="due"?"Due date":"Subsystem",Wt=Qe==="asc"?"↑":"↓";return a.useEffect(()=>{const b=j=>{j.key==="Escape"&&(Be(!1),Se(!1))};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[]),a.useEffect(()=>{if(!J)return;const b=Ne??void 0;Me({role:b},W)||(et(W),Je(Me({role:b},"projects")?"projects":"people"))},[J,Ne,W]),o.jsx(ko,{children:o.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 overflow-x-hidden admin-typography",children:[o.jsx("h1",{className:"text-2xl font-semibold mb-1",children:"Admin"}),Vt&&o.jsx("div",{className:"fixed bottom-4 left-4 z-50 px-4 py-2 rounded shadow-lg animate-fade-in bg-accent/90 border border-accent-weak/60 font-medium text-[13px] leading-snug text-foreground",children:Vt}),o.jsx("div",{className:"sticky top-0 z-30 px-3 sm:px-4 pt-1 bg-bg/70 backdrop-blur border-b border-border/60 overflow-x-auto h-scroll-tabs no-fade",children:o.jsxs("nav",{className:"flex gap-2 sm:gap-3 h-11 items-end min-w-max whitespace-nowrap",role:"tablist",children:[o.jsx("button",{className:`px-3 py-2 rounded-t font-medium text-sm transition border-b-2 ${W==="people"?"border-accent text-accent":"border-transparent text-muted hover:text-accent/80"}`,onClick:()=>Ae("people"),role:"tab","aria-selected":W==="people",disabled:!J,children:"People"}),o.jsx("button",{className:`px-3 py-2 rounded-t font-medium text-sm transition border-b-2 ${W==="projects"?"border-accent text-accent":"border-transparent text-muted hover:text-accent/80"}`,onClick:()=>Ae("projects"),role:"tab","aria-selected":W==="projects",disabled:!J,children:"Projects & Tasks"}),o.jsxs(wo,{children:[o.jsx("button",{className:`px-3 py-2 rounded-t font-medium text-sm transition border-b-2 ${W==="settings"?"border-accent text-accent":"border-transparent text-muted hover:text-accent/80"}`,onClick:()=>Ae("settings"),role:"tab","aria-selected":W==="settings",disabled:!J,children:"Global Settings"}),o.jsx("button",{className:`px-3 py-2 rounded-t font-medium text-sm transition border-b-2 ${W==="ranked"?"border-accent text-accent":"border-transparent text-muted hover:text-accent/80"}`,onClick:()=>Ae("ranked"),role:"tab","aria-selected":W==="ranked",disabled:!J,children:"Ranked Settings"})]})]})}),J&&Xe&&!Me({role:Ne??void 0},Xe)&&o.jsxs("div",{className:"mt-4 text-xs text-red-300",children:["You don’t have access to the ",Xe," tab. Showing People."]}),W==="people"&&o.jsx("div",{role:"tabpanel",className:"mt-4",children:o.jsx(Ci,{people:t,toast:_,onUpdate:async(b,j)=>{await jo(b,j),l(C=>C.map(D=>D.id===b?{...D,...j}:D))},onDelete:async b=>{await So(b),l(j=>j.filter(C=>C.id!==b))}})}),W==="projects"&&o.jsxs("div",{role:"tabpanel",className:"mt-4 space-y-6",children:[o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsxs("section",{className:"space-y-2",children:[o.jsx("h2",{className:"font-semibold",children:"Create Project & Assign Owners"}),o.jsxs("div",{className:"form-section rounded-2xl bg-card border border-border p-4 space-y-3",children:[o.jsx("input",{className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border text-xs placeholder:text-muted-foreground placeholder:text-xs",placeholder:"Project name",value:h,onChange:b=>x(b.target.value)}),o.jsx("input",{className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border text-xs placeholder:text-muted-foreground placeholder:text-xs",placeholder:"Design link (optional)",value:v,onChange:b=>A(b.target.value)}),o.jsx("textarea",{className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border text-xs placeholder:text-muted-foreground placeholder:text-xs",placeholder:"Project description (optional)",value:k,onChange:b=>w(b.target.value)}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsxs("select",{className:"px-3 py-2 rounded w-full dark-select bg-surface text-foreground border border-border text-xs",value:P,onChange:b=>F(b.target.value),children:[o.jsx("option",{value:"",children:"Select subsystem…"}),o.jsx("option",{children:"Aero"}),o.jsx("option",{children:"Business"}),o.jsx("option",{children:"Composites"}),o.jsx("option",{children:"Controls"}),o.jsx("option",{children:"Data Acquisition"}),o.jsx("option",{children:"Electrical IC"}),o.jsx("option",{children:"Electrical EV"}),o.jsx("option",{children:"Finance"}),o.jsx("option",{children:"Frame"}),o.jsx("option",{children:"Manufacturing"}),o.jsx("option",{children:"Powertrain EV"}),o.jsx("option",{children:"Powertrain IC"}),o.jsx("option",{children:"Suspension"})]}),o.jsx("input",{type:"date",className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border text-xs placeholder:text-muted-foreground placeholder:text-xs",value:$,onChange:b=>z(b.target.value)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-caps",children:"Owners"}),o.jsx(tl,{mode:"multi",people:t,selectedIds:y,onAdd:b=>Tt(b),onRemove:b=>Tt(b),triggerLabel:y.length?`${y.length} selected`:"Add/Remove",buttonClassName:"ml-auto text-[10px] px-2 py-1 rounded bg-surface border border-border",maxItems:5})]}),o.jsx("button",{onClick:async()=>{if(!h.trim()){_("Give the project a name");return}await fo()},disabled:!h.trim(),className:`w-full px-3 py-2 rounded border border-border text-xs text-center ${h.trim()?"bg-surface":"bg-surface opacity-50 cursor-not-allowed"}`,children:"Save Project"})]})]}),o.jsxs("section",{className:"space-y-2",children:[o.jsx("h2",{className:"font-semibold",children:"Create Task"}),o.jsx("button",{onClick:()=>q(!0),className:"w-full h-9 rounded-md bg-surface text-foreground border border-border text-sm font-medium hover:bg-surface/80 transition",children:"Open Task Creator"}),o.jsx(Yo,{open:M,onClose:()=>q(!1),people:t,projects:n,onCreated:mo})]})]}),o.jsxs("section",{className:"mt-2",children:[o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"font-semibold",children:"Projects"}),o.jsx("input",{className:"toolbar-input px-3 py-1.5 rounded-md text-xs font-medium border border-border bg-surface w-28 sm:w-44 placeholder:text-muted-foreground focus:outline-none focus-visible:outline-none",placeholder:"Search projects…",value:le,onChange:b=>me(b.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[o.jsx("div",{className:"",children:o.jsxs("div",{className:"relative w-full",children:[o.jsxs("button",{onClick:()=>{Be(b=>!b),Se(!1)},className:"toolbar-btn px-3 py-1.5 rounded-md text-xs font-medium border border-border bg-surface hover:bg-surface/80 w-full text-left",children:["Subsystems: ",o.jsx("span",{className:"font-semibold",children:G.length?`${G.length} selected`:"All"})]}),o.jsxs("div",{className:`absolute left-0 z-20 mt-1 w-64 rounded-md border border-overlay-10 bg-bg/95 shadow-xl overflow-hidden transition transform origin-top ${jt?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:[o.jsx("div",{className:"px-3 py-2 border-b border-border",children:o.jsx("button",{className:"w-full px-3 py-2 rounded-md text-xs sm:text-sm font-semibold bg-red-500/15 hover:bg-red-500/25 text-red-200 focus:outline-none focus-visible:outline-none",onClick:()=>S([]),children:"Clear selection"})}),o.jsxs("div",{className:"max-h-60 overflow-auto p-1",children:[Ot.length===0&&o.jsx("div",{className:"px-3 py-2 text-xs text-muted-foreground uppercase tracking-caps",children:"No subsystems"}),Ot.map(b=>{const j=G.includes(b),C=bo.get(b)??0;return o.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 text-xs rounded hover:bg-surface/80 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"accent-accent",checked:j,onChange:()=>S(D=>j?D.filter(I=>I!==b):[...D,b])}),o.jsx("span",{className:"truncate",children:b}),o.jsx("span",{className:"ml-auto inline-flex items-center justify-center rounded-full bg-surface/60 px-2 py-0.5 text-[10px]",children:C})]},b)})]})]})]})}),o.jsx("div",{className:"flex items-center justify-end",children:o.jsxs("div",{className:"relative w-full",children:[o.jsxs("button",{onClick:()=>{Se(b=>!b),Be(!1)},className:"toolbar-btn px-3 py-1.5 rounded-md text-xs font-medium border border-border bg-surface hover:bg-surface/80 w-full text-left",children:["Sort: ",o.jsxs("span",{className:"font-semibold",children:[Ut(T)," ",Wt]})]}),o.jsx("div",{className:`absolute right-0 z-20 mt-1 w-48 rounded-md border border-overlay-10 bg-bg/95 shadow-xl overflow-hidden transition transform origin-top ${Et?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:["subsystem","name","due"].map(b=>o.jsxs("button",{className:`w-full text-left px-3 py-2 text-xs hover:bg-surface/80 ${T===b?"bg-surface/60":""}`,onClick:()=>{T===b?oo(j=>j==="asc"?"desc":"asc"):no(b),Se(!1)},children:[Ut(b)," ",T===b?Wt:""]},b))})]})})]}),(jt||Et)&&o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{Be(!1),Se(!1)}})]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:ho.map(b=>o.jsxs("details",{className:"form-section rounded-2xl bg-card border border-border p-3",children:[o.jsx("summary",{className:"cursor-pointer font-medium",children:b.name}),o.jsxs("div",{className:"mt-2 space-y-3",children:[o.jsx("input",{className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border placeholder:text-muted-foreground text-xs",value:b.name,onChange:j=>r(C=>C.map(D=>D.id===b.id?{...D,name:j.target.value}:D))}),o.jsx("input",{className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border placeholder:text-muted-foreground text-xs",placeholder:"Design link",value:b.design_link||"",onChange:j=>r(C=>C.map(D=>D.id===b.id?{...D,design_link:j.target.value}:D))}),o.jsx("textarea",{className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border placeholder:text-muted-foreground text-xs",placeholder:"Description",value:b.description||"",onChange:j=>r(C=>C.map(D=>D.id===b.id?{...D,description:j.target.value}:D))}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("select",{className:"px-3 py-2 rounded w-full dark-select bg-surface text-foreground border border-border text-xs",value:b.subsystem||"",onChange:j=>r(C=>C.map(D=>D.id===b.id?{...D,subsystem:j.target.value||void 0}:D)),children:[o.jsx("option",{value:"",children:"Subsystem…"}),o.jsx("option",{children:"Aero"}),o.jsx("option",{children:"Business"}),o.jsx("option",{children:"Composites"}),o.jsx("option",{children:"Controls"}),o.jsx("option",{children:"Data Acquisition"}),o.jsx("option",{children:"Electrical IC"}),o.jsx("option",{children:"Electrical EV"}),o.jsx("option",{children:"Finance"}),o.jsx("option",{children:"Frame"}),o.jsx("option",{children:"Manufacturing"}),o.jsx("option",{children:"Powertrain EV"}),o.jsx("option",{children:"Powertrain IC"}),o.jsx("option",{children:"Suspension"})]}),o.jsx("input",{type:"date",className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border placeholder:text-muted-foreground text-xs",value:b.due_date||"",onChange:j=>r(C=>C.map(D=>D.id===b.id?{...D,due_date:j.target.value}:D))})]}),o.jsx("button",{className:"px-3 py-2 rounded bg-accent text-foreground border border-accent hover:bg-accent/90 w-full text-xs",onClick:async()=>{await Eo(b.id,b),_("Project updated")},children:"Save Changes"})]})]},b.id))})]})]}),W==="settings"&&J&&o.jsxs("div",{role:"tabpanel",className:"mt-4",children:[o.jsxs("section",{className:"space-y-2",children:[o.jsx("h2",{className:"font-semibold",children:"Global Settings"}),o.jsxs("div",{className:"form-section rounded-2xl bg-card border border-border p-4 space-y-2",children:[o.jsx("label",{className:"text-sm block",children:"Rulebook PDF URL"}),o.jsx("input",{className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border placeholder:text-muted-foreground",placeholder:"https://…/rulebook.pdf",value:f,onChange:b=>d(b.target.value)}),o.jsx("label",{className:"text-sm block",children:"Team SharePoint URL"}),o.jsx("input",{className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border placeholder:text-muted-foreground",placeholder:"https://…sharepoint.com/sites/FSAE/…",value:u,onChange:b=>p(b.target.value)}),o.jsx("button",{onClick:co,className:"mt-2 px-3 py-2 rounded bg-accent text-foreground border border-accent hover:bg-accent/90",children:"Save Settings"})]}),o.jsx(wi,{}),o.jsxs("div",{className:"form-section wide p-4 mt-4 border border-destructive/30 bg-destructive/10 rounded-xl",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:"Danger zone"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"This will permanently delete ALL people, projects, and tasks. This action cannot be undone."}),o.jsxs("button",{onClick:()=>{Bt(""),Pe(!0)},className:"mt-3 inline-flex items-center gap-2 px-3 py-2 rounded border border-border bg-card hover:bg-card/80 text-foreground",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("polyline",{points:"3 6 5 6 21 6"}),o.jsx("path",{d:"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"Full system reset"]})]})]}),o.jsxs("section",{className:"space-y-2 mt-6",children:[o.jsx("h2",{className:"font-semibold",children:"Seed data (Excel)"}),o.jsxs("div",{className:"form-section rounded-2xl bg-card border border-border p-4 space-y-3",children:[o.jsxs("p",{className:"text-sm text-muted",children:['Provide an Excel file with sheets named "People", "Projects", and "Tasks". Columns:',o.jsx("br",{}),"People: Name, Year, Role, Skills, Discord",o.jsx("br",{}),"Projects: Name, Subsystem, Due Date (YYYY-MM-DD), Description, Design Link, Owners (comma-separated names)",o.jsx("br",{}),"Tasks: Project, Description, Status (Todo|In Progress|Complete), Assignee (name)"]}),o.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:async b=>{const j=b.target.files?.[0];if(j){rt(null),fe("");try{const C=await j.arrayBuffer(),D=await Ve(()=>import("./xlsx-DGuHH-KN.js"),[]),I=D.read(C,{type:"array"}),R=I.Sheets.People,X=I.Sheets.Projects,be=I.Sheets.Tasks,je=R?D.utils.sheet_to_json(R):[],xo=X?D.utils.sheet_to_json(X):[],vo=be?D.utils.sheet_to_json(be):[];rt({people:je.map(V=>({name:V.Name?.toString()||"",year:V.Year?.toString(),role:V.Role?.toString(),skills:V.Skills?.toString(),discord:V.Discord?.toString()})),projects:xo.map(V=>({name:V.Name?.toString()||"",subsystem:V.Subsystem?.toString(),due_date:V["Due Date"]?.toString(),description:V.Description?.toString(),design_link:V["Design Link"]?.toString(),owners:V.Owners?.toString()})),tasks:vo.map(V=>({project:V.Project?.toString()||"",description:V.Description?.toString()||"",status:V.Status?.toString()||"Todo",assignee:V.Assignee?.toString()}))})}catch{fe("Failed to read file")}}}}),re&&o.jsxs("div",{className:"text-sm",children:["Preview: ",re.people.length," people, ",re.projects.length," projects, ",re.tasks.length," tasks",o.jsxs("div",{className:"mt-2 flex gap-2",children:[o.jsx("button",{disabled:uo,className:"px-3 py-2 rounded border border-border bg-overlay-6 disabled:opacity-50",onClick:async()=>{if(re){Mt(!0),fe("Importing…");try{const b=new Map;for(const C of t)b.set(C.name.trim(),C.id);for(const C of re.people){const D=C.name?.trim();if(D&&!b.has(D)){const I=await Bo({name:D,year:C.year||void 0,role:C.role||void 0,skills:(C.skills||"").split(",").map(R=>R.trim()).filter(Boolean),discord:C.discord||void 0});b.set(D,I)}}const j=new Map;for(const C of re.projects){const D=C.name?.trim();if(D&&!j.has(D)){const I=(C.owners||"").split(",").map(X=>X.trim()).filter(Boolean).map(X=>b.get(X)).filter(Boolean),R=await _t({name:D,subsystem:C.subsystem||void 0,due_date:C.due_date||void 0,description:C.description||void 0,design_link:C.design_link||void 0,owner_ids:I});j.set(D,R)}}for(const C of re.tasks){const D=j.get((C.project||"").trim());if(!D)continue;const I=C.assignee?b.get(C.assignee.trim()):void 0,R=C.status==="Todo"||C.status==="In Progress"||C.status==="Complete"?C.status:"Todo";await No({project_id:D,description:C.description||"",status:R,assignee_id:I})}l(await it()),r(await Re()),fe("Import complete")}catch{fe("Import failed")}finally{Mt(!1)}}},children:"Import"}),o.jsx("button",{className:"px-3 py-2 rounded border border-border bg-overlay-6",onClick:()=>{rt(null),fe("")},children:"Clear"})]}),Kt&&o.jsx("div",{className:"mt-2 text-xs text-muted uppercase tracking-caps",children:Kt})]})]})]}),ro&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:()=>Pe(!1)}),o.jsxs("div",{className:"relative w-[95vw] max-w-md rounded-xl border border-overlay-10 bg-bg/95 shadow-2xl p-5",children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Confirm full system reset"}),o.jsx("p",{className:"text-sm text-muted",children:"Enter the reset password to proceed. Contact the team lead if you don’t know it."}),o.jsxs("div",{className:"mt-3 relative",children:[o.jsx("input",{autoFocus:!0,type:Nt?"text":"password",className:"w-full px-3 py-2 pr-10 rounded border border-white/10 bg-black/20",placeholder:"Reset password",value:tt,onChange:b=>Bt(b.target.value)}),o.jsx("button",{"aria-label":"Toggle password visibility",onClick:()=>io(b=>!b),className:"absolute right-1 top-1.5 h-7 w-7 inline-flex items-center justify-center rounded hover:bg-white/10",children:Nt?o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#E5E7EB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 20C7 20 2.73 16.11 1 12c.6-1.36 1.5-2.59 2.57-3.61M10.58 5.06A10.94 10.94 0 0 1 12 4c5 0 9.27 3.89 11 8-."})}):o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#E5E7EB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>Pe(!1),className:"px-3 py-2 rounded border border-border bg-overlay-6",children:"Cancel"}),o.jsx("button",{onClick:async()=>{await po(),Pe(!1)},disabled:tt!=="UCONN FORMULA SAE",className:`px-3 py-2 rounded border ${tt==="UCONN FORMULA SAE"?"border-danger bg-danger/30 hover:bg-danger/40 text-danger/90":"border-overlay-10 bg-overlay-6 text-muted cursor-not-allowed"}`,children:"Permanently delete everything"})]})]})]})]}),W==="ranked"&&J&&o.jsx("div",{role:"tabpanel",className:"mt-4",children:o.jsxs("section",{className:"space-y-2",children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Ranked Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:o.jsxs("div",{className:"form-section p-3 bg-surface/80 border border-border/40 rounded mb-2 flex flex-col gap-2",children:[o.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",className:"accent-accent",checked:!!m?.enabled,onChange:async b=>{const j=b.target.checked;c(C=>C?{...C,enabled:j}:{enabled:j}),await at({enabled:j})}}),"Enable ranked mode"]}),o.jsx("p",{className:"text-xs text-muted uppercase tracking-caps mt-1",children:"When on, the app reveals the Ranked page and point indicators. Turning it off hides ranked UI and points, but nothing is deleted."}),o.jsxs("label",{className:"inline-flex items-center gap-2 text-sm mt-2",children:[o.jsx("input",{type:"checkbox",className:"accent-accent",checked:!!m?.autoApply,onChange:async b=>{const j=b.target.checked;c(C=>C?{...C,autoApply:j}:{autoApply:j}),await at({autoApply:j})}}),"Auto apply weekly"]}),o.jsx("p",{className:"text-xs text-muted uppercase tracking-caps mt-1",children:"When on, promotions/relegations are automatically applied each week for all users. Disable to require manual action only."})]})}),o.jsx("div",{className:"grid sm:grid-cols-2 gap-3 -mt-2"}),o.jsx("div",{className:"mt-2",children:o.jsx("div",{className:"form-section wide p-4 overflow-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-white/5",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-2 py-2 font-medium text-sm",children:"Rank"}),o.jsx("th",{className:"text-left px-2 py-2 font-medium text-sm",children:"Promote %"}),o.jsx("th",{className:"text-left px-2 py-2 font-medium text-sm",children:"Relegate %"})]})}),o.jsx("tbody",{children:["Bronze","Silver","Gold","Platinum","Diamond"].map(b=>{const j=b.toLowerCase(),C=lt[j]??0,D=nt[j]??0,I=b==="Diamond",R=b==="Bronze";return o.jsxs("tr",{className:"border-t border-white/10",children:[o.jsx("td",{className:"px-2 py-2 text-sm",children:b}),o.jsx("td",{className:"px-2 py-2",children:I?o.jsx("span",{className:"text-sm text-muted uppercase tracking-caps",children:"N/A"}):o.jsx("input",{type:"number",min:0,max:100,value:C,onChange:async X=>{const be=Math.max(0,Math.min(100,Number(X.target.value)));It(je=>({...je||{},[j]:be})),Ie(!0)},className:"px-2 py-1 rounded w-16 max-w-[64px] text-center bg-white/5 border border-white/10 text-base font-semibold"})}),o.jsx("td",{className:"px-2 py-2",children:R?o.jsx("span",{className:"text-sm text-muted uppercase tracking-caps",children:"N/A"}):o.jsx("input",{type:"number",min:0,max:100,value:D,onChange:async X=>{const be=Math.max(0,Math.min(100,Number(X.target.value)));Ft(je=>({...je||{},[j]:be})),Ie(!0)},className:"px-2 py-1 rounded w-16 max-w-[64px] text-center bg-white/5 border border-white/10 text-base font-semibold"})})]},b)})})]})})}),o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("button",{disabled:!so,onClick:async()=>{try{await at({promotion_pct:lt,demotion_pct:nt}),c(b=>({...b||{},promotion_pct:{...lt},demotion_pct:{...nt}})),Ie(!1),_("Ranked settings saved")}catch{_("Save failed")}},className:"mt-2 px-3 py-2 rounded bg-overlay-6 border border-border text-sm disabled:opacity-50",children:"Save changes"})}),o.jsx("div",{className:"pt-4 mt-2 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"Manual override"}),o.jsx("p",{className:"text-xs text-muted uppercase tracking-caps",children:"Apply promotions and relegations immediately using the current week’s points."})]}),o.jsx("button",{disabled:At,onClick:()=>{Rt(""),Fe(!0)},className:"px-3 py-2 rounded bg-accent/40 hover:bg-accent/60 border border-border text-sm font-medium disabled:opacity-50",children:"Apply now"})]})})]}),o.jsxs("div",{className:"form-section wide p-5 mt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"text-sm font-medium",children:"Recent ranked activity"}),o.jsx("button",{className:"text-xs px-2 py-1 rounded border border-border bg-overlay-6 uppercase tracking-caps",onClick:async()=>{ze(await st(20))},children:"Refresh"})]}),o.jsxs("ul",{className:"text-sm divide-y divide-white/10 rounded border border-white/10",children:[zt.length===0&&o.jsx("li",{className:"px-3 py-2 text-muted uppercase tracking-caps",children:"No activity yet"}),zt.slice(0,pe).map((b,j)=>o.jsxs("li",{className:"px-3 py-2 flex flex-col sm:flex-row sm:items-start gap-1 sm:gap-3 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted leading-snug uppercase tracking-caps",children:[o.jsx("span",{className:"shrink-0 sm:w-40 sm:inline block",children:new Date(b.ts||0).toLocaleString()}),o.jsx("span",{className:"font-mono text-[10px] sm:text-xs uppercase tracking-wide px-1.5 py-0.5 rounded bg-white/10 border border-white/10",children:b.type})]}),o.jsxs("span",{className:"text-sm break-words whitespace-pre-wrap leading-snug",children:[b.type==="attendance"&&o.jsxs(o.Fragment,{children:["Attendance · ",b.points," pts ",b.person_id?`→ ${t.find(C=>C.id===b.person_id)?.name||b.person_id}`:""]}),b.type==="rank_change"&&o.jsxs(o.Fragment,{children:["Rank · ",t.find(C=>C.id===b.person_id)?.name||b.person_id," ",b.from_rank," → ",b.to_rank]}),b.type==="task_points"&&(()=>{let C=b.note;if(C){if(C.length%2===0){const D=C.length/2,I=C.slice(0,D),R=C.slice(D);I===R&&(C=I)}if((C.match(/Task complete:/g)||[]).length>1){const D=C.split("Task complete:").filter(Boolean).map(I=>I.trim());D.length>=2&&D.every(I=>I===D[0]),C="Task complete: "+D[0]}}return o.jsxs(o.Fragment,{children:["Task · ",b.points," pts ",b.person_id?`→ ${t.find(D=>D.id===b.person_id)?.name||b.person_id}`:"",C?` · ${C}`:""]})})(),b.type!=="attendance"&&b.type!=="rank_change"&&(b.note||"")]})]},b.id||j))]}),o.jsx("div",{className:"flex items-center justify-center mt-2",children:o.jsx("button",{className:"text-xs px-3 py-1 rounded border border-border bg-overlay-6 uppercase tracking-caps",onClick:async()=>{const b=pe+20;ze(await st(b)),we(b)},children:"Load More"})})]})]})}),ao&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:()=>Fe(!1)}),o.jsxs("div",{className:"relative w-[95vw] max-w-md rounded-xl border border-overlay-10 bg-bg/95 shadow-2xl p-5",children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Confirm ranked apply"}),o.jsx("p",{className:"text-sm text-muted",children:"Enter the confirmation phrase to proceed."}),o.jsx("input",{autoFocus:!0,className:"mt-3 w-full px-3 py-2 rounded border border-white/10 bg-black/20",placeholder:"Enter confirmation phrase",value:ot,onChange:b=>Rt(b.target.value)}),o.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>Fe(!1),className:"px-3 py-2 rounded border border-border bg-overlay-6",children:"Cancel"}),o.jsx("button",{disabled:ot!=="UCONN FORMULA SAE"||At,className:`px-3 py-2 rounded border ${ot==="UCONN FORMULA SAE"?"border-accent bg-accent/30 hover:bg-accent/40 text-black":"border-overlay-10 bg-overlay-6 text-muted cursor-not-allowed"}`,onClick:async()=>{try{Pt(!0);const C=(await Ao(Po,"applyRankedChanges")())?.data?.applied??0;_(`${C} updates applied`);const{fetchRecentLogs:D}=await Ve(async()=>{const{fetchRecentLogs:I}=await import("./index-DOVok7Jw.js").then(R=>R.ab);return{fetchRecentLogs:I}},__vite__mapDeps([0,1]));ze(await D(50)),Fe(!1)}catch{_("Apply failed")}finally{Pt(!1)}},children:"Apply"})]})]})]})]})})}function wi(){const[e,t]=a.useState([]),[l,n]=a.useState(""),[r,i]=a.useState(!1),[s,m]=a.useState(null);a.useEffect(()=>{(async()=>{try{i(!0);const{fetchProjects:d}=await Ve(async()=>{const{fetchProjects:u}=await import("./index-DOVok7Jw.js").then(p=>p.ab);return{fetchProjects:u}},__vite__mapDeps([0,1]));t(await d())}finally{i(!1)}})()},[]);const c=e.filter(d=>d.archived),f=c.filter(d=>d.name.toLowerCase().includes(l.toLowerCase()));return o.jsxs("div",{className:"form-section rounded-2xl bg-card border border-border p-4 mt-6 space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold",children:"Retrieve archived project"}),o.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-caps",children:"Restore a previously archived project (brings it back into lists)."}),c.length===0?o.jsx("p",{className:"text-xs text-muted-foreground italic uppercase tracking-caps",children:"No archived projects yet."}):o.jsx("input",{className:"px-3 py-2 rounded w-full bg-surface text-foreground border border-border placeholder:text-muted-foreground",placeholder:"Search archived projects…",value:l,onChange:d=>n(d.target.value)}),r&&o.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-caps",children:"Loading…"}),c.length>0&&o.jsxs("ul",{className:"space-y-2 max-h-64 overflow-auto pr-1",children:[f.slice(0,25).map(d=>o.jsxs("li",{className:"flex items-center gap-3 text-sm px-2 py-2 rounded bg-surface border border-border",children:[o.jsx("span",{className:"truncate flex-1",children:d.name}),o.jsx("button",{disabled:s===d.id,onClick:async()=>{try{m(d.id);const{updateProject:u}=await Ve(async()=>{const{updateProject:p}=await import("./index-DOVok7Jw.js").then(h=>h.ab);return{updateProject:p}},__vite__mapDeps([0,1]));await u(d.id,{archived:!1}),t(p=>p.map(h=>h.id===d.id?{...h,archived:!1}:h)),window.alert?.("Project restored")}catch{window.alert?.("Restore failed")}finally{m(null)}},className:"px-3 py-1.5 rounded text-xs font-medium border border-accent bg-accent text-foreground hover:bg-accent/90 disabled:opacity-50",children:"Restore"})]},d.id)),f.length===0&&!r&&o.jsx("li",{className:"text-xs text-muted-foreground px-2 py-1 uppercase tracking-caps",children:"No archived projects match."})]})]})}export{zi as default};
