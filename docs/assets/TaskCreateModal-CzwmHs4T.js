import{r as u,U as at,B as S,V as bl,j as v,o as ml,P as xl}from"./index-DMjV8ZZ2.js";import{i as De,a2 as $l,a3 as Sl,n as Ie,a4 as ut,a5 as de,p as q,a6 as ct,w as he,a7 as Kl,v as Cl,a8 as Be,$ as Ne,y as ke,F as je,k as wl,x as Pl,a9 as Dl,aa as Ve,s as kl,q as Q,ab as Se,E as dt,z as ze,ac as El,ad as Ml,ae as Al,af as Fl,ag as Le,ah as Il,l as ft,r as ht,G as Bl,H as ve,T as be,ai as Rl,aj as Tl,K as Nl,L as jl,Q as Re,X as Vl,U as zl,ak as Ll,a1 as Ol,a0 as Y,M as Ul,a as Hl,D as ql,S as Oe,b as Ue,d as He,f as qe,h as U,I as Wl}from"./modal-Bee9i2Th.js";import{f as _l,n as Gl,o as pe,p as Zl,h as We,g as Xl,q as Yl,r as Jl,s as Ql,t as ei,C as ti,u as li,v as ii,w as ni,P as _e,x as si}from"./card-BB1rXeM0.js";const pt=({size:n=24,color:e="currentColor",...t})=>u.createElement("svg",{viewBox:"0 0 24 24",width:n,height:n,stroke:e,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...t},u.createElement("path",{d:"M12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0-7a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"}));pt.displayName="DotsVertical";const ri=({size:n=24,color:e="currentColor",...t})=>u.createElement("svg",{viewBox:"0 0 24 24",width:n,height:n,stroke:e,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...t},u.createElement("path",{d:"M16 6v-.8c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C14.48 2 13.92 2 12.8 2h-1.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2V6m2 5.5v5m4-5v5M3 6h18m-2 0v11.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C16.72 22 15.88 22 14.2 22H9.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C5 19.72 5 18.88 5 17.2V6"}));ri.displayName="Trash01";const Ge=u.createContext(null),oi=u.createContext(null);function Ze(n,e){const t=u.useRef(!0),l=u.useRef(null);De(()=>(t.current=!0,()=>{t.current=!1}),[]),De(()=>{t.current?t.current=!1:(!l.current||e.some((i,s)=>!Object.is(i,l[s])))&&n(),l.current=e},e)}const ai="react-aria-clear-focus",ui="react-aria-focus";function te(n){return $l()?n.metaKey:n.ctrlKey}const ci=500;function yt(n){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:l,onLongPress:i,threshold:s=ci,accessibilityDescription:r}=n;const a=u.useRef(void 0);let{addGlobalListener:o,removeGlobalListener:d}=Sl(),{pressProps:g}=Ie({isDisabled:e,onPressStart(y){if(y.continuePropagation(),(y.pointerType==="mouse"||y.pointerType==="touch")&&(t&&t({...y,type:"longpressstart"}),a.current=setTimeout(()=>{y.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),ut(y.target).activeElement!==y.target&&de(y.target),i&&i({...y,type:"longpress"}),a.current=void 0},s),y.pointerType==="touch")){let h=$=>{$.preventDefault()};o(y.target,"contextmenu",h,{once:!0}),o(window,"pointerup",()=>{setTimeout(()=>{d(y.target,"contextmenu",h)},30)},{once:!0})}},onPressEnd(y){a.current&&clearTimeout(a.current),l&&(y.pointerType==="mouse"||y.pointerType==="touch")&&l({...y,type:"longpressend"})}}),f=_l(i&&!e?r:void 0);return{longPressProps:q(g,f)}}function gt(n){let e=fi(ut(n));e!==n&&(e&&di(e,n),n&&vt(n,e))}function di(n,e){n.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function vt(n,e){n.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),n.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function fi(n){let e=ct(n),t=e?.getAttribute("aria-activedescendant");return t&&n.getElementById(t)||e}function hi(n,e,t){let{type:l}=n,{isOpen:i}=e;u.useEffect(()=>{t&&t.current&&Gl.set(t.current,e.close)});let s;l==="menu"?s=!0:l==="listbox"&&(s="listbox");let r=he();return{triggerProps:{"aria-haspopup":s,"aria-expanded":i,"aria-controls":i?r:void 0,onPress:e.toggle},overlayProps:{id:r}}}function Ee(n){return Kl()?n.altKey:n.ctrlKey}function ye(n,e){var t,l;let i=`[data-key="${CSS.escape(String(e))}"]`,s=(t=n.current)===null||t===void 0?void 0:t.dataset.collection;return s&&(i=`[data-collection="${CSS.escape(s)}"]${i}`),(l=n.current)===null||l===void 0?void 0:l.querySelector(i)}const bt=new WeakMap;function pi(n){let e=he();return bt.set(n,e),e}function yi(n){return bt.get(n)}const gi=1e3;function vi(n){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:l}=n,i=u.useRef({search:"",timeout:void 0}).current,s=r=>{let a=bi(r.key);if(!(!a||r.ctrlKey||r.metaKey||!r.currentTarget.contains(r.target)||i.search.length===0&&a===" ")){if(a===" "&&i.search.trim().length>0&&(r.preventDefault(),"continuePropagation"in r||r.stopPropagation()),i.search+=a,e.getKeyForSearch!=null){let o=e.getKeyForSearch(i.search,t.focusedKey);o==null&&(o=e.getKeyForSearch(i.search)),o!=null&&(t.setFocusedKey(o),l&&l(o))}clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},gi)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?s:void 0}}}function bi(n){return n.length===1||!/^[A-Z]/i.test(n)?n:""}function mi(n){let{selectionManager:e,keyboardDelegate:t,ref:l,autoFocus:i=!1,shouldFocusWrap:s=!1,disallowEmptySelection:r=!1,disallowSelectAll:a=!1,escapeKeyBehavior:o="clearSelection",selectOnFocus:d=e.selectionBehavior==="replace",disallowTypeAhead:g=!1,shouldUseVirtualFocus:f,allowsTabNavigation:y=!1,isVirtualized:h,scrollRef:$=l,linkBehavior:P="action"}=n,{direction:m}=Cl(),K=Be(),D=p=>{var C;if(p.altKey&&p.key==="Tab"&&p.preventDefault(),!(!((C=l.current)===null||C===void 0)&&C.contains(p.target)))return;const c=(b,Z)=>{if(b!=null){if(e.isLink(b)&&P==="selection"&&d&&!Ee(p)){at.flushSync(()=>{e.setFocusedKey(b,Z)});let X=ye(l,b),ue=e.getItemProps(b);X&&K.open(X,p,ue.href,ue.routerOptions);return}if(e.setFocusedKey(b,Z),e.isLink(b)&&P==="override")return;p.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(b):d&&!Ee(p)&&e.replaceSelection(b)}};switch(p.key){case"ArrowDown":if(t.getKeyBelow){var F,V,N;let b=e.focusedKey!=null?(F=t.getKeyBelow)===null||F===void 0?void 0:F.call(t,e.focusedKey):(V=t.getFirstKey)===null||V===void 0?void 0:V.call(t);b==null&&s&&(b=(N=t.getFirstKey)===null||N===void 0?void 0:N.call(t,e.focusedKey)),b!=null&&(p.preventDefault(),c(b))}break;case"ArrowUp":if(t.getKeyAbove){var L,W,_;let b=e.focusedKey!=null?(L=t.getKeyAbove)===null||L===void 0?void 0:L.call(t,e.focusedKey):(W=t.getLastKey)===null||W===void 0?void 0:W.call(t);b==null&&s&&(b=(_=t.getLastKey)===null||_===void 0?void 0:_.call(t,e.focusedKey)),b!=null&&(p.preventDefault(),c(b))}break;case"ArrowLeft":if(t.getKeyLeftOf){var se,re,G;let b=e.focusedKey!=null?(se=t.getKeyLeftOf)===null||se===void 0?void 0:se.call(t,e.focusedKey):null;b==null&&s&&(b=m==="rtl"?(re=t.getFirstKey)===null||re===void 0?void 0:re.call(t,e.focusedKey):(G=t.getLastKey)===null||G===void 0?void 0:G.call(t,e.focusedKey)),b!=null&&(p.preventDefault(),c(b,m==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var ee,oe,ae;let b=e.focusedKey!=null?(ee=t.getKeyRightOf)===null||ee===void 0?void 0:ee.call(t,e.focusedKey):null;b==null&&s&&(b=m==="rtl"?(oe=t.getLastKey)===null||oe===void 0?void 0:oe.call(t,e.focusedKey):(ae=t.getFirstKey)===null||ae===void 0?void 0:ae.call(t,e.focusedKey)),b!=null&&(p.preventDefault(),c(b,m==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&p.shiftKey)return;p.preventDefault();let b=t.getFirstKey(e.focusedKey,te(p));e.setFocusedKey(b),b!=null&&(te(p)&&p.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(b):d&&e.replaceSelection(b))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&p.shiftKey)return;p.preventDefault();let b=t.getLastKey(e.focusedKey,te(p));e.setFocusedKey(b),b!=null&&(te(p)&&p.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(b):d&&e.replaceSelection(b))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let b=t.getKeyPageBelow(e.focusedKey);b!=null&&(p.preventDefault(),c(b))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let b=t.getKeyPageAbove(e.focusedKey);b!=null&&(p.preventDefault(),c(b))}break;case"a":te(p)&&e.selectionMode==="multiple"&&a!==!0&&(p.preventDefault(),e.selectAll());break;case"Escape":o==="clearSelection"&&!r&&e.selectedKeys.size!==0&&(p.stopPropagation(),p.preventDefault(),e.clearSelection());break;case"Tab":if(!y){if(p.shiftKey)l.current.focus();else{let b=wl(l.current,{tabbable:!0}),Z,X;do X=b.lastChild(),X&&(Z=X);while(X);Z&&!Z.contains(document.activeElement)&&de(Z)}break}}},w=u.useRef({top:0,left:0});pe($,"scroll",h?void 0:()=>{var p,C,c,F;w.current={top:(c=(p=$.current)===null||p===void 0?void 0:p.scrollTop)!==null&&c!==void 0?c:0,left:(F=(C=$.current)===null||C===void 0?void 0:C.scrollLeft)!==null&&F!==void 0?F:0}});let I=p=>{if(e.isFocused){p.currentTarget.contains(p.target)||e.setFocused(!1);return}if(p.currentTarget.contains(p.target)){if(e.setFocused(!0),e.focusedKey==null){var C,c;let N=W=>{W!=null&&(e.setFocusedKey(W),d&&!e.isSelected(W)&&e.replaceSelection(W))},L=p.relatedTarget;var F,V;L&&p.currentTarget.compareDocumentPosition(L)&Node.DOCUMENT_POSITION_FOLLOWING?N((F=e.lastSelectedKey)!==null&&F!==void 0?F:(C=t.getLastKey)===null||C===void 0?void 0:C.call(t)):N((V=e.firstSelectedKey)!==null&&V!==void 0?V:(c=t.getFirstKey)===null||c===void 0?void 0:c.call(t))}else!h&&$.current&&($.current.scrollTop=w.current.top,$.current.scrollLeft=w.current.left);if(e.focusedKey!=null&&$.current){let N=ye(l,e.focusedKey);N instanceof HTMLElement&&(!N.contains(document.activeElement)&&!f&&de(N),je()==="keyboard"&&We(N,{containingElement:l.current}))}}},j=p=>{p.currentTarget.contains(p.relatedTarget)||e.setFocused(!1)},E=u.useRef(!1);pe(l,ui,f?p=>{let{detail:C}=p;p.stopPropagation(),e.setFocused(!0),C?.focusStrategy==="first"&&(E.current=!0)}:void 0);let B=Ne(()=>{var p,C;let c=(C=(p=t.getFirstKey)===null||p===void 0?void 0:p.call(t))!==null&&C!==void 0?C:null;if(c==null){let F=ct();gt(l.current),vt(F,null),e.collection.size>0&&(E.current=!1)}else e.setFocusedKey(c),E.current=!1});Ze(()=>{E.current&&B()},[e.collection,B]);let x=Ne(()=>{e.collection.size>0&&(E.current=!1)});Ze(()=>{x()},[e.focusedKey,x]),pe(l,ai,f?p=>{var C;p.stopPropagation(),e.setFocused(!1),!((C=p.detail)===null||C===void 0)&&C.clearFocusKey&&e.setFocusedKey(null)}:void 0);const T=u.useRef(i),M=u.useRef(!1);u.useEffect(()=>{if(T.current){var p,C;let V=null;var c;i==="first"&&(V=(c=(p=t.getFirstKey)===null||p===void 0?void 0:p.call(t))!==null&&c!==void 0?c:null);var F;i==="last"&&(V=(F=(C=t.getLastKey)===null||C===void 0?void 0:C.call(t))!==null&&F!==void 0?F:null);let N=e.selectedKeys;if(N.size){for(let L of N)if(e.canSelectItem(L)){V=L;break}}e.setFocused(!0),e.setFocusedKey(V),V==null&&!f&&l.current&&ke(l.current),e.collection.size>0&&(T.current=!1,M.current=!0)}});let z=u.useRef(e.focusedKey),A=u.useRef(null);u.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==z.current||M.current)&&$.current&&l.current){let p=je(),C=ye(l,e.focusedKey);if(!(C instanceof HTMLElement))return;(p==="keyboard"||M.current)&&(A.current&&cancelAnimationFrame(A.current),A.current=requestAnimationFrame(()=>{$.current&&(Zl($.current,C),p!=="virtual"&&We(C,{containingElement:l.current}))}))}!f&&e.isFocused&&e.focusedKey==null&&z.current!=null&&l.current&&ke(l.current),z.current=e.focusedKey,M.current=!1}),u.useEffect(()=>()=>{A.current&&cancelAnimationFrame(A.current)},[]),pe(l,"react-aria-focus-scope-restore",p=>{p.preventDefault(),e.setFocused(!0)});let O={onKeyDown:D,onFocus:I,onBlur:j,onMouseDown(p){$.current===p.target&&p.preventDefault()}},{typeSelectProps:R}=vi({keyboardDelegate:t,selectionManager:e});g||(O=q(R,O));let J;f||(J=e.focusedKey==null?0:-1);let ne=pi(e.collection);return{collectionProps:q(O,{tabIndex:J,"data-collection":ne})}}function xi(n){let{id:e,selectionManager:t,key:l,ref:i,shouldSelectOnPressUp:s,shouldUseVirtualFocus:r,focus:a,isDisabled:o,onAction:d,allowsDifferentPressOrigin:g,linkBehavior:f="action"}=n,y=Be();e=he(e);let h=c=>{if(c.pointerType==="keyboard"&&Ee(c))t.toggleSelection(l);else{if(t.selectionMode==="none")return;if(t.isLink(l)){if(f==="selection"&&i.current){let F=t.getItemProps(l);y.open(i.current,c,F.href,F.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(f==="override"||f==="none")return}t.selectionMode==="single"?t.isSelected(l)&&!t.disallowEmptySelection?t.toggleSelection(l):t.replaceSelection(l):c&&c.shiftKey?t.extendSelection(l):t.selectionBehavior==="toggle"||c&&(te(c)||c.pointerType==="touch"||c.pointerType==="virtual")?t.toggleSelection(l):t.replaceSelection(l)}};u.useEffect(()=>{l===t.focusedKey&&t.isFocused&&(r?gt(i.current):a?a():document.activeElement!==i.current&&i.current&&ke(i.current))},[i,l,t.focusedKey,t.childFocusStrategy,t.isFocused,r]),o=o||t.isDisabled(l);let $={};!r&&!o?$={tabIndex:l===t.focusedKey?0:-1,onFocus(c){c.target===i.current&&t.setFocusedKey(l)}}:o&&($.onMouseDown=c=>{c.preventDefault()});let P=t.isLink(l)&&f==="override",m=t.isLink(l)&&f!=="selection"&&f!=="none",K=!o&&t.canSelectItem(l)&&!P,D=(d||m)&&!o,w=D&&(t.selectionBehavior==="replace"?!K:!K||t.isEmpty),I=D&&K&&t.selectionBehavior==="replace",j=w||I,E=u.useRef(null),B=j&&K,x=u.useRef(!1),T=u.useRef(!1),M=t.getItemProps(l),z=c=>{d&&d(),m&&i.current&&y.open(i.current,c,M.href,M.routerOptions)},A={ref:i};if(s?(A.onPressStart=c=>{E.current=c.pointerType,x.current=B,c.pointerType==="keyboard"&&(!j||Ye())&&h(c)},g?(A.onPressUp=w?void 0:c=>{c.pointerType==="mouse"&&K&&h(c)},A.onPress=w?z:c=>{c.pointerType!=="keyboard"&&c.pointerType!=="mouse"&&K&&h(c)}):A.onPress=c=>{if(w||I&&c.pointerType!=="mouse"){if(c.pointerType==="keyboard"&&!Xe())return;z(c)}else c.pointerType!=="keyboard"&&K&&h(c)}):(A.onPressStart=c=>{E.current=c.pointerType,x.current=B,T.current=w,K&&(c.pointerType==="mouse"&&!w||c.pointerType==="keyboard"&&(!D||Ye()))&&h(c)},A.onPress=c=>{(c.pointerType==="touch"||c.pointerType==="pen"||c.pointerType==="virtual"||c.pointerType==="keyboard"&&j&&Xe()||c.pointerType==="mouse"&&T.current)&&(j?z(c):K&&h(c))}),$["data-collection"]=yi(t.collection),$["data-key"]=l,A.preventFocusOnPress=r,r&&(A=q(A,{onPressStart(c){c.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(l))},onPress(c){c.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(l))}})),M)for(let c of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])M[c]&&(A[c]=Pl(A[c],M[c]));let{pressProps:O,isPressed:R}=Ie(A),J=I?c=>{E.current==="mouse"&&(c.stopPropagation(),c.preventDefault(),z(c))}:void 0,{longPressProps:ne}=yt({isDisabled:!B,onLongPress(c){c.pointerType==="touch"&&(h(c),t.setSelectionBehavior("toggle"))}}),p=c=>{E.current==="touch"&&x.current&&c.preventDefault()},C=f!=="none"&&t.isLink(l)?c=>{Dl.isOpening||c.preventDefault()}:void 0;return{itemProps:q($,K||w||r&&!o?O:{},B?ne:{},{onDoubleClick:J,onDragStartCapture:p,onClick:C,id:e},r?{onMouseDown:c=>c.preventDefault()}:void 0),isPressed:R,isSelected:t.isSelected(l),isFocused:t.isFocused&&t.focusedKey===l,isDisabled:o,allowsSelection:K,hasAction:j}}function Xe(){let n=window.event;return n?.key==="Enter"}function Ye(){let n=window.event;return n?.key===" "||n?.code==="Space"}class Je{getItemRect(e){let t=this.ref.current;if(!t)return null;let l=e!=null?ye(this.ref,e):null;if(!l)return null;let i=t.getBoundingClientRect(),s=l.getBoundingClientRect();return{x:s.left-i.left+t.scrollLeft,y:s.top-i.top+t.scrollTop,width:s.width,height:s.height}}getContentSize(){let e=this.ref.current;var t,l;return{width:(t=e?.scrollWidth)!==null&&t!==void 0?t:0,height:(l=e?.scrollHeight)!==null&&l!==void 0?l:0}}getVisibleRect(){let e=this.ref.current;var t,l,i,s;return{x:(t=e?.scrollLeft)!==null&&t!==void 0?t:0,y:(l=e?.scrollTop)!==null&&l!==void 0?l:0,width:(i=e?.offsetWidth)!==null&&i!==void 0?i:0,height:(s=e?.offsetHeight)!==null&&s!==void 0?s:0}}constructor(e){this.ref=e}}class $i{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let l=e;for(;l!=null;){let i=this.collection.getItem(l);if(i?.type==="item"&&!this.isDisabled(i))return l;l=t(l)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,l=>this.collection.getKeyAfter(l))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,l=>this.collection.getKeyBefore(l))}findKey(e,t,l){let i=e,s=this.layoutDelegate.getItemRect(i);if(!s||i==null)return null;let r=s;do{if(i=t(i),i==null)break;s=this.layoutDelegate.getItemRect(i)}while(s&&l(r,s)&&i!=null);return i}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!Ve(t))return this.getFirstKey();let i=e;if(this.orientation==="horizontal"){let s=Math.max(0,l.x+l.width-this.layoutDelegate.getVisibleRect().width);for(;l&&l.x>s&&i!=null;)i=this.getKeyAbove(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}else{let s=Math.max(0,l.y+l.height-this.layoutDelegate.getVisibleRect().height);for(;l&&l.y>s&&i!=null;)i=this.getKeyAbove(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!Ve(t))return this.getLastKey();let i=e;if(this.orientation==="horizontal"){let s=Math.min(this.layoutDelegate.getContentSize().width,l.y-l.width+this.layoutDelegate.getVisibleRect().width);for(;l&&l.x<s&&i!=null;)i=this.getKeyBelow(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}else{let s=Math.min(this.layoutDelegate.getContentSize().height,l.y-l.height+this.layoutDelegate.getVisibleRect().height);for(;l&&l.y<s&&i!=null;)i=this.getKeyBelow(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let l=this.collection,i=t||this.getFirstKey();for(;i!=null;){let s=l.getItem(i);if(!s)return null;let r=s.textValue.slice(0,e.length);if(s.textValue&&this.collator.compare(r,e)===0)return i;i=this.getNextKey(i)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new Je(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Je(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function Si(n){let{selectionManager:e,collection:t,disabledKeys:l,ref:i,keyboardDelegate:s,layoutDelegate:r}=n,a=Xl({usage:"search",sensitivity:"base"}),o=e.disabledBehavior,d=u.useMemo(()=>s||new $i({collection:t,disabledKeys:l,disabledBehavior:o,ref:i,collator:a,layoutDelegate:r}),[s,r,t,l,i,a,o]),{collectionProps:g}=mi({...n,ref:i,selectionManager:e,keyboardDelegate:d});return{listProps:g}}class Ki{build(e,t){return this.context=t,Qe(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:l}=e;if(S.isValidElement(t)&&t.type===S.Fragment)yield*this.iterateCollection({children:t.props.children,items:l});else if(typeof t=="function"){if(!l)throw new Error("props.children was a function but props.items is missing");let i=0;for(let s of l)yield*this.getFullNode({value:s,index:i},{renderer:t}),i++}else{let i=[];S.Children.forEach(t,r=>{r&&i.push(r)});let s=0;for(let r of i){let a=this.getFullNode({element:r,index:s},{});for(let o of a)s++,yield o}}}getKey(e,t,l,i){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${i}${t.key}`;let s=t.value;if(s!=null){var r;let a=(r=s.key)!==null&&r!==void 0?r:s.id;if(a==null)throw new Error("No key found for item");return a}return i?`${i}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,l,i){if(S.isValidElement(e.element)&&e.element.type===S.Fragment){let m=[];S.Children.forEach(e.element.props.children,D=>{m.push(D)});var s;let K=(s=e.index)!==null&&s!==void 0?s:0;for(const D of m)yield*this.getFullNode({element:D,index:K++},t,l,i);return}let r=e.element;if(!r&&e.value&&t&&t.renderer){let m=this.cache.get(e.value);if(m&&(!m.shouldInvalidate||!m.shouldInvalidate(this.context))){m.index=e.index,m.parentKey=i?i.key:null,yield m;return}r=t.renderer(e.value)}if(S.isValidElement(r)){let m=r.type;if(typeof m!="function"&&typeof m.getCollectionNode!="function"){let I=r.type;throw new Error(`Unknown element <${I}> in collection.`)}let K=m.getCollectionNode(r.props,this.context);var a;let D=(a=e.index)!==null&&a!==void 0?a:0,w=K.next();for(;!w.done&&w.value;){let I=w.value;e.index=D;var o;let j=(o=I.key)!==null&&o!==void 0?o:null;j==null&&(j=I.element?null:this.getKey(r,e,t,l));let B=[...this.getFullNode({...I,key:j,index:D,wrapper:Ci(e.wrapper,I.wrapper)},this.getChildState(t,I),l?`${l}${r.key}`:r.key,i)];for(let x of B){var d,g;x.value=(g=(d=I.value)!==null&&d!==void 0?d:e.value)!==null&&g!==void 0?g:null,x.value&&this.cache.set(x.value,x);var f;if(e.type&&x.type!==e.type)throw new Error(`Unsupported type <${Ke(x.type)}> in <${Ke((f=i?.type)!==null&&f!==void 0?f:"unknown parent type")}>. Only <${Ke(e.type)}> is supported.`);D++,yield x}w=K.next(B)}return}if(e.key==null||e.type==null)return;let y=this;var h,$;let P={type:e.type,props:e.props,key:e.key,parentKey:i?i.key:null,value:(h=e.value)!==null&&h!==void 0?h:null,level:i?i.level+1:0,index:e.index,rendered:e.rendered,textValue:($=e.textValue)!==null&&$!==void 0?$:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:Qe(function*(){if(!e.hasChildNodes||!e.childNodes)return;let m=0;for(let K of e.childNodes()){K.key!=null&&(K.key=`${P.key}${K.key}`);let D=y.getFullNode({...K,index:m},y.getChildState(t,K),P.key,P);for(let w of D)m++,yield w}})};yield P}constructor(){this.cache=new WeakMap}}function Qe(n){let e=[],t=null;return{*[Symbol.iterator](){for(let l of e)yield l;t||(t=n());for(let l of t)e.push(l),yield l}}}function Ci(n,e){if(n&&e)return t=>n(e(t));if(n)return n;if(e)return e}function Ke(n){return n[0].toUpperCase()+n.slice(1)}function wi(n,e,t){let l=u.useMemo(()=>new Ki,[]),{children:i,items:s,collection:r}=n;return u.useMemo(()=>{if(r)return r;let o=l.build({children:i,items:s},t);return e(o)},[l,i,s,r,t,e])}function mt(n,e){return typeof e.getChildren=="function"?e.getChildren(n.key):n.childNodes}function Pi(n){return Di(n,0)}function Di(n,e){if(e<0)return;let t=0;for(let l of n){if(t===e)return l;t++}}function Cn(n){let e;for(let t of n)e=t;return e}function Ce(n,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let l=[...et(n,e),e],i=[...et(n,t),t],s=l.slice(0,i.length).findIndex((r,a)=>r!==i[a]);return s!==-1?(e=l[s],t=i[s],e.index-t.index):l.findIndex(r=>r===t)>=0?1:(i.findIndex(r=>r===e)>=0,-1)}function et(n,e){let t=[],l=e;for(;l?.parentKey!=null;)l=n.getItem(l.parentKey),l&&t.unshift(l);return t}const tt=new WeakMap;function ki(n){let e=tt.get(n);if(e!=null)return e;let t=0,l=i=>{for(let s of i)s.type==="section"?l(mt(s,n)):s.type==="item"&&t++};return l(n),tt.set(n,t),t}var xt={};xt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var $t={};$t={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var St={};St={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Kt={};Kt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Ct={};Ct={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var wt={};wt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Pt={};Pt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Dt={};Dt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var kt={};kt={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Et={};Et={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Mt={};Mt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var At={};At={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Ft={};Ft={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var It={};It={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Bt={};Bt={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var Rt={};Rt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Tt={};Tt={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Nt={};Nt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var jt={};jt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Vt={};Vt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var zt={};zt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Lt={};Lt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Ot={};Ot={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Ut={};Ut={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Ht={};Ht={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var qt={};qt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var Wt={};Wt={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var _t={};_t={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var Gt={};Gt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Zt={};Zt={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var Xt={};Xt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var Yt={};Yt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Jt={};Jt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var Qt={};Qt={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var el={};el={"ar-AE":xt,"bg-BG":$t,"cs-CZ":St,"da-DK":Kt,"de-DE":Ct,"el-GR":wt,"en-US":Pt,"es-ES":Dt,"et-EE":kt,"fi-FI":Et,"fr-FR":Mt,"he-IL":At,"hr-HR":Ft,"hu-HU":It,"it-IT":Bt,"ja-JP":Rt,"ko-KR":Tt,"lt-LT":Nt,"lv-LV":jt,"nb-NO":Vt,"nl-NL":zt,"pl-PL":Lt,"pt-BR":Ot,"pt-PT":Ut,"ro-RO":Ht,"ru-RU":qt,"sk-SK":Wt,"sl-SI":_t,"sr-SP":Gt,"sv-SE":Zt,"tr-TR":Xt,"uk-UA":Yt,"zh-CN":Jt,"zh-TW":Qt};function Ei(n){return n&&n.__esModule?n.default:n}function Mi(n,e,t){let{type:l="menu",isDisabled:i,trigger:s="press"}=n,r=he(),{triggerProps:a,overlayProps:o}=hi({type:l},e,t),d=h=>{if(!i&&!(s==="longPress"&&!h.altKey)&&t&&t.current)switch(h.key){case"Enter":case" ":if(s==="longPress"||h.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in h||h.stopPropagation(),h.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in h||h.stopPropagation(),h.preventDefault(),e.toggle("last");break;default:"continuePropagation"in h&&h.continuePropagation()}},g=kl(Ei(el),"@react-aria/menu"),{longPressProps:f}=yt({isDisabled:i||s!=="longPress",accessibilityDescription:g.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),y={preventFocusOnPress:!0,onPressStart(h){h.pointerType!=="touch"&&h.pointerType!=="keyboard"&&!i&&(de(h.target),e.open(h.pointerType==="virtual"?"first":null))},onPress(h){h.pointerType==="touch"&&!i&&(de(h.target),e.toggle())}};return delete a.onPress,{menuTriggerProps:{...a,...s==="press"?y:f,id:r,onKeyDown:d},menuProps:{...o,"aria-labelledby":r,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const tl=new WeakMap;function Ai(n,e,t){let{shouldFocusWrap:l=!0,onKeyDown:i,onKeyUp:s,...r}=n;!n["aria-label"]&&n["aria-labelledby"];let a=Q(n,{labelable:!0}),{listProps:o}=Si({...r,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:l,linkBehavior:"override"});return tl.set(e,{onClose:n.onClose,onAction:n.onAction,shouldUseVirtualFocus:n.shouldUseVirtualFocus}),{menuProps:q(a,{onKeyDown:i,onKeyUp:s},{role:"menu",...o,onKeyDown:d=>{var g;(d.key!=="Escape"||n.shouldUseVirtualFocus)&&((g=o.onKeyDown)===null||g===void 0||g.call(o,d))}})}}function Fi(n,e,t){let{id:l,key:i,closeOnSelect:s,isVirtualized:r,"aria-haspopup":a,onPressStart:o,onPressUp:d,onPress:g,onPressChange:f,onPressEnd:y,onClick:h,onHoverStart:$,onHoverChange:P,onHoverEnd:m,onKeyDown:K,onKeyUp:D,onFocus:w,onFocusChange:I,onBlur:j,selectionManager:E=e.selectionManager}=n,B=!!a,x=B&&n["aria-expanded"]==="true";var T;let M=(T=n.isDisabled)!==null&&T!==void 0?T:E.isDisabled(i);var z;let A=(z=n.isSelected)!==null&&z!==void 0?z:E.isSelected(i),O=tl.get(e),R=e.collection.getItem(i),J=n.onClose||O.onClose,ne=Be(),p=()=>{var k;if(!B&&(!(R==null||(k=R.props)===null||k===void 0)&&k.onAction?R.props.onAction():n.onAction&&n.onAction(i),O.onAction)){let ce=O.onAction;ce(i)}},C="menuitem";B||(E.selectionMode==="single"?C="menuitemradio":E.selectionMode==="multiple"&&(C="menuitemcheckbox"));let c=Se(),F=Se(),V=Se(),N={id:l,"aria-disabled":M||void 0,role:C,"aria-label":n["aria-label"],"aria-labelledby":c,"aria-describedby":[F,V].filter(Boolean).join(" ")||void 0,"aria-controls":n["aria-controls"],"aria-haspopup":a,"aria-expanded":n["aria-expanded"]};E.selectionMode!=="none"&&!B&&(N["aria-checked"]=A),r&&(N["aria-posinset"]=R?.index,N["aria-setsize"]=ki(e.collection));let L=u.useRef(!1),W=k=>{f?.(k),L.current=k},_=u.useRef(null),se=k=>{k.pointerType!=="keyboard"&&(_.current={pointerType:k.pointerType}),k.pointerType==="mouse"&&(L.current||k.target.click()),d?.(k)},re=k=>{var ce,xe;h?.(k),p(),Fl(k,ne,R.props.href,R?.props.routerOptions);let $e=((ce=_.current)===null||ce===void 0?void 0:ce.pointerType)==="keyboard"?((xe=_.current)===null||xe===void 0?void 0:xe.key)==="Enter"||E.selectionMode==="none"||E.isLink(i):E.selectionMode!=="multiple"||E.isLink(i);$e=s??$e,J&&!B&&$e&&J(),_.current=null},{itemProps:G,isFocused:ee}=xi({id:l,selectionManager:E,key:i,ref:t,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:O.shouldUseVirtualFocus}),{pressProps:oe,isPressed:ae}=Ie({onPressStart:o,onPress:g,onPressUp:se,onPressChange:W,onPressEnd:y,isDisabled:M}),{hoverProps:b}=dt({isDisabled:M,onHoverStart(k){!ze()&&!(x&&a)&&(E.setFocused(!0),E.setFocusedKey(i)),$?.(k)},onHoverChange:P,onHoverEnd:m}),{keyboardProps:Z}=El({onKeyDown:k=>{if(k.repeat){k.continuePropagation();return}switch(k.key){case" ":_.current={pointerType:"keyboard",key:" "},k.target.click();break;case"Enter":_.current={pointerType:"keyboard",key:"Enter"},k.target.tagName!=="A"&&k.target.click();break;default:B||k.continuePropagation(),K?.(k);break}},onKeyUp:D}),{focusProps:X}=Ml({onBlur:j,onFocus:w,onFocusChange:I}),ue=Q(R?.props);delete ue.id;let vl=Al(R?.props);return{menuItemProps:{...N,...q(ue,vl,B?{onFocus:G.onFocus,"data-collection":G["data-collection"],"data-key":G["data-key"]}:G,oe,b,Z,X,O.shouldUseVirtualFocus||B?{onMouseDown:k=>k.preventDefault()}:void 0,M?void 0:{onClick:re}),tabIndex:G.tabIndex!=null&&x&&!O.shouldUseVirtualFocus?-1:G.tabIndex},labelProps:{id:c},descriptionProps:{id:F},keyboardShortcutProps:{id:V},isFocused:ee,isFocusVisible:ee&&E.isFocused&&ze()&&!x,isSelected:A,isPressed:ae,isDisabled:M}}function Ii(n){let{heading:e,"aria-label":t}=n,l=he();return{itemProps:{role:"presentation"},headingProps:e?{id:l,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?l:void 0}}}class ie{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new this.constructor(this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e.colSpan=this.colSpan,e.colIndex=this.colIndex,e}filter(e,t,l){let i=this.clone();return t.addDescendants(i,e),i}constructor(e){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=this.constructor.type,this.key=e}}class ll extends ie{filter(e,t,l){let[i,s]=nl(e,t,this.firstChildKey,l),r=this.clone();return r.firstChildKey=i,r.lastChildKey=s,r}}class Bi extends ie{}Bi.type="header";class Ri extends ie{}Ri.type="loader";class il extends ll{filter(e,t,l){if(l(this.textValue,this)){let i=this.clone();return t.addDescendants(i,e),i}return null}}il.type="item";class Ti extends ll{filter(e,t,l){let i=super.filter(e,t,l);if(i&&i.lastChildKey!==null){let s=e.getItem(i.lastChildKey);if(s&&s.type!=="header")return i}return null}}Ti.type="section";class Ni{get size(){return this.itemCount}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let l=t.get(e),i=l?.firstChildKey!=null?t.get(l.firstChildKey):null;for(;i;)yield i,i=i.nextKey!=null?t.get(i.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var l;return(l=t?.key)!==null&&l!==void 0?l:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;e?.lastChildKey!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e?.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t.itemCount=this.itemCount,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");e.type==="item"&&this.keyMap.get(e.key)==null&&this.itemCount++,this.keyMap.set(e.key,e)}addDescendants(e,t){this.addNode(e);let l=t.getChildren(e.key);for(let i of l)this.addDescendants(i,t)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");let t=this.keyMap.get(e);t!=null&&t.type==="item"&&this.itemCount--,this.keyMap.delete(e)}commit(e,t,l=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!l}filter(e){let t=new this.constructor,[l,i]=nl(this,t,this.firstKey,e);return t?.commit(l,i),t}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1,this.itemCount=0}}function nl(n,e,t,l){if(t==null)return[null,null];let i=null,s=null,r=n.getItem(t);for(;r!=null;){let d=r.filter(n,e,l);d!=null&&(d.nextKey=null,s&&(d.prevKey=s.key,s.nextKey=d.key),i==null&&(i=d),e.addNode(d),s=d),r=r.nextKey?n.getItem(r.nextKey):null}if(s&&s.type==="separator"){let d=s.prevKey;e.removeNode(s.key),d?(s=e.getItem(d),s.nextKey=null):s=null}var a,o;return[(a=i?.key)!==null&&a!==void 0?a:null,(o=s?.key)!==null&&o!==void 0?o:null]}class sl{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}invalidateChildIndices(e){(this._minInvalidChildIndex==null||!this._minInvalidChildIndex.isConnected||e.index<this._minInvalidChildIndex.index)&&(this._minInvalidChildIndex=e,this.ownerDocument.markDirty(this))}updateChildIndices(){let e=this._minInvalidChildIndex;for(;e;)e.index=e.previousSibling?e.previousSibling.index+1:0,e=e.nextSibling;this._minInvalidChildIndex=null}appendChild(e){e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),this.isConnected&&this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index-1,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode,this.invalidateChildIndices(e),this.isConnected&&this.ownerDocument.queueUpdate()}removeChild(e){e.parentNode!==this||!this.ownerDocument.isMounted||(this._minInvalidChildIndex===e&&(this._minInvalidChildIndex=null),e.nextSibling&&(this.invalidateChildIndices(e.nextSibling),e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.markDirty(e),this.isConnected&&this.ownerDocument.queueUpdate())}addEventListener(){}removeEventListener(){}get previousVisibleSibling(){let e=this.previousSibling;for(;e&&e.isHidden;)e=e.previousSibling;return e}get nextVisibleSibling(){let e=this.nextSibling;for(;e&&e.isHidden;)e=e.nextSibling;return e}get firstVisibleChild(){let e=this.firstChild;for(;e&&e.isHidden;)e=e.nextSibling;return e}get lastVisibleChild(){let e=this.lastChild;for(;e&&e.isHidden;)e=e.previousSibling;return e}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this._minInvalidChildIndex=null,this.ownerDocument=e}}class le extends sl{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){var e;return this.parentNode instanceof le?this.parentNode.level+(((e=this.node)===null||e===void 0?void 0:e.type)==="item"?1:0):0}get node(){if(this._node==null)throw Error("Attempted to access node before it was defined. Check if setProps wasn't called before attempting to access the node.");return this._node}set node(e){this._node=e}getMutableNode(){return this.isMutated||(this.node=this.node.clone(),this.isMutated=!0),this.ownerDocument.markDirty(this),this.node}updateNode(){var e,t,l;let i=this.nextVisibleSibling,s=this.getMutableNode();s.index=this.index,s.level=this.level,s.parentKey=this.parentNode instanceof le?this.parentNode.node.key:null;var r;s.prevKey=(r=(e=this.previousVisibleSibling)===null||e===void 0?void 0:e.node.key)!==null&&r!==void 0?r:null;var a;s.nextKey=(a=i?.node.key)!==null&&a!==void 0?a:null,s.hasChildNodes=!!this.firstChild;var o;s.firstChildKey=(o=(t=this.firstVisibleChild)===null||t===void 0?void 0:t.node.key)!==null&&o!==void 0?o:null;var d;if(s.lastChildKey=(d=(l=this.lastVisibleChild)===null||l===void 0?void 0:l.node.key)!==null&&d!==void 0?d:null,(s.colSpan!=null||s.colIndex!=null)&&i){var g,f;let y=((g=s.colIndex)!==null&&g!==void 0?g:s.index)+((f=s.colSpan)!==null&&f!==void 0?f:1);if(y!==i.node.colIndex){let h=i.getMutableNode();h.colIndex=y}}}setProps(e,t,l,i,s){let r,{value:a,textValue:o,id:d,...g}=e;if(this._node==null?(r=new l(d??`react-aria-${++this.ownerDocument.nodeId}`),this.node=r):r=this.getMutableNode(),g.ref=t,r.props=g,r.rendered=i,r.render=s,r.value=a,r.textValue=o||(typeof g.children=="string"?g.children:"")||e["aria-label"]||"",d!=null&&d!==r.key)throw new Error("Cannot change the id of an item");g.colSpan!=null&&(r.colSpan=g.colSpan),this.isConnected&&this.ownerDocument.queueUpdate()}get style(){let e=this;return{get display(){return e.isHidden?"none":""},set display(t){let l=t==="none";if(e.isHidden!==l){var i,s;(((i=e.parentNode)===null||i===void 0?void 0:i.firstVisibleChild)===e||((s=e.parentNode)===null||s===void 0?void 0:s.lastVisibleChild)===e)&&e.ownerDocument.markDirty(e.parentNode);let r=e.previousVisibleSibling,a=e.nextVisibleSibling;r&&e.ownerDocument.markDirty(r),a&&e.ownerDocument.markDirty(a),e.isHidden=l,e.ownerDocument.markDirty(e)}}}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this.isMutated=!0,this._index=0,this.isHidden=!1,this._node=null}}class ji extends sl{get isConnected(){return this.isMounted}createElement(e){return new le(e,this)}getMutableCollection(){return this.nextCollection||(this.nextCollection=this.collection.clone()),this.nextCollection}markDirty(e){this.dirtyNodes.add(e)}addNode(e){if(e.isHidden)return;let t=this.getMutableCollection();if(!t.getItem(e.node.key))for(let l of e)this.addNode(l);t.addNode(e.node)}removeNode(e){for(let l of e)this.removeNode(l);this.getMutableCollection().removeNode(e.node.key)}getCollection(){return this.inSubscription?this.collection.clone():(this.queuedRender=!1,this.updateCollection(),this.collection)}updateCollection(){for(let s of this.dirtyNodes)s instanceof le&&(!s.isConnected||s.isHidden)?this.removeNode(s):s.updateChildIndices();for(let s of this.dirtyNodes)s instanceof le&&(s.isConnected&&!s.isHidden&&(s.updateNode(),this.addNode(s)),s.isMutated=!1);if(this.dirtyNodes.clear(),this.nextCollection){var e,t,l,i;this.nextCollection.commit((l=(e=this.firstVisibleChild)===null||e===void 0?void 0:e.node.key)!==null&&l!==void 0?l:null,(i=(t=this.lastVisibleChild)===null||t===void 0?void 0:t.node.key)!==null&&i!==void 0?i:null,this.isSSR),this.isSSR||(this.collection=this.nextCollection,this.nextCollection=null)}}queueUpdate(){if(!(this.dirtyNodes.size===0||this.queuedRender)){this.queuedRender=!0,this.inSubscription=!0;for(let e of this.subscriptions)e();this.inSubscription=!1}}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.nextCollection=null,this.subscriptions=new Set,this.queuedRender=!1,this.inSubscription=!1,this.collection=e,this.nextCollection=e}}function rl(n){let{children:e,items:t,idScope:l,addIdAndValue:i,dependencies:s=[]}=n,r=u.useMemo(()=>new WeakMap,s);return u.useMemo(()=>{if(t&&typeof e=="function"){let d=[];for(let g of t){let f=r.get(g);if(!f){f=e(g);var a,o;let y=(o=(a=f.props.id)!==null&&a!==void 0?a:g.key)!==null&&o!==void 0?o:g.id;if(y==null)throw new Error("Could not determine key for item");l&&(y=l+":"+y),f=u.cloneElement(f,i?{key:y,id:y,value:g}:{key:y}),r.set(g,f)}d.push(f)}return d}else if(typeof e!="function")return e},[e,t,r,l,i])}var we={exports:{}},Pe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt;function Vi(){if(lt)return Pe;lt=1;var n=bl();function e(f,y){return f===y&&(f!==0||1/f===1/y)||f!==f&&y!==y}var t=typeof Object.is=="function"?Object.is:e,l=n.useState,i=n.useEffect,s=n.useLayoutEffect,r=n.useDebugValue;function a(f,y){var h=y(),$=l({inst:{value:h,getSnapshot:y}}),P=$[0].inst,m=$[1];return s(function(){P.value=h,P.getSnapshot=y,o(P)&&m({inst:P})},[f,h,y]),i(function(){return o(P)&&m({inst:P}),f(function(){o(P)&&m({inst:P})})},[f]),r(h),h}function o(f){var y=f.getSnapshot;f=f.value;try{var h=y();return!t(f,h)}catch{return!0}}function d(f,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return Pe.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,Pe}var it;function zi(){return it||(it=1,we.exports=Vi()),we.exports}var Li=zi();const ol=u.createContext(!1),fe=u.createContext(null);function Oi(n){if(u.useContext(fe))return n.content;let{collection:t,document:l}=Wi(n.createCollection);return S.createElement(S.Fragment,null,S.createElement(Il,null,S.createElement(fe.Provider,{value:l},n.content)),S.createElement(Ui,{render:n.children,collection:t}))}function Ui({collection:n,render:e}){return e(n)}function Hi(n,e,t){let l=ft(),i=u.useRef(l);i.current=l;let s=u.useCallback(()=>i.current?t():e(),[e,t]);return Li.useSyncExternalStore(n,s)}const qi=typeof S.useSyncExternalStore=="function"?S.useSyncExternalStore:Hi;function Wi(n){let[e]=u.useState(()=>new ji(n?.()||new Ni)),t=u.useCallback(r=>e.subscribe(r),[e]),l=u.useCallback(()=>{let r=e.getCollection();return e.isSSR&&e.resetAfterSSR(),r},[e]),i=u.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]),s=qi(t,l,i);return De(()=>(e.isMounted=!0,()=>{e.isMounted=!1}),[e]),{collection:s,document:e}}const Me=u.createContext(null);function _i(n){var e;return e=class extends ie{},e.type=n,e}function al(n,e,t,l,i,s){typeof n=="string"&&(n=_i(n));let r=u.useCallback(o=>{o?.setProps(e,t,n,l,s)},[e,t,l,s,n]),a=u.useContext(Me);if(a){let o=a.ownerDocument.nodesByProps.get(e);return o||(o=a.ownerDocument.createElement(n.type),o.setProps(e,t,n,l,s),a.appendChild(o),a.ownerDocument.updateCollection(),a.ownerDocument.nodesByProps.set(e,o)),i?S.createElement(Me.Provider,{value:o},i):null}return S.createElement(n.type,{ref:r},i)}function ul(n,e){let t=({node:i})=>e(i.props,i.props.ref,i),l=u.forwardRef((i,s)=>{let r=u.useContext(Le);if(!u.useContext(ol)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(i,s)}return al(n,i,s,"children"in i?i.children:null,null,o=>S.createElement(Le.Provider,{value:r},S.createElement(t,{node:o})))});return l.displayName=e.name,l}function wn(n,e,t=cl){let l=({node:s})=>e(s.props,s.props.ref,s),i=u.forwardRef((s,r)=>{let a=t(s);var o;return(o=al(n,s,r,null,a,d=>S.createElement(l,{node:d})))!==null&&o!==void 0?o:S.createElement(S.Fragment,null)});return i.displayName=e.name,i}function cl(n){return rl({...n,addIdAndValue:!0})}const nt=u.createContext(null);function Gi(n){let e=u.useContext(nt),t=(e?.dependencies||[]).concat(n.dependencies),l=n.idScope||e?.idScope,i=cl({...n,idScope:l,dependencies:t});return u.useContext(fe)&&(i=S.createElement(Zi,null,i)),e=u.useMemo(()=>({dependencies:t,idScope:l}),[l,...t]),S.createElement(nt.Provider,{value:e},i)}function Zi({children:n}){let e=u.useContext(fe),t=u.useMemo(()=>S.createElement(fe.Provider,{value:null},S.createElement(ol.Provider,{value:!0},n)),[n]);return ft()?S.createElement(Me.Provider,{value:e},t):at.createPortal(t,e)}const Xi=u.createContext(null),Yi={CollectionRoot({collection:n,renderDropIndicator:e}){return st(n,null,e)},CollectionBranch({collection:n,parent:e,renderDropIndicator:t}){return st(n,e,t)}};function st(n,e,t){return rl({items:e?n.getChildren(e.key):n,dependencies:[t],children(l){let i=l.render(l);return!t||l.type!=="item"?i:S.createElement(S.Fragment,null,t({type:"item",key:l.key,dropPosition:"before"}),i,Ji(n,l,t))}})}function Ji(n,e,t){let l=e.key,i=n.getKeyAfter(l),s=i!=null?n.getItem(i):null;for(;s!=null&&s.type!=="item";)i=n.getKeyAfter(s.key),s=i!=null?n.getItem(i):null;let r=e.nextKey!=null?n.getItem(e.nextKey):null;for(;r!=null&&r.type!=="item";)r=r.nextKey!=null?n.getItem(r.nextKey):null;let a=[];if(r==null){let o=e;for(;o&&(!s||o.parentKey!==s.parentKey&&s.level<o.level);){let d=t({type:"item",key:o.key,dropPosition:"after"});u.isValidElement(d)&&a.push(u.cloneElement(d,{key:`${o.key}-after`})),o=o.parentKey!=null?n.getItem(o.parentKey):null}}return a}const dl=u.createContext(Yi);function Qi(n){return u.useMemo(()=>n!=null?new Set([n]):null,[n])}function en(n){let e=Q(n,{labelable:!0}),t;return n.orientation==="vertical"&&(t="vertical"),n.elementType!=="hr"?{separatorProps:{...e,role:"separator","aria-orientation":t}}:{separatorProps:e}}class H extends Set{constructor(e,t,l){super(e),e instanceof H?(this.anchorKey=t??e.anchorKey,this.currentKey=l??e.currentKey):(this.anchorKey=t??null,this.currentKey=l??null)}}function tn(n,e){if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0}function fl(n){let{selectionMode:e="none",disallowEmptySelection:t=!1,allowDuplicateSelectionEvents:l,selectionBehavior:i="toggle",disabledBehavior:s="all"}=n,r=u.useRef(!1),[,a]=u.useState(!1),o=u.useRef(null),d=u.useRef(null),[,g]=u.useState(null),f=u.useMemo(()=>rt(n.selectedKeys),[n.selectedKeys]),y=u.useMemo(()=>rt(n.defaultSelectedKeys,new H),[n.defaultSelectedKeys]),[h,$]=ht(f,y,n.onSelectionChange),P=u.useMemo(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),[m,K]=u.useState(i);i==="replace"&&m==="toggle"&&typeof h=="object"&&h.size===0&&K("replace");let D=u.useRef(i);return u.useEffect(()=>{i!==D.current&&(K(i),D.current=i)},[i]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:m,setSelectionBehavior:K,get isFocused(){return r.current},setFocused(w){r.current=w,a(w)},get focusedKey(){return o.current},get childFocusStrategy(){return d.current},setFocusedKey(w,I="first"){o.current=w,d.current=I,g(w)},selectedKeys:h,setSelectedKeys(w){(l||!tn(w,h))&&$(w)},disabledKeys:P,disabledBehavior:s}}function rt(n,e){return n?n==="all"?"all":new H(n):e}class me{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if(this.state.selectionMode==="none")return!1;let t=this.getKey(e);return t==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(l=>t.has(l)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let i=this.collection.getItem(l);(!e||i&&Ce(this.collection,i,e)<0)&&(e=i)}var t;return(t=e?.key)!==null&&t!==void 0?t:null}get lastSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let i=this.collection.getItem(l);(!e||i&&Ce(this.collection,i,e)>0)&&(e=i)}var t;return(t=e?.key)!==null&&t!==void 0?t:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l;if(this.state.selectedKeys==="all")l=new H([t],t,t);else{let r=this.state.selectedKeys;var i;let a=(i=r.anchorKey)!==null&&i!==void 0?i:t;l=new H(r,a,t);var s;for(let o of this.getKeyRange(a,(s=r.currentKey)!==null&&s!==void 0?s:t))l.delete(o);for(let o of this.getKeyRange(t,a))this.canSelectItem(o)&&l.add(o)}this.state.setSelectedKeys(l)}getKeyRange(e,t){let l=this.collection.getItem(e),i=this.collection.getItem(t);return l&&i?Ce(this.collection,l,i)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){var l;if(!((l=this.layoutDelegate)===null||l===void 0)&&l.getKeyRange)return this.layoutDelegate.getKeyRange(e,t);let i=[],s=e;for(;s!=null;){let r=this.collection.getItem(s);if(r&&(r.type==="item"||r.type==="cell"&&this.allowsCellSelection)&&i.push(s),s===t)return i;s=this.collection.getKeyAfter(s)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t&&t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l=new H(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);l.has(t)?l.delete(t):this.canSelectItem(t)&&(l.add(t),l.anchorKey=t,l.currentKey=t),!(this.disallowEmptySelection&&l.size===0)&&this.state.setSelectedKeys(l)}replaceSelection(e){if(this.selectionMode==="none")return;let t=this.getKey(e);if(t==null)return;let l=this.canSelectItem(t)?new H([t],t,t):new H;this.state.setSelectedKeys(l)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new H;for(let l of e){let i=this.getKey(l);if(i!=null&&(t.add(i),this.selectionMode==="single"))break}this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=l=>{for(;l!=null;){if(this.canSelectItem(l)){var i;let r=this.collection.getItem(l);r?.type==="item"&&e.push(l);var s;r?.hasChildNodes&&(this.allowsCellSelection||r.type!=="item")&&t((s=(i=Pi(mt(r,this.collection)))===null||i===void 0?void 0:i.key)!==null&&s!==void 0?s:null)}l=this.collection.getKeyAfter(l)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new H)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let l of e)if(!t.has(l))return!1;for(let l of t)if(!e.has(l))return!1;return!0}canSelectItem(e){var t;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let l=this.collection.getItem(e);return!(!l||!(l==null||(t=l.props)===null||t===void 0)&&t.isDisabled||l.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var t,l;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.isDisabled))}isLink(e){var t,l;return!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.href)}getItemProps(e){var t;return(t=this.collection.getItem(e))===null||t===void 0?void 0:t.props}withCollection(e){return new me(e,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(e,t,l){this.collection=e,this.state=t;var i;this.allowsCellSelection=(i=l?.allowsCellSelection)!==null&&i!==void 0?i:!1,this._isSelectAll=null,this.layoutDelegate=l?.layoutDelegate||null}}function hl(n){let e=Bl(n),[t,l]=u.useState(null),[i,s]=u.useState([]),r=()=>{s([]),e.close()};return{focusStrategy:t,...e,open(d=null){l(d),e.open()},toggle(d=null){l(d),e.toggle()},close(){r()},expandedKeysStack:i,openSubmenu:(d,g)=>{s(f=>g>f.length?f:[...f.slice(0,g),d])},closeSubmenu:(d,g)=>{s(f=>f[g]===d?f.slice(0,g):f)}}}class ln{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var l;return t&&(l=t.prevKey)!==null&&l!==void 0?l:null}getKeyAfter(e){let t=this.keyMap.get(e);var l;return t&&(l=t.nextKey)!==null&&l!==void 0?l:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,t=t||new Set;let l=a=>{if(this.keyMap.set(a.key,a),a.childNodes&&(a.type==="section"||t.has(a.key)))for(let o of a.childNodes)l(o)};for(let a of e)l(a);let i=null,s=0;for(let[a,o]of this.keyMap)i?(i.nextKey=a,o.prevKey=i.key):(this.firstKey=a,o.prevKey=void 0),o.type==="item"&&(o.index=s++),i=o,i.nextKey=void 0;var r;this.lastKey=(r=i?.key)!==null&&r!==void 0?r:null}}function nn(n){let{onExpandedChange:e}=n,[t,l]=ht(n.expandedKeys?new Set(n.expandedKeys):void 0,n.defaultExpandedKeys?new Set(n.defaultExpandedKeys):new Set,e),i=fl(n),s=u.useMemo(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),r=wi(n,u.useCallback(o=>new ln(o,{expandedKeys:t}),[t]),null);return u.useEffect(()=>{i.focusedKey!=null&&!r.getItem(i.focusedKey)&&i.setFocusedKey(null)},[r,i.focusedKey]),{collection:r,expandedKeys:t,disabledKeys:s,toggleKey:o=>{l(sn(t,o))},setExpandedKeys:l,selectionManager:new me(r,i)}}function sn(n,e){let t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t}const rn=u.createContext({}),pl=u.createContext({});class yl extends ie{filter(e,t){let l=t.getItem(this.prevKey);if(l&&l.type!=="separator"){let i=this.clone();return t.addDescendants(i,e),i}return null}}yl.type="separator";const on=ul(yl,function(e,t){[e,t]=ve(e,t,pl);let{elementType:l,orientation:i,style:s,className:r,slot:a,...o}=e,d=l||"hr";d==="hr"&&i==="vertical"&&(d="div");let{separatorProps:g}=en({...o,elementType:l,orientation:i}),f=Q(e,{global:!0});return S.createElement(d,{...q(f,g),style:s,className:r??"react-aria-Separator",ref:t,slot:a||void 0})}),an=u.createContext({}),gl=u.createContext(null),Te=u.createContext(null),Ae=u.createContext(null),ge=u.createContext(null);function un(n){let e=hl(n),t=u.useRef(null),{menuTriggerProps:l,menuProps:i}=Mi({...n,type:"menu"},e,t),[s,r]=u.useState(null),a=u.useCallback(()=>{t.current&&r(t.current.offsetWidth+"px")},[t]);Yl({ref:t,onResize:a});let o=u.useRef(null);return S.createElement(be,{values:[[gl,{...i,ref:o}],[Rl,e],[Ae,e],[Jl,{trigger:"MenuTrigger",triggerRef:t,scrollRef:o,placement:"bottom start",style:{"--trigger-width":s},"aria-labelledby":i["aria-labelledby"]}]]},S.createElement(Tl,{...l,ref:t,isPressed:e.isOpen},n.children))}const cn=u.createContext(null);class dn extends ie{filter(e,t,l){let i=e.getItem(this.firstChildKey);if(i&&l(i.textValue,this)){let s=this.clone();return t.addDescendants(s,e),s}return null}}dn.type="submenutrigger";const fn=u.forwardRef(function(e,t){return[e,t]=ve(e,t,gl),S.createElement(Oi,{content:S.createElement(Gi,e)},l=>S.createElement(hn,{props:e,collection:l,menuRef:t}))});function hn({props:n,collection:e,menuRef:t}){[n,t]=ve(n,t,Ge);let{filter:l,...i}=n,s=u.useMemo(()=>l?e.filter(l):e,[e,l]),r=nn({...n,collection:s,children:void 0}),a=u.useContext(Ae),{isVirtualized:o,CollectionRoot:d}=u.useContext(dl),{menuProps:g}=Ai({...n,isVirtualized:o,onClose:n.onClose||a?.close},r,t),f=Re({defaultClassName:"react-aria-Menu",className:n.className,style:n.style,values:{isEmpty:r.collection.size===0}}),y=null;r.collection.size===0&&n.renderEmptyState&&(y=S.createElement("div",{role:"menuitem",style:{display:"contents"}},n.renderEmptyState()));let h=Q(n,{global:!0});return S.createElement(zl,null,S.createElement("div",{...q(h,f,g),ref:t,slot:n.slot||void 0,"data-empty":r.collection.size===0||void 0,onScroll:n.onScroll},S.createElement(be,{values:[[Te,r],[pl,{elementType:"div"}],[Xi,{name:"MenuSection",render:yn}],[cn,{parentMenuRef:t,shouldUseVirtualFocus:i?.shouldUseVirtualFocus}],[Fe,null],[Ge,null],[oi,null],[ge,r.selectionManager],[Ae,a??hl({})]]},S.createElement(d,{collection:r.collection,persistedKeys:Qi(r.selectionManager.focusedKey),scrollRef:t})),y))}class pn extends me{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,t){return this.parent.setFocusedKey(e,t)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,t){super(e.collection,t),this.parent=e}}function yn(n,e,t,l="react-aria-MenuSection"){var i,s;let r=u.useContext(Te),{CollectionBranch:a}=u.useContext(dl),[o,d]=Ll();var g;let{headingProps:f,groupProps:y}=Ii({heading:d,"aria-label":(g=t.props["aria-label"])!==null&&g!==void 0?g:void 0}),h=Re({defaultClassName:l,className:(i=t.props)===null||i===void 0?void 0:i.className,style:(s=t.props)===null||s===void 0?void 0:s.style,values:{}}),$=u.useContext(ge),P=fl(n),m=n.selectionMode!=null?new pn($,P):$,K=Q(n,{global:!0});return delete K.id,S.createElement("section",{...q(K,h,y),ref:e},S.createElement(be,{values:[[rn,{...f,ref:o}],[ge,m]]},S.createElement(a,{collection:r.collection,parent:t})))}const Fe=u.createContext(null),ot=ul(il,function(e,t,l){var i;[e,t]=ve(e,t,Fe);let s=(i=Nl(Fe))===null||i===void 0?void 0:i.id,r=u.useContext(Te),a=jl(t),o=u.useContext(ge),{menuItemProps:d,labelProps:g,descriptionProps:f,keyboardShortcutProps:y,...h}=Fi({...e,id:s,key:l.key,selectionManager:o},r,a),{hoverProps:$,isHovered:P}=dt({isDisabled:h.isDisabled}),m=Re({...e,id:void 0,children:l.rendered,defaultClassName:"react-aria-MenuItem",values:{...h,isHovered:P,isFocusVisible:h.isFocusVisible,selectionMode:o.selectionMode,selectionBehavior:o.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),K=e.href?"a":"div",D=Q(e,{global:!0});return delete D.id,delete D.onClick,S.createElement(K,{...q(D,m,d,$),ref:a,"data-disabled":h.isDisabled||void 0,"data-hovered":P||void 0,"data-focused":h.isFocused||void 0,"data-focus-visible":h.isFocusVisible||void 0,"data-pressed":h.isPressed||void 0,"data-selected":h.isSelected||void 0,"data-selection-mode":o.selectionMode==="none"?void 0:o.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},S.createElement(be,{values:[[Ql,{slots:{[Vl]:g,label:g,description:f}}],[an,y]]},m.children))}),gn=({label:n,children:e,addon:t,icon:l,unstyled:i,...s})=>i?v.jsx(ot,{id:n,textValue:n,...s}):v.jsx(ot,{...s,className:r=>Y("group block cursor-pointer px-1.5 py-px",r.isDisabled&&"cursor-not-allowed",typeof s.className=="function"?s.className(r):s.className),children:r=>v.jsxs("div",{className:Y("relative flex items-center rounded-md px-2.5 py-2 transition duration-100 ease-linear",!r.isDisabled&&"group-hover:bg-primary_hover",r.isFocused&&"bg-primary_hover"),children:[l&&v.jsx(l,{"aria-hidden":"true",className:Y("mr-2 size-4 shrink-0 stroke-[2.25px]",r.isDisabled?"text-fg-disabled":"text-fg-quaternary")}),v.jsx("span",{className:Y("grow truncate text-sm font-semibold",r.isDisabled?"text-disabled":"text-secondary",r.isFocused&&"text-secondary_hover"),children:n||(typeof e=="function"?e(r):e)}),t&&v.jsx("span",{className:Y("ml-3 shrink-0 rounded px-1 py-px text-xs font-medium ring-1 ring-secondary ring-inset",r.isDisabled?"text-disabled":"text-quaternary"),children:t})]})}),vn=n=>v.jsx(fn,{disallowEmptySelection:!0,selectionMode:"single",...n,className:e=>Y("h-min overflow-y-auto py-1 select-none",typeof n.className=="function"?n.className(e):n.className)}),bn=n=>v.jsx(ei,{placement:"bottom right",...n,className:e=>Y("w-62 origin-(--trigger-anchor-point) overflow-auto rounded-lg bg-primary shadow-lg border border-white/70 will-change-transform outline-none ring-0",e.isEntering&&"duration-150 ease-out animate-in fade-in placement-right:slide-in-from-left-0.5 placement-top:slide-in-from-bottom-0.5 placement-bottom:slide-in-from-top-0.5",e.isExiting&&"duration-100 ease-in animate-out fade-out placement-right:slide-out-to-left-0.5 placement-top:slide-out-to-bottom-0.5 placement-bottom:slide-out-to-top-0.5",typeof n.className=="function"?n.className(e):n.className),children:n.children}),mn=n=>v.jsx(on,{...n,className:Y("my-1 h-px w-full bg-border-secondary",n.className)}),xn=n=>v.jsx(Ol,{...n,"aria-label":"Open menu",className:e=>Y("cursor-pointer rounded-md text-fg-quaternary transition duration-100 ease-linear outline-none",(e.isPressed||e.isHovered)&&"text-fg-quaternary_hover",typeof n.className=="function"?n.className(e):n.className),children:v.jsx(pt,{className:"size-5 transition-inherit-all"})}),Pn={Root:un,Popover:bn,Menu:vn,Item:gn,Separator:mn,DotsButton:xn};function Dn({open:n,onClose:e,people:t,projects:l=[],fixedProjectId:i,onCreated:s,taskToEdit:r}){const a=!!r,[o,d]=u.useState(i||""),[g,f]=u.useState(""),[y,h]=u.useState("In Progress"),[$,P]=u.useState(""),[m,K]=u.useState([]),[D,w]=u.useState(""),[I,j]=u.useState(!1);u.useEffect(()=>{n&&(a&&r?(d(r.project_id),f(r.description||""),h(r.status),P(r.assignee_id||""),K([]),w(r.ranked_points??"")):(d(i||""),f(""),h("In Progress"),P(""),K([]),w("")))},[n,a,r]);async function E(){if(I||!g.trim())return;const x=i||o;if(x){j(!0);try{if(a&&r){try{console.log("[TaskCreateModal] update",{id:r.id,project_id:x,description:g.trim(),status:y,assignee_id:$||void 0,ranked_points:D||void 0})}catch{}await ml(r.id,{description:g.trim(),status:y,assignee_id:$||void 0,ranked_points:D||void 0}),s?.(),e()}else{const T=m.length>0?m:[""];for(const M of T){try{console.log("[TaskCreateModal] create",{project_id:x,description:g.trim(),status:y,assignee_id:M||void 0,ranked_points:D||void 0})}catch{}await xl({project_id:x,description:g.trim(),status:y,assignee_id:M||void 0,ranked_points:D||void 0})}f(""),h("In Progress"),P(""),K([]),w(""),i||d(""),s?.(),e()}}finally{j(!1)}}}const B=!g.trim()||I||!(i||o);return n?v.jsx(Ul,{isOpen:n,onOpenChange:x=>{x||e()},className:"items-center",children:v.jsx(Hl,{children:v.jsx(ql,{"aria-label":a?"Edit Task":"Add Task",className:"w-full max-w-md",children:v.jsxs(ti,{className:"shadow-2xl border-border overflow-hidden",children:[v.jsxs(li,{className:"flex items-center justify-between flex-row p-4 pb-2 border-b border-input",children:[v.jsx(ii,{className:"text-lg",children:a?"Edit Task":"Add Task"}),v.jsx("button",{onClick:e,"aria-label":"Close",className:"h-8 w-8 inline-flex items-center justify-center rounded hover:bg-foreground/10",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),v.jsxs(ni,{className:"p-4 pt-2 space-y-2",children:[!i&&!a&&v.jsxs(Oe,{value:o,onValueChange:d,children:[v.jsx(Ue,{className:"w-full",children:v.jsx(He,{placeholder:"Select project…"})}),v.jsx(qe,{disablePortal:!0,children:l.map(x=>v.jsx(U,{value:x.id,children:x.name},x.id))})]}),v.jsx("div",{className:"flex gap-2",children:v.jsx(Wl,{className:"h-9 text-sm rounded-md flex-1",placeholder:"Task title",value:g,onChange:x=>f(x.target.value)})}),v.jsxs("div",{className:"flex gap-2",children:[a?v.jsx(_e,{mode:"single",people:t,selectedId:$||null,onSelect:x=>P(x||""),triggerLabel:$?t.find(x=>x.id===$)?.name||"Assignee":"Assign to…",buttonClassName:"px-3 h-9 rounded-md text-sm border border-input flex items-center whitespace-nowrap",maxItems:5}):v.jsx(_e,{mode:"multi",people:t,selectedIds:m,onAdd:x=>K(T=>T.includes(x)?T:[...T,x]),onRemove:x=>K(T=>T.filter(M=>M!==x)),triggerLabel:m.length?(()=>{const x=m.map(z=>t.find(A=>A.id===z)?.name||z),T=x[0],M=x.length-1;return M>0?`${T} (+${M})`:T})():"Assign to…",buttonClassName:"px-3 h-9 rounded-md text-sm border border-input flex items-center whitespace-nowrap",maxItems:5}),v.jsxs(Oe,{value:D===""?"none":String(D),onValueChange:x=>w(x==="none"?"":Number(x)),children:[v.jsx(Ue,{className:"flex-1 text-sm rounded-md h-9",children:v.jsx(He,{placeholder:"Points (by estimated hours)"})}),v.jsxs(qe,{disablePortal:!0,children:[v.jsx(U,{value:"none",children:"No estimate"}),v.jsx(U,{value:"1",children:"1 pt ~ 0.5 hr"}),v.jsx(U,{value:"3",children:"3 pts ~ 1 hr"}),v.jsx(U,{value:"6",children:"6 pts ~ 2 hrs"}),v.jsx(U,{value:"10",children:"10 pts ~ 3 hrs"}),v.jsx(U,{value:"15",children:"15 pts ~ 5 hrs"}),v.jsx(U,{value:"40",children:"40 pts ~ 10 hrs"}),v.jsx(U,{value:"65",children:"65 pts ~ 15 hrs"}),v.jsx(U,{value:"98",children:"98 pts ~ 20 hrs"}),v.jsx(U,{value:"150",children:"150 pts ~ 25 hrs"}),v.jsx(U,{value:"200",children:"200 pts ~ 30 hrs"})]})]})]}),!a&&v.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:"Selecting multiple people will create one task per person with identical title and points."})]}),v.jsx(si,{className:"p-4 pt-2 border-t border-input",children:v.jsx("button",{onClick:E,disabled:B,className:`w-full h-9 rounded-md text-sm text-center font-semibold transition-colors border border-transparent ${B?"bg-[hsl(var(--accent-soft))]/40 text-white/60 cursor-not-allowed":"bg-[hsl(var(--accent-soft))] text-white hover:bg-[hsl(var(--accent-hover))] focus:outline-none"}`,children:I?"Saving…":a?"Save changes":m.length>1?`Save (${m.length} tasks)`:"Save"})})]})})})}):null}export{mt as $,Pn as D,Dn as T,Cn as a,Pi as b,Di as c,Je as d,mi as e,xi as f,fl as g,me as h,wi as i,Gi as j,Oi as k,Ni as l,Ge as m,dl as n,$i as o,oi as p,ie as q,ll as r,ri as s,ul as t,Ri as u,wn as v,Yi as w,rl as x};
