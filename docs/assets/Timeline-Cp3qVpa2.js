import{r as a,a as m,b as x,j as s}from"./index-BpYg3kJk.js";function p(){const[c,i]=a.useState([]),[l,d]=a.useState([]),[n,o]=a.useState(!0);return a.useEffect(()=>{let t=!0;return(async()=>{try{const[e,r]=await Promise.all([m(),x()]);if(!t)return;i(e),d(r)}finally{t&&o(!1)}})(),()=>{t=!1}},[]),n?s.jsx("div",{className:"text-sm text-muted",children:"Loading…"}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Timeline"}),s.jsx("p",{className:"text-sm text-muted",children:"Lightweight scaffold to manage projects and tasks in a time-ordered list. Future: full calendar or external integration."}),s.jsx("div",{className:"space-y-4",children:c.map(t=>s.jsxs("section",{className:"border border-border rounded-md bg-overlay-6 p-4",children:[s.jsx("h2",{className:"font-medium text-lg",children:t.name}),t.description&&s.jsx("p",{className:"text-sm text-muted mb-2",children:t.description}),s.jsx("ul",{className:"mt-2 space-y-2",children:l.filter(e=>e.project_id===t.id).sort((e,r)=>(e.created_at||0)-(r.created_at||0)).map(e=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${e.status==="Complete"?"bg-green-400":e.status==="In Progress"?"bg-yellow-300":"bg-gray-400"}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm",children:e.description}),s.jsxs("div",{className:"text-xs text-muted uppercase tracking-caps",children:[e.created_at?new Date(e.created_at).toLocaleString():"No date",e.completed_at?` → completed ${new Date(e.completed_at).toLocaleString()}`:""]})]})]},e.id))})]},t.id))})]})}export{p as default};
